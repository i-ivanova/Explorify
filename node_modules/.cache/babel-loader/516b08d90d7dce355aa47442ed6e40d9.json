{"ast":null,"code":"import _objectSpread from\"/home/iivanova/Desktop/UBC_2021_2022/CPSC547_information_visualization/project/explorify/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/iivanova/Desktop/UBC_2021_2022/CPSC547_information_visualization/project/explorify/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"/home/iivanova/Desktop/UBC_2021_2022/CPSC547_information_visualization/project/explorify/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/iivanova/Desktop/UBC_2021_2022/CPSC547_information_visualization/project/explorify/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/iivanova/Desktop/UBC_2021_2022/CPSC547_information_visualization/project/explorify/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/iivanova/Desktop/UBC_2021_2022/CPSC547_information_visualization/project/explorify/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import memoizeOne from'memoize-one';import{DAYS_IN_WEEK,MILLISECONDS_IN_ONE_DAY,DAY_LABELS,MONTH_LABELS}from'./constants';import{dateNDaysAgo,shiftDate,getBeginningTimeForDate,convertToDate,getRange}from'./helpers';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SQUARE_SIZE=10;var MONTH_LABEL_GUTTER_SIZE=4;var CSS_PSEDUO_NAMESPACE='react-calendar-heatmap-';var CalendarHeatmap=/*#__PURE__*/function(_React$Component){_inherits(CalendarHeatmap,_React$Component);var _super=_createSuper(CalendarHeatmap);function CalendarHeatmap(){var _this;_classCallCheck(this,CalendarHeatmap);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.getValueCache=memoizeOne(function(props){return props.values.reduce(function(memo,value){var date=convertToDate(value.date);var index=Math.floor((date-_this.getStartDateWithEmptyDays())/MILLISECONDS_IN_ONE_DAY);// eslint-disable-next-line no-param-reassign\nmemo[index]={value:value,className:_this.props.classForValue(value),title:_this.props.titleForValue?_this.props.titleForValue(value):null,tooltipDataAttrs:_this.getTooltipDataAttrsForValue(value)};return memo;},{});});return _this;}_createClass(CalendarHeatmap,[{key:\"getDateDifferenceInDays\",value:function getDateDifferenceInDays(){var _this$props=this.props,startDate=_this$props.startDate,numDays=_this$props.numDays;if(numDays){// eslint-disable-next-line no-console\nconsole.warn('numDays is a deprecated prop. It will be removed in the next release. Consider using the startDate prop instead.');return numDays;}var timeDiff=this.getEndDate()-convertToDate(startDate);return Math.ceil(timeDiff/MILLISECONDS_IN_ONE_DAY);}},{key:\"getSquareSizeWithGutter\",value:function getSquareSizeWithGutter(){return SQUARE_SIZE+this.props.gutterSize;}},{key:\"getMonthLabelSize\",value:function getMonthLabelSize(){if(!this.props.showMonthLabels){return 0;}if(this.props.horizontal){return SQUARE_SIZE+MONTH_LABEL_GUTTER_SIZE;}return 2*(SQUARE_SIZE+MONTH_LABEL_GUTTER_SIZE);}},{key:\"getWeekdayLabelSize\",value:function getWeekdayLabelSize(){if(!this.props.showWeekdayLabels){return 0;}if(this.props.horizontal){return 30;}return SQUARE_SIZE*1.5;}},{key:\"getStartDate\",value:function getStartDate(){return shiftDate(this.getEndDate(),-this.getDateDifferenceInDays()+1);// +1 because endDate is inclusive\n}},{key:\"getEndDate\",value:function getEndDate(){return getBeginningTimeForDate(convertToDate(this.props.endDate));}},{key:\"getStartDateWithEmptyDays\",value:function getStartDateWithEmptyDays(){return shiftDate(this.getStartDate(),-this.getNumEmptyDaysAtStart());}},{key:\"getNumEmptyDaysAtStart\",value:function getNumEmptyDaysAtStart(){return this.getStartDate().getDay();}},{key:\"getNumEmptyDaysAtEnd\",value:function getNumEmptyDaysAtEnd(){return DAYS_IN_WEEK-1-this.getEndDate().getDay();}},{key:\"getWeekCount\",value:function getWeekCount(){var numDaysRoundedToWeek=this.getDateDifferenceInDays()+this.getNumEmptyDaysAtStart()+this.getNumEmptyDaysAtEnd();return Math.ceil(numDaysRoundedToWeek/DAYS_IN_WEEK);}},{key:\"getWeekWidth\",value:function getWeekWidth(){return DAYS_IN_WEEK*this.getSquareSizeWithGutter();}},{key:\"getWidth\",value:function getWidth(){return this.getWeekCount()*this.getSquareSizeWithGutter()-(this.props.gutterSize-this.getWeekdayLabelSize());}},{key:\"getHeight\",value:function getHeight(){return this.getWeekWidth()+(this.getMonthLabelSize()-this.props.gutterSize)+this.getWeekdayLabelSize();}},{key:\"getValueForIndex\",value:function getValueForIndex(index){if(this.valueCache[index]){return this.valueCache[index].value;}return null;}},{key:\"getClassNameForIndex\",value:function getClassNameForIndex(index){if(this.valueCache[index]){return this.valueCache[index].className;}return this.props.classForValue(null);}},{key:\"getTitleForIndex\",value:function getTitleForIndex(index){if(this.valueCache[index]){return this.valueCache[index].title;}return this.props.titleForValue?this.props.titleForValue(null):null;}},{key:\"getTooltipDataAttrsForIndex\",value:function getTooltipDataAttrsForIndex(index){if(this.valueCache[index]){return this.valueCache[index].tooltipDataAttrs;}console.log(this.valueCache[index]);return this.getTooltipDataAttrsForValue({date:\"\",count:0});}},{key:\"getTooltipDataAttrsForValue\",value:function getTooltipDataAttrsForValue(value){var tooltipDataAttrs=this.props.tooltipDataAttrs;if(typeof tooltipDataAttrs==='function'){return tooltipDataAttrs(value);}return tooltipDataAttrs;}},{key:\"getTransformForWeek\",value:function getTransformForWeek(weekIndex){if(this.props.horizontal){return\"translate(\".concat(weekIndex*this.getSquareSizeWithGutter(),\", 0)\");}return\"translate(0, \".concat(weekIndex*this.getSquareSizeWithGutter(),\")\");}},{key:\"getTransformForWeekdayLabels\",value:function getTransformForWeekdayLabels(){if(this.props.horizontal){return\"translate(\".concat(SQUARE_SIZE,\", \").concat(this.getMonthLabelSize(),\")\");}return null;}},{key:\"getTransformForMonthLabels\",value:function getTransformForMonthLabels(){if(this.props.horizontal){return\"translate(\".concat(this.getWeekdayLabelSize(),\", 0)\");}return\"translate(\".concat(this.getWeekWidth()+MONTH_LABEL_GUTTER_SIZE,\", \").concat(this.getWeekdayLabelSize(),\")\");}},{key:\"getTransformForAllWeeks\",value:function getTransformForAllWeeks(){if(this.props.horizontal){return\"translate(\".concat(this.getWeekdayLabelSize(),\", \").concat(this.getMonthLabelSize(),\")\");}return\"translate(0, \".concat(this.getWeekdayLabelSize(),\")\");}},{key:\"getViewBox\",value:function getViewBox(){if(this.props.horizontal){return\"0 0 \".concat(this.getWidth(),\" \").concat(this.getHeight());}return\"0 0 \".concat(this.getHeight(),\" \").concat(this.getWidth());}},{key:\"getSquareCoordinates\",value:function getSquareCoordinates(dayIndex){if(this.props.horizontal){return[0,dayIndex*this.getSquareSizeWithGutter()];}return[dayIndex*this.getSquareSizeWithGutter(),0];}},{key:\"getWeekdayLabelCoordinates\",value:function getWeekdayLabelCoordinates(dayIndex){if(this.props.horizontal){return[0,(dayIndex+1)*SQUARE_SIZE+dayIndex*this.props.gutterSize];}return[dayIndex*SQUARE_SIZE+dayIndex*this.props.gutterSize,SQUARE_SIZE];}},{key:\"getMonthLabelCoordinates\",value:function getMonthLabelCoordinates(weekIndex){if(this.props.horizontal){return[weekIndex*this.getSquareSizeWithGutter(),this.getMonthLabelSize()-MONTH_LABEL_GUTTER_SIZE];}var verticalOffset=-2;return[0,(weekIndex+1)*this.getSquareSizeWithGutter()+verticalOffset];}},{key:\"handleClick\",value:function handleClick(value){if(this.props.onClick){this.props.onClick(value);}}},{key:\"handleMouseOver\",value:function handleMouseOver(e,value){if(this.props.onMouseOver){this.props.onMouseOver(e,value);}}},{key:\"handleMouseLeave\",value:function handleMouseLeave(e,value){if(this.props.onMouseLeave){this.props.onMouseLeave(e,value);}}},{key:\"renderSquare\",value:function renderSquare(dayIndex,index){var _this2=this;var indexOutOfRange=index<this.getNumEmptyDaysAtStart()||index>=this.getNumEmptyDaysAtStart()+this.getDateDifferenceInDays();if(indexOutOfRange&&!this.props.showOutOfRangeDays){return null;}var _this$getSquareCoordi=this.getSquareCoordinates(dayIndex),_this$getSquareCoordi2=_slicedToArray(_this$getSquareCoordi,2),x=_this$getSquareCoordi2[0],y=_this$getSquareCoordi2[1];var value=this.getValueForIndex(index);var rect=/*#__PURE__*/ // eslint-disable-next-line jsx-a11y/mouse-events-have-key-events\n_jsx(\"rect\",_objectSpread(_objectSpread({width:SQUARE_SIZE,height:SQUARE_SIZE,x:x,y:y,className:\"day \".concat(this.getClassNameForIndex(index)),onClick:function onClick(){return _this2.handleClick(value);},onMouseOver:function onMouseOver(e){return _this2.handleMouseOver(e,value);},onMouseLeave:function onMouseLeave(e){return _this2.handleMouseLeave(e,value);}},this.getTooltipDataAttrsForIndex(index)),{},{children:/*#__PURE__*/_jsx(\"title\",{children:this.getTitleForIndex(index)})}),index);var transformDayElement=this.props.transformDayElement;return transformDayElement?transformDayElement(rect,value,index):rect;}},{key:\"renderWeek\",value:function renderWeek(weekIndex){var _this3=this;return/*#__PURE__*/_jsx(\"g\",{transform:this.getTransformForWeek(weekIndex),className:\"\".concat(CSS_PSEDUO_NAMESPACE,\"week\"),children:getRange(DAYS_IN_WEEK).map(function(dayIndex){return _this3.renderSquare(dayIndex,weekIndex*DAYS_IN_WEEK+dayIndex);})},weekIndex);}},{key:\"renderAllWeeks\",value:function renderAllWeeks(){var _this4=this;return getRange(this.getWeekCount()).map(function(weekIndex){return _this4.renderWeek(weekIndex);});}},{key:\"renderMonthLabels\",value:function renderMonthLabels(){var _this5=this;if(!this.props.showMonthLabels){return null;}var weekRange=getRange(this.getWeekCount()-1);// don't render for last week, because label will be cut off\nreturn weekRange.map(function(weekIndex){var endOfWeek=shiftDate(_this5.getStartDateWithEmptyDays(),(weekIndex+1)*DAYS_IN_WEEK);var _this5$getMonthLabelC=_this5.getMonthLabelCoordinates(weekIndex),_this5$getMonthLabelC2=_slicedToArray(_this5$getMonthLabelC,2),x=_this5$getMonthLabelC2[0],y=_this5$getMonthLabelC2[1];return endOfWeek.getDate()>=1&&endOfWeek.getDate()<=DAYS_IN_WEEK?/*#__PURE__*/_jsx(\"text\",{x:x,y:y,className:\"\".concat(CSS_PSEDUO_NAMESPACE,\"month-label\"),children:_this5.props.monthLabels[endOfWeek.getMonth()]},weekIndex):null;});}},{key:\"renderWeekdayLabels\",value:function renderWeekdayLabels(){var _this6=this;if(!this.props.showWeekdayLabels){return null;}return this.props.weekdayLabels.map(function(weekdayLabel,dayIndex){var _this6$getWeekdayLabe=_this6.getWeekdayLabelCoordinates(dayIndex),_this6$getWeekdayLabe2=_slicedToArray(_this6$getWeekdayLabe,2),x=_this6$getWeekdayLabe2[0],y=_this6$getWeekdayLabe2[1];var cssClasses=\"\".concat(_this6.props.horizontal?'':\"\".concat(CSS_PSEDUO_NAMESPACE,\"small-text\"),\" \").concat(CSS_PSEDUO_NAMESPACE,\"weekday-label\");// eslint-disable-next-line no-bitwise\nreturn/*#__PURE__*/_jsx(\"text\",{x:x,y:y,className:cssClasses,children:weekdayLabel},\"\".concat(x).concat(y));});}},{key:\"render\",value:function render(){this.valueCache=this.getValueCache(this.props);return/*#__PURE__*/_jsxs(\"svg\",{className:\"react-calendar-heatmap\",viewBox:this.getViewBox(),children:[/*#__PURE__*/_jsx(\"g\",{transform:this.getTransformForMonthLabels(),className:\"\".concat(CSS_PSEDUO_NAMESPACE,\"month-labels\"),children:this.renderMonthLabels()}),/*#__PURE__*/_jsx(\"g\",{transform:this.getTransformForAllWeeks(),className:\"\".concat(CSS_PSEDUO_NAMESPACE,\"all-weeks\"),children:this.renderAllWeeks()}),/*#__PURE__*/_jsx(\"g\",{transform:this.getTransformForWeekdayLabels(),className:\"\".concat(CSS_PSEDUO_NAMESPACE,\"weekday-labels\"),children:this.renderWeekdayLabels()})]});}}]);return CalendarHeatmap;}(React.Component);CalendarHeatmap.defaultProps={numDays:null,startDate:dateNDaysAgo(200),endDate:new Date(),gutterSize:1,horizontal:true,showMonthLabels:true,showWeekdayLabels:false,showOutOfRangeDays:false,tooltipDataAttrs:null,titleForValue:null,classForValue:function classForValue(value){return value?'color-filled':'color-empty';},monthLabels:MONTH_LABELS,weekdayLabels:DAY_LABELS,onClick:null,onMouseOver:null,onMouseLeave:null,transformDayElement:null};export default CalendarHeatmap;","map":{"version":3,"sources":["/home/iivanova/Desktop/UBC_2021_2022/CPSC547_information_visualization/project/explorify/src/calendar-heatmap/index.js"],"names":["React","memoizeOne","DAYS_IN_WEEK","MILLISECONDS_IN_ONE_DAY","DAY_LABELS","MONTH_LABELS","dateNDaysAgo","shiftDate","getBeginningTimeForDate","convertToDate","getRange","SQUARE_SIZE","MONTH_LABEL_GUTTER_SIZE","CSS_PSEDUO_NAMESPACE","CalendarHeatmap","getValueCache","props","values","reduce","memo","value","date","index","Math","floor","getStartDateWithEmptyDays","className","classForValue","title","titleForValue","tooltipDataAttrs","getTooltipDataAttrsForValue","startDate","numDays","console","warn","timeDiff","getEndDate","ceil","gutterSize","showMonthLabels","horizontal","showWeekdayLabels","getDateDifferenceInDays","endDate","getStartDate","getNumEmptyDaysAtStart","getDay","numDaysRoundedToWeek","getNumEmptyDaysAtEnd","getSquareSizeWithGutter","getWeekCount","getWeekdayLabelSize","getWeekWidth","getMonthLabelSize","valueCache","log","count","weekIndex","getWidth","getHeight","dayIndex","verticalOffset","onClick","e","onMouseOver","onMouseLeave","indexOutOfRange","showOutOfRangeDays","getSquareCoordinates","x","y","getValueForIndex","rect","getClassNameForIndex","handleClick","handleMouseOver","handleMouseLeave","getTooltipDataAttrsForIndex","getTitleForIndex","transformDayElement","getTransformForWeek","map","renderSquare","renderWeek","weekRange","endOfWeek","getMonthLabelCoordinates","getDate","monthLabels","getMonth","weekdayLabels","weekdayLabel","getWeekdayLabelCoordinates","cssClasses","getViewBox","getTransformForMonthLabels","renderMonthLabels","getTransformForAllWeeks","renderAllWeeks","getTransformForWeekdayLabels","renderWeekdayLabels","Component","defaultProps","Date"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport memoizeOne from 'memoize-one';\nimport { DAYS_IN_WEEK, MILLISECONDS_IN_ONE_DAY, DAY_LABELS, MONTH_LABELS } from './constants';\nimport {\n  dateNDaysAgo,\n  shiftDate,\n  getBeginningTimeForDate,\n  convertToDate,\n  getRange,\n} from './helpers';\n\nconst SQUARE_SIZE = 10;\nconst MONTH_LABEL_GUTTER_SIZE = 4;\nconst CSS_PSEDUO_NAMESPACE = 'react-calendar-heatmap-';\n\nclass CalendarHeatmap extends React.Component {\n  getDateDifferenceInDays() {\n    const { startDate, numDays } = this.props;\n    if (numDays) {\n      // eslint-disable-next-line no-console\n      console.warn(\n        'numDays is a deprecated prop. It will be removed in the next release. Consider using the startDate prop instead.',\n      );\n      return numDays;\n    }\n    const timeDiff = this.getEndDate() - convertToDate(startDate);\n    return Math.ceil(timeDiff / MILLISECONDS_IN_ONE_DAY);\n  }\n\n  getSquareSizeWithGutter() {\n    return SQUARE_SIZE + this.props.gutterSize;\n  }\n\n  getMonthLabelSize() {\n    if (!this.props.showMonthLabels) {\n      return 0;\n    }\n    if (this.props.horizontal) {\n      return SQUARE_SIZE + MONTH_LABEL_GUTTER_SIZE;\n    }\n    return 2 * (SQUARE_SIZE + MONTH_LABEL_GUTTER_SIZE);\n  }\n\n  getWeekdayLabelSize() {\n    if (!this.props.showWeekdayLabels) {\n      return 0;\n    }\n    if (this.props.horizontal) {\n      return 30;\n    }\n    return SQUARE_SIZE * 1.5;\n  }\n\n  getStartDate() {\n    return shiftDate(this.getEndDate(), -this.getDateDifferenceInDays() + 1); // +1 because endDate is inclusive\n  }\n\n  getEndDate() {\n    return getBeginningTimeForDate(convertToDate(this.props.endDate));\n  }\n\n  getStartDateWithEmptyDays() {\n    return shiftDate(this.getStartDate(), -this.getNumEmptyDaysAtStart());\n  }\n\n  getNumEmptyDaysAtStart() {\n    return this.getStartDate().getDay();\n  }\n\n  getNumEmptyDaysAtEnd() {\n    return DAYS_IN_WEEK - 1 - this.getEndDate().getDay();\n  }\n\n  getWeekCount() {\n    const numDaysRoundedToWeek =\n      this.getDateDifferenceInDays() + this.getNumEmptyDaysAtStart() + this.getNumEmptyDaysAtEnd();\n    return Math.ceil(numDaysRoundedToWeek / DAYS_IN_WEEK);\n  }\n\n  getWeekWidth() {\n    return DAYS_IN_WEEK * this.getSquareSizeWithGutter();\n  }\n\n  getWidth() {\n    return (\n      this.getWeekCount() * this.getSquareSizeWithGutter() -\n      (this.props.gutterSize - this.getWeekdayLabelSize())\n    );\n  }\n\n  getHeight() {\n    return (\n      this.getWeekWidth() +\n      (this.getMonthLabelSize() - this.props.gutterSize) +\n      this.getWeekdayLabelSize()\n    );\n  }\n\n  getValueCache = memoizeOne((props) =>\n    props.values.reduce((memo, value) => {\n      const date = convertToDate(value.date);\n      const index = Math.floor((date - this.getStartDateWithEmptyDays()) / MILLISECONDS_IN_ONE_DAY);\n      // eslint-disable-next-line no-param-reassign\n      memo[index] = {\n        value,\n        className: this.props.classForValue(value),\n        title: this.props.titleForValue ? this.props.titleForValue(value) : null,\n        tooltipDataAttrs: this.getTooltipDataAttrsForValue(value),\n      };\n      return memo;\n    }, {}),\n  );\n\n  getValueForIndex(index) {\n    if (this.valueCache[index]) {\n      return this.valueCache[index].value;\n    }\n    return null;\n  }\n\n  getClassNameForIndex(index) {\n    if (this.valueCache[index]) {\n      return this.valueCache[index].className;\n    }\n    return this.props.classForValue(null);\n  }\n\n  getTitleForIndex(index) {\n    if (this.valueCache[index]) {\n      return this.valueCache[index].title;\n    }\n    return this.props.titleForValue ? this.props.titleForValue(null) : null;\n  }\n\n  getTooltipDataAttrsForIndex(index) {\n    if (this.valueCache[index]) {\n      return this.valueCache[index].tooltipDataAttrs;\n    }\n    console.log(this.valueCache[index])\n    return this.getTooltipDataAttrsForValue({ date: \"\", count: 0 });\n  }\n\n  getTooltipDataAttrsForValue(value) {\n    const { tooltipDataAttrs } = this.props;\n\n    if (typeof tooltipDataAttrs === 'function') {\n      return tooltipDataAttrs(value);\n    }\n    return tooltipDataAttrs;\n  }\n\n  getTransformForWeek(weekIndex) {\n    if (this.props.horizontal) {\n      return `translate(${weekIndex * this.getSquareSizeWithGutter()}, 0)`;\n    }\n    return `translate(0, ${weekIndex * this.getSquareSizeWithGutter()})`;\n  }\n\n  getTransformForWeekdayLabels() {\n    if (this.props.horizontal) {\n      return `translate(${SQUARE_SIZE}, ${this.getMonthLabelSize()})`;\n    }\n    return null;\n  }\n\n  getTransformForMonthLabels() {\n    if (this.props.horizontal) {\n      return `translate(${this.getWeekdayLabelSize()}, 0)`;\n    }\n    return `translate(${this.getWeekWidth() +\n      MONTH_LABEL_GUTTER_SIZE}, ${this.getWeekdayLabelSize()})`;\n  }\n\n  getTransformForAllWeeks() {\n    if (this.props.horizontal) {\n      return `translate(${this.getWeekdayLabelSize()}, ${this.getMonthLabelSize()})`;\n    }\n    return `translate(0, ${this.getWeekdayLabelSize()})`;\n  }\n\n  getViewBox() {\n    if (this.props.horizontal) {\n      return `0 0 ${this.getWidth()} ${this.getHeight()}`;\n    }\n    return `0 0 ${this.getHeight()} ${this.getWidth()}`;\n  }\n\n  getSquareCoordinates(dayIndex) {\n    if (this.props.horizontal) {\n      return [0, dayIndex * this.getSquareSizeWithGutter()];\n    }\n    return [dayIndex * this.getSquareSizeWithGutter(), 0];\n  }\n\n  getWeekdayLabelCoordinates(dayIndex) {\n    if (this.props.horizontal) {\n      return [0, (dayIndex + 1) * SQUARE_SIZE + dayIndex * this.props.gutterSize];\n    }\n    return [dayIndex * SQUARE_SIZE + dayIndex * this.props.gutterSize, SQUARE_SIZE];\n  }\n\n  getMonthLabelCoordinates(weekIndex) {\n    if (this.props.horizontal) {\n      return [\n        weekIndex * this.getSquareSizeWithGutter(),\n        this.getMonthLabelSize() - MONTH_LABEL_GUTTER_SIZE,\n      ];\n    }\n    const verticalOffset = -2;\n    return [0, (weekIndex + 1) * this.getSquareSizeWithGutter() + verticalOffset];\n  }\n\n  handleClick(value) {\n    if (this.props.onClick) {\n      this.props.onClick(value);\n    }\n  }\n\n  handleMouseOver(e, value) {\n    if (this.props.onMouseOver) {\n      this.props.onMouseOver(e, value);\n    }\n  }\n\n  handleMouseLeave(e, value) {\n    if (this.props.onMouseLeave) {\n      this.props.onMouseLeave(e, value);\n    }\n  }\n\n  renderSquare(dayIndex, index) {\n    const indexOutOfRange =\n      index < this.getNumEmptyDaysAtStart() ||\n      index >= this.getNumEmptyDaysAtStart() + this.getDateDifferenceInDays();\n    if (indexOutOfRange && !this.props.showOutOfRangeDays) {\n      return null;\n    }\n    const [x, y] = this.getSquareCoordinates(dayIndex);\n    const value = this.getValueForIndex(index);\n    const rect = (\n      // eslint-disable-next-line jsx-a11y/mouse-events-have-key-events\n      <rect\n        key={index}\n        width={SQUARE_SIZE}\n        height={SQUARE_SIZE}\n        x={x}\n        y={y}\n        className={`day ${this.getClassNameForIndex(index)}`}\n        onClick={() => this.handleClick(value)}\n        onMouseOver={(e) => this.handleMouseOver(e, value)}\n        onMouseLeave={(e) => this.handleMouseLeave(e, value)}\n        {...this.getTooltipDataAttrsForIndex(index)}\n      >\n        <title>{this.getTitleForIndex(index)}</title>\n      </rect>\n    );\n    const { transformDayElement } = this.props;\n    return transformDayElement ? transformDayElement(rect, value, index) : rect;\n  }\n\n  renderWeek(weekIndex) {\n    return (\n      <g\n        key={weekIndex}\n        transform={this.getTransformForWeek(weekIndex)}\n        className={`${CSS_PSEDUO_NAMESPACE}week`}\n      >\n        {getRange(DAYS_IN_WEEK).map((dayIndex) =>\n          this.renderSquare(dayIndex, weekIndex * DAYS_IN_WEEK + dayIndex),\n        )}\n      </g>\n    );\n  }\n\n  renderAllWeeks() {\n    return getRange(this.getWeekCount()).map((weekIndex) => this.renderWeek(weekIndex));\n  }\n\n  renderMonthLabels() {\n    if (!this.props.showMonthLabels) {\n      return null;\n    }\n    const weekRange = getRange(this.getWeekCount() - 1); // don't render for last week, because label will be cut off\n    return weekRange.map((weekIndex) => {\n      const endOfWeek = shiftDate(this.getStartDateWithEmptyDays(), (weekIndex + 1) * DAYS_IN_WEEK);\n      const [x, y] = this.getMonthLabelCoordinates(weekIndex);\n      return endOfWeek.getDate() >= 1 && endOfWeek.getDate() <= DAYS_IN_WEEK ? (\n        <text key={weekIndex} x={x} y={y} className={`${CSS_PSEDUO_NAMESPACE}month-label`}>\n          {this.props.monthLabels[endOfWeek.getMonth()]}\n        </text>\n      ) : null;\n    });\n  }\n\n  renderWeekdayLabels() {\n    if (!this.props.showWeekdayLabels) {\n      return null;\n    }\n    return this.props.weekdayLabels.map((weekdayLabel, dayIndex) => {\n      const [x, y] = this.getWeekdayLabelCoordinates(dayIndex);\n      const cssClasses = `${\n        this.props.horizontal ? '' : `${CSS_PSEDUO_NAMESPACE}small-text`\n      } ${CSS_PSEDUO_NAMESPACE}weekday-label`;\n      // eslint-disable-next-line no-bitwise\n      return  (\n        <text key={`${x}${y}`} x={x} y={y} className={cssClasses}>\n          {weekdayLabel}\n        </text>\n      );\n    });\n  }\n\n  render() {\n    this.valueCache = this.getValueCache(this.props);\n\n    return (\n      <svg className=\"react-calendar-heatmap\" viewBox={this.getViewBox()}>\n        <g\n          transform={this.getTransformForMonthLabels()}\n          className={`${CSS_PSEDUO_NAMESPACE}month-labels`}\n        >\n          {this.renderMonthLabels()}\n        </g>\n        <g\n          transform={this.getTransformForAllWeeks()}\n          className={`${CSS_PSEDUO_NAMESPACE}all-weeks`}\n        >\n          {this.renderAllWeeks()}\n        </g>\n        <g\n          transform={this.getTransformForWeekdayLabels()}\n          className={`${CSS_PSEDUO_NAMESPACE}weekday-labels`}\n        >\n          {this.renderWeekdayLabels()}\n        </g>\n      </svg>\n    );\n  }\n}\n\nCalendarHeatmap.propTypes = {\n  values: PropTypes.arrayOf(\n    PropTypes.shape({\n      date: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date)])\n        .isRequired,\n    }).isRequired,\n  ).isRequired, // array of objects with date and arbitrary metadata\n  numDays: PropTypes.number, // number of days back from endDate to show\n  startDate: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date)]), // start of date range\n  endDate: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date)]), // end of date range\n  gutterSize: PropTypes.number, // size of space between squares\n  horizontal: PropTypes.bool, // whether to orient horizontally or vertically\n  showMonthLabels: PropTypes.bool, // whether to show month labels\n  showWeekdayLabels: PropTypes.bool, // whether to show weekday labels\n  showOutOfRangeDays: PropTypes.bool, // whether to render squares for extra days in week after endDate, and before start date\n  tooltipDataAttrs: PropTypes.oneOfType([PropTypes.object, PropTypes.func]), // data attributes to add to square for setting 3rd party tooltips, e.g. { 'data-toggle': 'tooltip' } for bootstrap tooltips\n  titleForValue: PropTypes.func, // function which returns title text for value\n  classForValue: PropTypes.func, // function which returns html class for value\n  monthLabels: PropTypes.arrayOf(PropTypes.string), // An array with 12 strings representing the text from janurary to december\n  weekdayLabels: PropTypes.arrayOf(PropTypes.string), // An array with 7 strings representing the text from Sun to Sat\n  onClick: PropTypes.func, // callback function when a square is clicked\n  onMouseOver: PropTypes.func, // callback function when mouse pointer is over a square\n  onMouseLeave: PropTypes.func, // callback function when mouse pointer is left a square\n  transformDayElement: PropTypes.func, // function to further transform the svg element for a single day\n};\n\nCalendarHeatmap.defaultProps = {\n  numDays: null,\n  startDate: dateNDaysAgo(200),\n  endDate: new Date(),\n  gutterSize: 1,\n  horizontal: true,\n  showMonthLabels: true,\n  showWeekdayLabels: false,\n  showOutOfRangeDays: false,\n  tooltipDataAttrs: null,\n  titleForValue: null,\n  classForValue: (value) => (value ? 'color-filled' : 'color-empty'),\n  monthLabels: MONTH_LABELS,\n  weekdayLabels: DAY_LABELS,\n  onClick: null,\n  onMouseOver: null,\n  onMouseLeave: null,\n  transformDayElement: null,\n};\n\nexport default CalendarHeatmap;\n"]},"metadata":{},"sourceType":"module"}