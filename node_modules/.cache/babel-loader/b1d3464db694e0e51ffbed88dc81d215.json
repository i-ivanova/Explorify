{"ast":null,"code":"var _jsxFileName = \"/home/iivanova/Desktop/UBC_2021_2022/CPSC547_information_visualization/project/explorify/src/HeatMap.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef } from \"react\"; // import * as d3 from 'd3';\n\nimport './HeatMap.css'; // function groupBy(rawData, key) {\n//     return rawData.reduce(function(previousVal, curretnVal) {\n//         (previousVal[curretnVal[key]] = previousVal[curretnVal[key]] || []).push(curretnVal);\n//         return previousVal;\n//     }, {});\n// };\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst HeatMap = () => {\n  _s();\n\n  const d3HeatMap = useRef();\n  var streamingData;\n  useEffect(() => {\n    fetch(\"../StreamingHistoryDesi.json\").then(response => response.json()).then(data => {\n      console.log(data); // data.forEach(function(entry, idx, data){\n      //     data[idx][\"date\"] = data[idx].endTime.split(\" \")[0];\n      //     delete data[idx].artistName;\n      //     delete data[idx].trackName;\n      //     delete data[idx].endTime;\n      // });\n      //\n      // var filteredData = Object.values(groupBy(data, \"date\"));\n      //\n      // streamingData = filteredData.map(function(day){\n      //     var date = day[0][\"date\"];\n      //     day = day.reduce(function(prev, cur){\n      //         prev[\"totalTracks\"] = prev[\"totalTracks\"] + 1;\n      //         prev[\"totalPlayed\"] = prev[\"totalPlayed\"] + cur[\"msPlayed\"];\n      //         return prev;\n      //     }, {\"totalTracks\": 0, \"totalPlayed\": 0});\n      //     day[\"date\"] = new Date(date);\n      //     return day;\n      // });\n    }); // console.log(streamingData);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"d3demo\",\n    children: /*#__PURE__*/_jsxDEV(\"svg\", {\n      ref: d3HeatMap\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n};\n\n_s(HeatMap, \"FaaTd6ffoLaf62k3dj5QsdWdCCs=\");\n\n_c = HeatMap;\nexport default HeatMap;\n\nvar _c;\n\n$RefreshReg$(_c, \"HeatMap\");","map":{"version":3,"sources":["/home/iivanova/Desktop/UBC_2021_2022/CPSC547_information_visualization/project/explorify/src/HeatMap.js"],"names":["React","useEffect","useRef","HeatMap","d3HeatMap","streamingData","fetch","then","response","json","data","console","log"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,MAA1B,QAAuC,OAAvC,C,CACA;;AACA,OAAQ,eAAR,C,CAEA;AACA;AACA;AACA;AACA;AACA;;;;AAEA,MAAMC,OAAO,GAAG,MAAO;AAAA;;AACnB,QAAMC,SAAS,GAAGF,MAAM,EAAxB;AACA,MAAIG,aAAJ;AACAJ,EAAAA,SAAS,CAAC,MAAI;AACVK,IAAAA,KAAK,CAAC,8BAAD,CAAL,CACKC,IADL,CACUC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADtB,EAEKF,IAFL,CAEUG,IAAI,IAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ,EADU,CAEV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,KAvBL,EADU,CAyBV;AAEH,GA3BQ,CAAT;AA6BA,sBACI;AAAK,IAAA,EAAE,EAAC,QAAR;AAAA,2BACI;AAAK,MAAA,GAAG,EAAEN;AAAV;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH,CArCD;;GAAMD,O;;KAAAA,O;AAuCN,eAAeA,OAAf","sourcesContent":["import React, {useEffect, useRef} from \"react\";\n// import * as d3 from 'd3';\nimport  './HeatMap.css';\n\n// function groupBy(rawData, key) {\n//     return rawData.reduce(function(previousVal, curretnVal) {\n//         (previousVal[curretnVal[key]] = previousVal[curretnVal[key]] || []).push(curretnVal);\n//         return previousVal;\n//     }, {});\n// };\n\nconst HeatMap = ()  => {\n    const d3HeatMap = useRef()\n    var streamingData;\n    useEffect(()=>{\n        fetch(\"../StreamingHistoryDesi.json\")\n            .then(response => response.json())\n            .then(data => {\n                console.log(data);\n                // data.forEach(function(entry, idx, data){\n                //     data[idx][\"date\"] = data[idx].endTime.split(\" \")[0];\n                //     delete data[idx].artistName;\n                //     delete data[idx].trackName;\n                //     delete data[idx].endTime;\n                // });\n                //\n                // var filteredData = Object.values(groupBy(data, \"date\"));\n                //\n                // streamingData = filteredData.map(function(day){\n                //     var date = day[0][\"date\"];\n                //     day = day.reduce(function(prev, cur){\n                //         prev[\"totalTracks\"] = prev[\"totalTracks\"] + 1;\n                //         prev[\"totalPlayed\"] = prev[\"totalPlayed\"] + cur[\"msPlayed\"];\n                //         return prev;\n                //     }, {\"totalTracks\": 0, \"totalPlayed\": 0});\n                //     day[\"date\"] = new Date(date);\n                //     return day;\n                // });\n            })\n        // console.log(streamingData);\n\n    })\n\n    return (\n        <div id='d3demo'>\n            <svg ref={d3HeatMap}></svg>\n        </div>\n    )\n}\n\nexport default HeatMap;"]},"metadata":{},"sourceType":"module"}