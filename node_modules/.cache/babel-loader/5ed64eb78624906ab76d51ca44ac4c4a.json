{"ast":null,"code":"\"use strict\";\n\nvar calendarHeatmap = {\n  settings: {\n    gutter: 5,\n    item_gutter: 1,\n    width: 1e3,\n    height: 200,\n    item_size: 10,\n    label_padding: 40,\n    max_block_height: 20,\n    transition_duration: 500,\n    tooltip_width: 250,\n    tooltip_padding: 15\n  },\n  init: function (a, e, t, n, r) {\n    calendarHeatmap.data = a, calendarHeatmap.container = e, calendarHeatmap.color = t || \"#ff4500\", calendarHeatmap.overview = n || \"global\", calendarHeatmap.history = [\"global\"], calendarHeatmap.selected = {}, calendarHeatmap.handler = r, calendarHeatmap.in_transition = !1, calendarHeatmap.createElements(), calendarHeatmap.parseData(), calendarHeatmap.drawChart();\n  },\n  createElements: function () {\n    if (null != calendarHeatmap.container) {\n      var a = document.getElementById(calendarHeatmap.container);\n      if (!a || \"DIV\" != a.tagName) throw \"Element not found or not of type div\";\n      a.classList.contains(\"calendar-heatmap\") || a.classList.add(\"calendar-heatmap\");\n    } else {\n      var a = document.createElement(\"div\");\n      a.className = \"calendar-heatmap\", document.body.appendChild(a);\n    }\n\n    var e = d3.select(a).append(\"svg\").attr(\"class\", \"svg\");\n    calendarHeatmap.items = e.append(\"g\"), calendarHeatmap.labels = e.append(\"g\"), calendarHeatmap.buttons = e.append(\"g\"), calendarHeatmap.tooltip = d3.select(a).append(\"div\").attr(\"class\", \"heatmap-tooltip\").style(\"opacity\", 0);\n\n    var t = function () {\n      var t = Math.round((moment() - moment().subtract(1, \"year\").startOf(\"week\")) / 864e5),\n          n = Math.trunc(t / 7),\n          r = n + 1;\n      calendarHeatmap.settings.width = a.offsetWidth < 1e3 ? 1e3 : a.offsetWidth, calendarHeatmap.settings.item_size = (calendarHeatmap.settings.width - calendarHeatmap.settings.label_padding) / r - calendarHeatmap.settings.gutter, calendarHeatmap.settings.height = calendarHeatmap.settings.label_padding + 7 * (calendarHeatmap.settings.item_size + calendarHeatmap.settings.gutter), e.attr(\"width\", calendarHeatmap.settings.width).attr(\"height\", calendarHeatmap.settings.height), calendarHeatmap.data && calendarHeatmap.data[0].summary && calendarHeatmap.drawChart();\n    };\n\n    t(), window.onresize = function (a) {\n      t();\n    };\n  },\n  parseData: function () {\n    calendarHeatmap.data && (calendarHeatmap.data[0].summary || calendarHeatmap.data.map(function (a) {\n      var e = a.details.reduce(function (a, e) {\n        return a[e.name] ? a[e.name].value += e.value : a[e.name] = {\n          value: e.value\n        }, a;\n      }, {}),\n          t = Object.keys(e).map(function (a) {\n        return {\n          name: a,\n          value: e[a].value\n        };\n      });\n      return a.summary = t.sort(function (a, e) {\n        return e.value - a.value;\n      }), a;\n    }));\n  },\n  drawChart: function () {\n    \"global\" === calendarHeatmap.overview ? calendarHeatmap.drawGlobalOverview() : \"year\" === calendarHeatmap.overview ? calendarHeatmap.drawYearOverview() : \"month\" === calendarHeatmap.overview ? calendarHeatmap.drawMonthOverview() : \"week\" === calendarHeatmap.overview ? calendarHeatmap.drawWeekOverview() : \"day\" === calendarHeatmap.overview && calendarHeatmap.drawDayOverview();\n  },\n  drawGlobalOverview: function () {\n    calendarHeatmap.history[calendarHeatmap.history.length - 1] !== calendarHeatmap.overview && calendarHeatmap.history.push(calendarHeatmap.overview);\n    var a = moment(calendarHeatmap.data[0].date).startOf(\"year\"),\n        e = moment(calendarHeatmap.data[calendarHeatmap.data.length - 1].date).endOf(\"year\"),\n        t = d3.timeYears(a, e).map(function (a) {\n      var e = moment(a);\n      return {\n        date: e,\n        total: calendarHeatmap.data.reduce(function (a, t) {\n          return moment(t.date).year() === e.year() && (a += t.total), a;\n        }, 0),\n        summary: function () {\n          var a = calendarHeatmap.data.reduce(function (a, t) {\n            if (moment(t.date).year() === e.year()) for (var n = 0; n < t.summary.length; n++) a[t.summary[n].name] ? a[t.summary[n].name].value += t.summary[n].value : a[t.summary[n].name] = {\n              value: t.summary[n].value\n            };\n            return a;\n          }, {}),\n              t = Object.keys(a).map(function (e) {\n            return {\n              name: e,\n              value: a[e].value\n            };\n          });\n          return t.sort(function (a, e) {\n            return e.value - a.value;\n          });\n        }()\n      };\n    }),\n        n = d3.max(t, function (a) {\n      return a.total;\n    }),\n        r = d3.timeYears(a, e).map(function (a) {\n      return moment(a);\n    }),\n        i = d3.scaleBand().rangeRound([0, calendarHeatmap.settings.width]).padding([.05]).domain(r.map(function (a) {\n      return a.year();\n    }));\n    calendarHeatmap.items.selectAll(\".item-block-year\").remove();\n    calendarHeatmap.items.selectAll(\".item-block-year\").data(t).enter().append(\"rect\").attr(\"class\", \"item item-block-year\").attr(\"width\", function () {\n      return (calendarHeatmap.settings.width - calendarHeatmap.settings.label_padding) / r.length - 5 * calendarHeatmap.settings.gutter;\n    }).attr(\"height\", function () {\n      return calendarHeatmap.settings.height - calendarHeatmap.settings.label_padding;\n    }).attr(\"transform\", function (a) {\n      return \"translate(\" + i(a.date.year()) + \",\" + 2 * calendarHeatmap.settings.tooltip_padding + \")\";\n    }).attr(\"fill\", function (a) {\n      var e = d3.scaleLinear().range([\"#ffffff\", calendarHeatmap.color || \"#ff4500\"]).domain([-.15 * n, n]);\n      return e(a.total) || \"#ff4500\";\n    }).on(\"click\", function (a) {\n      calendarHeatmap.in_transition || (calendarHeatmap.in_transition = !0, calendarHeatmap.selected = a, calendarHeatmap.hideTooltip(), calendarHeatmap.removeGlobalOverview(), calendarHeatmap.overview = \"year\", calendarHeatmap.drawChart());\n    }).style(\"opacity\", 0).on(\"mouseover\", function (a) {\n      if (!calendarHeatmap.in_transition) {\n        var e = \"\";\n        e += \"<div><span><strong>Total time tracked:</strong></span>\";\n        var t = parseInt(a.total, 10),\n            n = Math.floor(t / 86400);\n        n > 0 && (e += \"<span>\" + (1 === n ? \"1 day\" : n + \" days\") + \"</span></div>\");\n        var r = Math.floor((t - 86400 * n) / 3600);\n        r > 0 && (e += n > 0 ? \"<div><span></span><span>\" + (1 === r ? \"1 hour\" : r + \" hours\") + \"</span></div>\" : \"<span>\" + (1 === r ? \"1 hour\" : r + \" hours\") + \"</span></div>\");\n        var l = Math.floor((t - 86400 * n - 3600 * r) / 60);\n        if (l > 0 && (e += n > 0 || r > 0 ? \"<div><span></span><span>\" + (1 === l ? \"1 minute\" : l + \" minutes\") + \"</span></div>\" : \"<span>\" + (1 === l ? \"1 minute\" : l + \" minutes\") + \"</span></div>\"), e += \"<br />\", a.summary.length <= 5) for (var d = 0; d < a.summary.length; d++) e += \"<div><span><strong>\" + a.summary[d].name + \"</strong></span>\", e += \"<span>\" + calendarHeatmap.formatTime(a.summary[d].value) + \"</span></div>\";else {\n          for (var d = 0; d < 5; d++) e += \"<div><span><strong>\" + a.summary[d].name + \"</strong></span>\", e += \"<span>\" + calendarHeatmap.formatTime(a.summary[d].value) + \"</span></div>\";\n\n          e += \"<br />\";\n\n          for (var o = 0, d = 5; d < a.summary.length; d++) o = +a.summary[d].value;\n\n          e += \"<div><span><strong>Other:</strong></span>\", e += \"<span>\" + calendarHeatmap.formatTime(o) + \"</span></div>\";\n        }\n\n        for (var s = i(a.date.year()) + 2 * calendarHeatmap.settings.tooltip_padding; calendarHeatmap.settings.width - s < calendarHeatmap.settings.tooltip_width + 5 * calendarHeatmap.settings.tooltip_padding;) s -= 10;\n\n        var c = this.getBoundingClientRect().top + calendarHeatmap.settings.tooltip_padding;\n        calendarHeatmap.tooltip.html(e).style(\"left\", s + \"px\").style(\"top\", c + \"px\").transition().duration(calendarHeatmap.settings.transition_duration / 2).ease(d3.easeLinear).style(\"opacity\", 1);\n      }\n    }).on(\"mouseout\", function () {\n      calendarHeatmap.in_transition || calendarHeatmap.hideTooltip();\n    }).transition().delay(function (a, e) {\n      return calendarHeatmap.settings.transition_duration * (e + 1) / 10;\n    }).duration(function () {\n      return calendarHeatmap.settings.transition_duration;\n    }).ease(d3.easeLinear).style(\"opacity\", 1).call(function (a, e) {\n      a.empty() && e();\n      var t = 0;\n      a.each(function () {\n        ++t;\n      }).on(\"end\", function () {\n        --t || e.apply(this, arguments);\n      });\n    }, function () {\n      calendarHeatmap.in_transition = !1;\n    });\n    calendarHeatmap.labels.selectAll(\".label-year\").remove(), calendarHeatmap.labels.selectAll(\".label-year\").data(r).enter().append(\"text\").attr(\"class\", \"label label-year\").attr(\"font-size\", function () {\n      return Math.floor(calendarHeatmap.settings.label_padding / 3) + \"px\";\n    }).text(function (a) {\n      return a.year();\n    }).attr(\"x\", function (a) {\n      return i(a.year());\n    }).attr(\"y\", calendarHeatmap.settings.label_padding / 2).on(\"mouseenter\", function (a) {\n      calendarHeatmap.in_transition || calendarHeatmap.items.selectAll(\".item-block-year\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\", function (e) {\n        return moment(e.date).year() === a.year() ? 1 : .1;\n      });\n    }).on(\"mouseout\", function () {\n      calendarHeatmap.in_transition || calendarHeatmap.items.selectAll(\".item-block-year\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\", 1);\n    }).on(\"click\", function (a) {\n      calendarHeatmap.in_transition || (calendarHeatmap.in_transition = !0, calendarHeatmap.selected = {\n        date: a\n      }, calendarHeatmap.hideTooltip(), calendarHeatmap.removeGlobalOverview(), calendarHeatmap.overview = \"year\", calendarHeatmap.drawChart());\n    });\n  },\n  drawYearOverview: function () {\n    calendarHeatmap.history[calendarHeatmap.history.length - 1] !== calendarHeatmap.overview && calendarHeatmap.history.push(calendarHeatmap.overview);\n\n    var a = moment(calendarHeatmap.selected.date).startOf(\"year\"),\n        e = moment(calendarHeatmap.selected.date).endOf(\"year\"),\n        t = calendarHeatmap.data.filter(function (t) {\n      return a <= moment(t.date) && moment(t.date) < e;\n    }),\n        n = d3.max(t, function (a) {\n      return a.total;\n    }),\n        r = d3.scaleLinear().range([\"#ffffff\", calendarHeatmap.color || \"#ff4500\"]).domain([-.15 * n, n]),\n        i = function (e) {\n      var t = moment(e.date),\n          n = Math.round((t - moment(a).startOf(\"week\")) / 864e5),\n          r = Math.trunc(n / 7);\n      return r * (calendarHeatmap.settings.item_size + calendarHeatmap.settings.gutter) + calendarHeatmap.settings.label_padding;\n    },\n        l = function (a) {\n      return calendarHeatmap.settings.label_padding + moment(a.date).weekday() * (calendarHeatmap.settings.item_size + calendarHeatmap.settings.gutter);\n    },\n        d = function (a) {\n      return n <= 0 ? calendarHeatmap.settings.item_size : .75 * calendarHeatmap.settings.item_size + calendarHeatmap.settings.item_size * a.total / n * .25;\n    };\n\n    calendarHeatmap.items.selectAll(\".item-circle\").remove(), calendarHeatmap.items.selectAll(\".item-circle\").data(t).enter().append(\"rect\").attr(\"class\", \"item item-circle\").style(\"opacity\", 0).attr(\"x\", function (a) {\n      return i(a) + (calendarHeatmap.settings.item_size - d(a)) / 2;\n    }).attr(\"y\", function (a) {\n      return l(a) + (calendarHeatmap.settings.item_size - d(a)) / 2;\n    }).attr(\"rx\", function (a) {\n      return d(a);\n    }).attr(\"ry\", function (a) {\n      return d(a);\n    }).attr(\"width\", function (a) {\n      return d(a);\n    }).attr(\"height\", function (a) {\n      return d(a);\n    }).attr(\"fill\", function (a) {\n      return a.total > 0 ? r(a.total) : \"transparent\";\n    }).on(\"click\", function (a) {\n      calendarHeatmap.in_transition || 0 !== a.total && (calendarHeatmap.in_transition = !0, calendarHeatmap.selected = a, calendarHeatmap.hideTooltip(), calendarHeatmap.removeYearOverview(), calendarHeatmap.overview = \"day\", calendarHeatmap.drawChart());\n    }).on(\"mouseover\", function (a) {\n      if (!calendarHeatmap.in_transition) {\n        var e = d3.select(this);\n        !function s() {\n          e = e.transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).attr(\"x\", function (a) {\n            return i(a) - (1.1 * calendarHeatmap.settings.item_size - calendarHeatmap.settings.item_size) / 2;\n          }).attr(\"y\", function (a) {\n            return l(a) - (1.1 * calendarHeatmap.settings.item_size - calendarHeatmap.settings.item_size) / 2;\n          }).attr(\"width\", 1.1 * calendarHeatmap.settings.item_size).attr(\"height\", 1.1 * calendarHeatmap.settings.item_size).transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).attr(\"x\", function (a) {\n            return i(a) + (calendarHeatmap.settings.item_size - d(a)) / 2;\n          }).attr(\"y\", function (a) {\n            return l(a) + (calendarHeatmap.settings.item_size - d(a)) / 2;\n          }).attr(\"width\", function (a) {\n            return d(a);\n          }).attr(\"height\", function (a) {\n            return d(a);\n          }).on(\"end\", s);\n        }();\n        var t = \"\";\n        t += '<div class=\"header\"><strong>' + (a.total ? calendarHeatmap.formatTime(a.total) : \"No time\") + \" tracked</strong></div>\", t += \"<div>on \" + moment(a.date).format(\"dddd, MMM Do YYYY\") + \"</div><br>\";\n\n        for (var n = 0; n < a.summary.length; n++) t += \"<div><span><strong>\" + a.summary[n].name + \"</strong></span>\", t += \"<span>\" + calendarHeatmap.formatTime(a.summary[n].value) + \"</span></div>\";\n\n        var r = i(a) + calendarHeatmap.settings.item_size;\n        calendarHeatmap.settings.width - r < calendarHeatmap.settings.tooltip_width + 3 * calendarHeatmap.settings.tooltip_padding && (r -= calendarHeatmap.settings.tooltip_width + 2 * calendarHeatmap.settings.tooltip_padding);\n        var o = this.getBoundingClientRect().top + calendarHeatmap.settings.item_size;\n        calendarHeatmap.tooltip.html(t).style(\"left\", r + \"px\").style(\"top\", o + \"px\").transition().duration(calendarHeatmap.settings.transition_duration / 2).ease(d3.easeLinear).style(\"opacity\", 1);\n      }\n    }).on(\"mouseout\", function () {\n      calendarHeatmap.in_transition || (d3.select(this).transition().duration(calendarHeatmap.settings.transition_duration / 2).ease(d3.easeLinear).attr(\"x\", function (a) {\n        return i(a) + (calendarHeatmap.settings.item_size - d(a)) / 2;\n      }).attr(\"y\", function (a) {\n        return l(a) + (calendarHeatmap.settings.item_size - d(a)) / 2;\n      }).attr(\"width\", function (a) {\n        return d(a);\n      }).attr(\"height\", function (a) {\n        return d(a);\n      }), calendarHeatmap.hideTooltip());\n    }).transition().delay(function () {\n      return (Math.cos(Math.PI * Math.random()) + 1) * calendarHeatmap.settings.transition_duration;\n    }).duration(function () {\n      return calendarHeatmap.settings.transition_duration;\n    }).ease(d3.easeLinear).style(\"opacity\", 1).call(function (a, e) {\n      a.empty() && e();\n      var t = 0;\n      a.each(function () {\n        ++t;\n      }).on(\"end\", function () {\n        --t || e.apply(this, arguments);\n      });\n    }, function () {\n      calendarHeatmap.in_transition = !1;\n    });\n    var o = d3.timeMonths(a, e),\n        s = d3.scaleLinear().range([0, calendarHeatmap.settings.width]).domain([0, o.length]);\n    calendarHeatmap.labels.selectAll(\".label-month\").remove(), calendarHeatmap.labels.selectAll(\".label-month\").data(o).enter().append(\"text\").attr(\"class\", \"label label-month\").attr(\"font-size\", function () {\n      return Math.floor(calendarHeatmap.settings.label_padding / 3) + \"px\";\n    }).text(function (a) {\n      return a.toLocaleDateString(\"en-us\", {\n        month: \"short\"\n      });\n    }).attr(\"x\", function (a, e) {\n      return s(e) + (s(e) - s(e - 1)) / 2;\n    }).attr(\"y\", calendarHeatmap.settings.label_padding / 2).on(\"mouseenter\", function (a) {\n      if (!calendarHeatmap.in_transition) {\n        var e = moment(a);\n        calendarHeatmap.items.selectAll(\".item-circle\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\", function (a) {\n          return moment(a.date).isSame(e, \"month\") ? 1 : .1;\n        });\n      }\n    }).on(\"mouseout\", function () {\n      calendarHeatmap.in_transition || calendarHeatmap.items.selectAll(\".item-circle\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\", 1);\n    }).on(\"click\", function (a) {\n      if (!calendarHeatmap.in_transition) {\n        var e = calendarHeatmap.data.filter(function (e) {\n          return moment(a).startOf(\"month\") <= moment(e.date) && moment(e.date) < moment(a).endOf(\"month\");\n        });\n        e.length && (calendarHeatmap.selected = {\n          date: a\n        }, calendarHeatmap.in_transition = !0, calendarHeatmap.hideTooltip(), calendarHeatmap.removeYearOverview(), calendarHeatmap.overview = \"month\", calendarHeatmap.drawChart());\n      }\n    });\n    var c = d3.timeDays(moment().startOf(\"week\"), moment().endOf(\"week\")),\n        m = d3.scaleBand().rangeRound([calendarHeatmap.settings.label_padding, calendarHeatmap.settings.height]).domain(c.map(function (a) {\n      return moment(a).weekday();\n    }));\n    calendarHeatmap.labels.selectAll(\".label-day\").remove(), calendarHeatmap.labels.selectAll(\".label-day\").data(c).enter().append(\"text\").attr(\"class\", \"label label-day\").attr(\"x\", calendarHeatmap.settings.label_padding / 3).attr(\"y\", function (a, e) {\n      return m(e) + m.bandwidth() / 1.75;\n    }).style(\"text-anchor\", \"left\").attr(\"font-size\", function () {\n      return Math.floor(calendarHeatmap.settings.label_padding / 3) + \"px\";\n    }).text(function (a) {\n      return moment(a).format(\"dddd\")[0];\n    }).on(\"mouseenter\", function (a) {\n      if (!calendarHeatmap.in_transition) {\n        var e = moment(a);\n        calendarHeatmap.items.selectAll(\".item-circle\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\", function (a) {\n          return moment(a.date).day() === e.day() ? 1 : .1;\n        });\n      }\n    }).on(\"mouseout\", function () {\n      calendarHeatmap.in_transition || calendarHeatmap.items.selectAll(\".item-circle\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\", 1);\n    }), calendarHeatmap.drawButton();\n  },\n  drawMonthOverview: function () {\n    calendarHeatmap.history[calendarHeatmap.history.length - 1] !== calendarHeatmap.overview && calendarHeatmap.history.push(calendarHeatmap.overview);\n\n    for (var a = moment(calendarHeatmap.selected.date).startOf(\"month\"), e = moment(calendarHeatmap.selected.date).endOf(\"month\"), t = calendarHeatmap.data.filter(function (t) {\n      return a <= moment(t.date) && moment(t.date) < e;\n    }), n = d3.max(t, function (a) {\n      return d3.max(a.summary, function (a) {\n        return a.value;\n      });\n    }), r = d3.timeDays(moment().startOf(\"week\"), moment().endOf(\"week\")), i = d3.scaleBand().rangeRound([calendarHeatmap.settings.label_padding, calendarHeatmap.settings.height]).domain(r.map(function (a) {\n      return moment(a).weekday();\n    })), l = [a.clone()]; a.week() !== e.week();) l.push(a.add(1, \"week\").clone());\n\n    var d = d3.scaleBand().rangeRound([calendarHeatmap.settings.label_padding, calendarHeatmap.settings.width]).padding([.05]).domain(l.map(function (a) {\n      return a.week();\n    }));\n    calendarHeatmap.items.selectAll(\".item-block-month\").remove();\n    var o = calendarHeatmap.items.selectAll(\".item-block-month\").data(t).enter().append(\"g\").attr(\"class\", \"item item-block-month\").attr(\"width\", function () {\n      return (calendarHeatmap.settings.width - calendarHeatmap.settings.label_padding) / l.length - 5 * calendarHeatmap.settings.gutter;\n    }).attr(\"height\", function () {\n      return Math.min(i.bandwidth(), calendarHeatmap.settings.max_block_height);\n    }).attr(\"transform\", function (a) {\n      return \"translate(\" + d(moment(a.date).week()) + \",\" + (i(moment(a.date).weekday()) + i.bandwidth() / 1.75 - 15) + \")\";\n    }).attr(\"total\", function (a) {\n      return a.total;\n    }).attr(\"date\", function (a) {\n      return a.date;\n    }).attr(\"offset\", 0).on(\"click\", function (a) {\n      calendarHeatmap.in_transition || 0 !== a.total && (calendarHeatmap.in_transition = !0, calendarHeatmap.selected = a, calendarHeatmap.hideTooltip(), calendarHeatmap.removeMonthOverview(), calendarHeatmap.overview = \"day\", calendarHeatmap.drawChart());\n    }),\n        s = (calendarHeatmap.settings.width - calendarHeatmap.settings.label_padding) / l.length - 5 * calendarHeatmap.settings.gutter,\n        c = d3.scaleLinear().rangeRound([0, s]);\n    o.selectAll(\".item-block-rect\").data(function (a) {\n      return a.summary;\n    }).enter().append(\"rect\").attr(\"class\", \"item item-block-rect\").attr(\"x\", function (a) {\n      var e = parseInt(d3.select(this.parentNode).attr(\"total\")),\n          t = parseInt(d3.select(this.parentNode).attr(\"offset\"));\n      return c.domain([0, e]), d3.select(this.parentNode).attr(\"offset\", t + c(a.value)), t;\n    }).attr(\"width\", function (a) {\n      var e = parseInt(d3.select(this.parentNode).attr(\"total\"));\n      return c.domain([0, e]), Math.max(c(a.value) - calendarHeatmap.settings.item_gutter, 1);\n    }).attr(\"height\", function () {\n      return Math.min(i.bandwidth(), calendarHeatmap.settings.max_block_height);\n    }).attr(\"fill\", function (a) {\n      var e = d3.scaleLinear().range([\"#ffffff\", calendarHeatmap.color || \"#ff4500\"]).domain([-.15 * n, n]);\n      return e(a.value) || \"#ff4500\";\n    }).style(\"opacity\", 0).on(\"mouseover\", function (a) {\n      if (!calendarHeatmap.in_transition) {\n        var e = new Date(d3.select(this.parentNode).attr(\"date\")),\n            t = \"\";\n        t += '<div class=\"header\"><strong>' + a.name + \"</strong></div><br>\", t += \"<div><strong>\" + (a.value ? calendarHeatmap.formatTime(a.value) : \"No time\") + \" tracked</strong></div>\", t += \"<div>on \" + moment(e).format(\"dddd, MMM Do YYYY\") + \"</div>\";\n\n        for (var n = d(moment(e).week()) + calendarHeatmap.settings.tooltip_padding; calendarHeatmap.settings.width - n < calendarHeatmap.settings.tooltip_width + 3 * calendarHeatmap.settings.tooltip_padding;) n -= 10;\n\n        var r = this.getBoundingClientRect().top + calendarHeatmap.settings.tooltip_padding;\n        calendarHeatmap.tooltip.html(t).style(\"left\", n + \"px\").style(\"top\", r + \"px\").transition().duration(calendarHeatmap.settings.transition_duration / 2).ease(d3.easeLinear).style(\"opacity\", 1);\n      }\n    }).on(\"mouseout\", function () {\n      calendarHeatmap.in_transition || calendarHeatmap.hideTooltip();\n    }).transition().delay(function () {\n      return (Math.cos(Math.PI * Math.random()) + 1) * calendarHeatmap.settings.transition_duration;\n    }).duration(function () {\n      return calendarHeatmap.settings.transition_duration;\n    }).ease(d3.easeLinear).style(\"opacity\", 1).call(function (a, e) {\n      a.empty() && e();\n      var t = 0;\n      a.each(function () {\n        ++t;\n      }).on(\"end\", function () {\n        --t || e.apply(this, arguments);\n      });\n    }, function () {\n      calendarHeatmap.in_transition = !1;\n    }), calendarHeatmap.labels.selectAll(\".label-week\").remove(), calendarHeatmap.labels.selectAll(\".label-week\").data(l).enter().append(\"text\").attr(\"class\", \"label label-week\").attr(\"font-size\", function () {\n      return Math.floor(calendarHeatmap.settings.label_padding / 3) + \"px\";\n    }).text(function (a) {\n      return \"Week \" + a.week();\n    }).attr(\"x\", function (a) {\n      return d(a.week());\n    }).attr(\"y\", calendarHeatmap.settings.label_padding / 2).on(\"mouseenter\", function (a) {\n      calendarHeatmap.in_transition || calendarHeatmap.items.selectAll(\".item-block-month\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\", function (e) {\n        return moment(e.date).week() === a.week() ? 1 : .1;\n      });\n    }).on(\"mouseout\", function () {\n      calendarHeatmap.in_transition || calendarHeatmap.items.selectAll(\".item-block-month\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\", 1);\n    }).on(\"click\", function (a) {\n      if (!calendarHeatmap.in_transition) {\n        var e = calendarHeatmap.data.filter(function (e) {\n          return a.startOf(\"week\") <= moment(e.date) && moment(e.date) < a.endOf(\"week\");\n        });\n        e.length && (calendarHeatmap.in_transition = !0, calendarHeatmap.selected = {\n          date: a\n        }, calendarHeatmap.hideTooltip(), calendarHeatmap.removeMonthOverview(), calendarHeatmap.overview = \"week\", calendarHeatmap.drawChart());\n      }\n    }), calendarHeatmap.labels.selectAll(\".label-day\").remove(), calendarHeatmap.labels.selectAll(\".label-day\").data(r).enter().append(\"text\").attr(\"class\", \"label label-day\").attr(\"x\", calendarHeatmap.settings.label_padding / 3).attr(\"y\", function (a, e) {\n      return i(e) + i.bandwidth() / 1.75;\n    }).style(\"text-anchor\", \"left\").attr(\"font-size\", function () {\n      return Math.floor(calendarHeatmap.settings.label_padding / 3) + \"px\";\n    }).text(function (a) {\n      return moment(a).format(\"dddd\")[0];\n    }).on(\"mouseenter\", function (a) {\n      if (!calendarHeatmap.in_transition) {\n        var e = moment(a);\n        calendarHeatmap.items.selectAll(\".item-block-month\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\", function (a) {\n          return moment(a.date).day() === e.day() ? 1 : .1;\n        });\n      }\n    }).on(\"mouseout\", function () {\n      calendarHeatmap.in_transition || calendarHeatmap.items.selectAll(\".item-block-month\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\", 1);\n    }), calendarHeatmap.drawButton();\n  },\n  drawWeekOverview: function () {\n    calendarHeatmap.history[calendarHeatmap.history.length - 1] !== calendarHeatmap.overview && calendarHeatmap.history.push(calendarHeatmap.overview);\n    var a = moment(calendarHeatmap.selected.date).startOf(\"week\"),\n        e = moment(calendarHeatmap.selected.date).endOf(\"week\"),\n        t = calendarHeatmap.data.filter(function (t) {\n      return a <= moment(t.date) && moment(t.date) < e;\n    }),\n        n = d3.max(t, function (a) {\n      return d3.max(a.summary, function (a) {\n        return a.value;\n      });\n    }),\n        r = d3.timeDays(moment().startOf(\"week\"), moment().endOf(\"week\")),\n        i = d3.scaleBand().rangeRound([calendarHeatmap.settings.label_padding, calendarHeatmap.settings.height]).domain(r.map(function (a) {\n      return moment(a).weekday();\n    })),\n        l = [a],\n        d = d3.scaleBand().rangeRound([calendarHeatmap.settings.label_padding, calendarHeatmap.settings.width]).padding([.01]).domain(l.map(function (a) {\n      return a.week();\n    }));\n    calendarHeatmap.items.selectAll(\".item-block-week\").remove();\n    var o = calendarHeatmap.items.selectAll(\".item-block-week\").data(t).enter().append(\"g\").attr(\"class\", \"item item-block-week\").attr(\"width\", function () {\n      return (calendarHeatmap.settings.width - calendarHeatmap.settings.label_padding) / l.length - 5 * calendarHeatmap.settings.gutter;\n    }).attr(\"height\", function () {\n      return Math.min(i.bandwidth(), calendarHeatmap.settings.max_block_height);\n    }).attr(\"transform\", function (a) {\n      return \"translate(\" + d(moment(a.date).week()) + \",\" + (i(moment(a.date).weekday()) + i.bandwidth() / 1.75 - 15) + \")\";\n    }).attr(\"total\", function (a) {\n      return a.total;\n    }).attr(\"date\", function (a) {\n      return a.date;\n    }).attr(\"offset\", 0).on(\"click\", function (a) {\n      calendarHeatmap.in_transition || 0 !== a.total && (calendarHeatmap.in_transition = !0, calendarHeatmap.selected = a, calendarHeatmap.hideTooltip(), calendarHeatmap.removeWeekOverview(), calendarHeatmap.overview = \"day\", calendarHeatmap.drawChart());\n    }),\n        s = (calendarHeatmap.settings.width - calendarHeatmap.settings.label_padding) / l.length - 5 * calendarHeatmap.settings.gutter,\n        c = d3.scaleLinear().rangeRound([0, s]);\n    o.selectAll(\".item-block-rect\").data(function (a) {\n      return a.summary;\n    }).enter().append(\"rect\").attr(\"class\", \"item item-block-rect\").attr(\"x\", function (a) {\n      var e = parseInt(d3.select(this.parentNode).attr(\"total\")),\n          t = parseInt(d3.select(this.parentNode).attr(\"offset\"));\n      return c.domain([0, e]), d3.select(this.parentNode).attr(\"offset\", t + c(a.value)), t;\n    }).attr(\"width\", function (a) {\n      var e = parseInt(d3.select(this.parentNode).attr(\"total\"));\n      return c.domain([0, e]), Math.max(c(a.value) - calendarHeatmap.settings.item_gutter, 1);\n    }).attr(\"height\", function () {\n      return Math.min(i.bandwidth(), calendarHeatmap.settings.max_block_height);\n    }).attr(\"fill\", function (a) {\n      var e = d3.scaleLinear().range([\"#ffffff\", calendarHeatmap.color || \"#ff4500\"]).domain([-.15 * n, n]);\n      return e(a.value) || \"#ff4500\";\n    }).style(\"opacity\", 0).on(\"mouseover\", function (a) {\n      if (!calendarHeatmap.in_transition) {\n        var e = new Date(d3.select(this.parentNode).attr(\"date\")),\n            t = \"\";\n        t += '<div class=\"header\"><strong>' + a.name + \"</strong></div><br>\", t += \"<div><strong>\" + (a.value ? calendarHeatmap.formatTime(a.value) : \"No time\") + \" tracked</strong></div>\", t += \"<div>on \" + moment(e).format(\"dddd, MMM Do YYYY\") + \"</div>\";\n        var n = parseInt(d3.select(this.parentNode).attr(\"total\"));\n        c.domain([0, n]);\n\n        for (var r = parseInt(d3.select(this).attr(\"x\")) + c(a.value) / 4 + calendarHeatmap.settings.tooltip_width / 4; calendarHeatmap.settings.width - r < calendarHeatmap.settings.tooltip_width + 3 * calendarHeatmap.settings.tooltip_padding;) r -= 10;\n\n        var i = this.getBoundingClientRect().top + calendarHeatmap.settings.tooltip_padding;\n        calendarHeatmap.tooltip.html(t).style(\"left\", r + \"px\").style(\"top\", i + \"px\").transition().duration(calendarHeatmap.settings.transition_duration / 2).ease(d3.easeLinear).style(\"opacity\", 1);\n      }\n    }).on(\"mouseout\", function () {\n      calendarHeatmap.in_transition || calendarHeatmap.hideTooltip();\n    }).transition().delay(function () {\n      return (Math.cos(Math.PI * Math.random()) + 1) * calendarHeatmap.settings.transition_duration;\n    }).duration(function () {\n      return calendarHeatmap.settings.transition_duration;\n    }).ease(d3.easeLinear).style(\"opacity\", 1).call(function (a, e) {\n      a.empty() && e();\n      var t = 0;\n      a.each(function () {\n        ++t;\n      }).on(\"end\", function () {\n        --t || e.apply(this, arguments);\n      });\n    }, function () {\n      calendarHeatmap.in_transition = !1;\n    }), calendarHeatmap.labels.selectAll(\".label-week\").remove(), calendarHeatmap.labels.selectAll(\".label-week\").data(l).enter().append(\"text\").attr(\"class\", \"label label-week\").attr(\"font-size\", function () {\n      return Math.floor(calendarHeatmap.settings.label_padding / 3) + \"px\";\n    }).text(function (a) {\n      return \"Week \" + a.week();\n    }).attr(\"x\", function (a) {\n      return d(a.week());\n    }).attr(\"y\", calendarHeatmap.settings.label_padding / 2).on(\"mouseenter\", function (a) {\n      calendarHeatmap.in_transition || calendarHeatmap.items.selectAll(\".item-block-week\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\", function (e) {\n        return moment(e.date).week() === a.week() ? 1 : .1;\n      });\n    }).on(\"mouseout\", function () {\n      calendarHeatmap.in_transition || calendarHeatmap.items.selectAll(\".item-block-week\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\", 1);\n    }), calendarHeatmap.labels.selectAll(\".label-day\").remove(), calendarHeatmap.labels.selectAll(\".label-day\").data(r).enter().append(\"text\").attr(\"class\", \"label label-day\").attr(\"x\", calendarHeatmap.settings.label_padding / 3).attr(\"y\", function (a, e) {\n      return i(e) + i.bandwidth() / 1.75;\n    }).style(\"text-anchor\", \"left\").attr(\"font-size\", function () {\n      return Math.floor(calendarHeatmap.settings.label_padding / 3) + \"px\";\n    }).text(function (a) {\n      return moment(a).format(\"dddd\")[0];\n    }).on(\"mouseenter\", function (a) {\n      if (!calendarHeatmap.in_transition) {\n        var e = moment(a);\n        calendarHeatmap.items.selectAll(\".item-block-week\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\", function (a) {\n          return moment(a.date).day() === e.day() ? 1 : .1;\n        });\n      }\n    }).on(\"mouseout\", function () {\n      calendarHeatmap.in_transition || calendarHeatmap.items.selectAll(\".item-block-week\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\", 1);\n    }), calendarHeatmap.drawButton();\n  },\n  drawDayOverview: function () {\n    calendarHeatmap.history[calendarHeatmap.history.length - 1] !== calendarHeatmap.overview && calendarHeatmap.history.push(calendarHeatmap.overview), Object.keys(calendarHeatmap.selected).length || (calendarHeatmap.selected = calendarHeatmap.data[calendarHeatmap.data.length - 1]);\n    var a = calendarHeatmap.selected.summary.map(function (a) {\n      return a.name;\n    }),\n        e = d3.scaleBand().rangeRound([calendarHeatmap.settings.label_padding, calendarHeatmap.settings.height]).domain(a),\n        t = d3.scaleTime().range([2 * calendarHeatmap.settings.label_padding, calendarHeatmap.settings.width]).domain([moment(calendarHeatmap.selected.date).startOf(\"day\"), moment(calendarHeatmap.selected.date).endOf(\"day\")]);\n    calendarHeatmap.items.selectAll(\".item-block\").remove(), calendarHeatmap.items.selectAll(\".item-block\").data(calendarHeatmap.selected.details).enter().append(\"rect\").attr(\"class\", \"item item-block\").attr(\"x\", function (a) {\n      return t(moment(a.date));\n    }).attr(\"y\", function (a) {\n      return e(a.name) + e.bandwidth() / 2 - 15;\n    }).attr(\"width\", function (a) {\n      var e = t(d3.timeSecond.offset(moment(a.date), a.value));\n      return Math.max(e - t(moment(a.date)), 1);\n    }).attr(\"height\", function () {\n      return Math.min(e.bandwidth(), calendarHeatmap.settings.max_block_height);\n    }).attr(\"fill\", function (a) {\n      return a.color || calendarHeatmap.color || \"#ff4500\";\n    }).style(\"opacity\", 0).on(\"mouseover\", function (a) {\n      if (!calendarHeatmap.in_transition) {\n        var e = \"\";\n        e += '<div class=\"header\"><strong>' + a.name + \"</strong><div><br>\", e += \"<div><strong>\" + (a.value ? calendarHeatmap.formatTime(a.value) : \"No time\") + \" tracked</strong></div>\", e += \"<div>on \" + moment(a.date).format(\"dddd, MMM Do YYYY HH:mm\") + \"</div>\";\n\n        for (var n = 100 * a.value / 86400 + t(moment(a.date)); calendarHeatmap.settings.width - n < calendarHeatmap.settings.tooltip_width + 3 * calendarHeatmap.settings.tooltip_padding;) n -= 10;\n\n        var r = this.getBoundingClientRect().top + calendarHeatmap.settings.tooltip_padding;\n        calendarHeatmap.tooltip.html(e).style(\"left\", n + \"px\").style(\"top\", r + \"px\").transition().duration(calendarHeatmap.settings.transition_duration / 2).ease(d3.easeLinear).style(\"opacity\", 1);\n      }\n    }).on(\"mouseout\", function () {\n      calendarHeatmap.in_transition || calendarHeatmap.hideTooltip();\n    }).on(\"click\", function (a) {\n      calendarHeatmap.handler && \"function\" == typeof calendarHeatmap.handler && calendarHeatmap.handler(a);\n    }).transition().delay(function () {\n      return (Math.cos(Math.PI * Math.random()) + 1) * calendarHeatmap.settings.transition_duration;\n    }).duration(function () {\n      return calendarHeatmap.settings.transition_duration;\n    }).ease(d3.easeLinear).style(\"opacity\", .5).call(function (a, e) {\n      a.empty() && e();\n      var t = 0;\n      a.each(function () {\n        ++t;\n      }).on(\"end\", function () {\n        --t || e.apply(this, arguments);\n      });\n    }, function () {\n      calendarHeatmap.in_transition = !1;\n    });\n    var n = d3.timeHours(moment(calendarHeatmap.selected.date).startOf(\"day\"), moment(calendarHeatmap.selected.date).endOf(\"day\")),\n        r = d3.scaleTime().range([2 * calendarHeatmap.settings.label_padding, calendarHeatmap.settings.width]).domain([0, n.length]);\n    calendarHeatmap.labels.selectAll(\".label-time\").remove(), calendarHeatmap.labels.selectAll(\".label-time\").data(n).enter().append(\"text\").attr(\"class\", \"label label-time\").attr(\"font-size\", function () {\n      return Math.floor(calendarHeatmap.settings.label_padding / 3) + \"px\";\n    }).text(function (a) {\n      return moment(a).format(\"HH:mm\");\n    }).attr(\"x\", function (a, e) {\n      return r(e);\n    }).attr(\"y\", calendarHeatmap.settings.label_padding / 2).on(\"mouseenter\", function (a) {\n      if (!calendarHeatmap.in_transition) {\n        var e = t(moment(a));\n        calendarHeatmap.items.selectAll(\".item-block\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\", function (a) {\n          var n = t(moment(a.date)),\n              r = t(moment(a.date).add(a.value, \"seconds\"));\n          return e >= n && e <= r ? 1 : .1;\n        });\n      }\n    }).on(\"mouseout\", function () {\n      calendarHeatmap.in_transition || calendarHeatmap.items.selectAll(\".item-block\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\", .5);\n    }), calendarHeatmap.labels.selectAll(\".label-project\").remove(), calendarHeatmap.labels.selectAll(\".label-project\").data(a).enter().append(\"text\").attr(\"class\", \"label label-project\").attr(\"x\", calendarHeatmap.settings.gutter).attr(\"y\", function (a) {\n      return e(a) + e.bandwidth() / 2;\n    }).attr(\"min-height\", function () {\n      return e.bandwidth();\n    }).style(\"text-anchor\", \"left\").attr(\"font-size\", function () {\n      return Math.floor(calendarHeatmap.settings.label_padding / 3) + \"px\";\n    }).text(function (a) {\n      return a;\n    }).each(function () {\n      for (var a = d3.select(this), e = a.node().getComputedTextLength(), t = a.text(); e > 1.5 * calendarHeatmap.settings.label_padding && t.length > 0;) t = t.slice(0, -1), a.text(t + \"...\"), e = a.node().getComputedTextLength();\n    }).on(\"mouseenter\", function (a) {\n      calendarHeatmap.in_transition || calendarHeatmap.items.selectAll(\".item-block\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\", function (e) {\n        return e.name === a ? 1 : .1;\n      });\n    }).on(\"mouseout\", function () {\n      calendarHeatmap.in_transition || calendarHeatmap.items.selectAll(\".item-block\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\", .5);\n    }), calendarHeatmap.drawButton();\n  },\n  drawButton: function () {\n    calendarHeatmap.buttons.selectAll(\".button\").remove();\n    var a = calendarHeatmap.buttons.append(\"g\").attr(\"class\", \"button button-back\").style(\"opacity\", 0).on(\"click\", function () {\n      calendarHeatmap.in_transition || (calendarHeatmap.in_transition = !0, \"year\" === calendarHeatmap.overview ? calendarHeatmap.removeYearOverview() : \"month\" === calendarHeatmap.overview ? calendarHeatmap.removeMonthOverview() : \"week\" === calendarHeatmap.overview ? calendarHeatmap.removeWeekOverview() : \"day\" === calendarHeatmap.overview && calendarHeatmap.removeDayOverview(), calendarHeatmap.history.pop(), calendarHeatmap.overview = calendarHeatmap.history.pop(), calendarHeatmap.drawChart());\n    });\n    a.append(\"circle\").attr(\"cx\", calendarHeatmap.settings.label_padding / 2.25).attr(\"cy\", calendarHeatmap.settings.label_padding / 2.5).attr(\"r\", calendarHeatmap.settings.item_size / 2), a.append(\"text\").attr(\"x\", calendarHeatmap.settings.label_padding / 2.25).attr(\"y\", calendarHeatmap.settings.label_padding / 2.5).attr(\"dy\", function () {\n      return Math.floor(calendarHeatmap.settings.width / 100) / 3;\n    }).attr(\"font-size\", function () {\n      return Math.floor(calendarHeatmap.settings.label_padding / 3) + \"px\";\n    }).html(\"&#x2190;\"), a.transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\", 1);\n  },\n  removeGlobalOverview: function () {\n    calendarHeatmap.items.selectAll(\".item-block-year\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\", 0).remove(), calendarHeatmap.labels.selectAll(\".label-year\").remove();\n  },\n  removeYearOverview: function () {\n    calendarHeatmap.items.selectAll(\".item-circle\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\", 0).remove(), calendarHeatmap.labels.selectAll(\".label-day\").remove(), calendarHeatmap.labels.selectAll(\".label-month\").remove(), calendarHeatmap.hideBackButton();\n  },\n  removeMonthOverview: function () {\n    calendarHeatmap.items.selectAll(\".item-block-month\").selectAll(\".item-block-rect\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\", 0).attr(\"x\", function (a, e) {\n      return e % 2 === 0 ? -calendarHeatmap.settings.width / 3 : calendarHeatmap.settings.width / 3;\n    }).remove(), calendarHeatmap.labels.selectAll(\".label-day\").remove(), calendarHeatmap.labels.selectAll(\".label-week\").remove(), calendarHeatmap.hideBackButton();\n  },\n  removeWeekOverview: function () {\n    calendarHeatmap.items.selectAll(\".item-block-week\").selectAll(\".item-block-rect\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\", 0).attr(\"x\", function (a, e) {\n      return e % 2 === 0 ? -calendarHeatmap.settings.width / 3 : calendarHeatmap.settings.width / 3;\n    }).remove(), calendarHeatmap.labels.selectAll(\".label-day\").remove(), calendarHeatmap.labels.selectAll(\".label-week\").remove(), calendarHeatmap.hideBackButton();\n  },\n  removeDayOverview: function () {\n    calendarHeatmap.items.selectAll(\".item-block\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\", 0).attr(\"x\", function (a, e) {\n      return e % 2 === 0 ? -calendarHeatmap.settings.width / 3 : calendarHeatmap.settings.width / 3;\n    }).remove(), calendarHeatmap.labels.selectAll(\".label-time\").remove(), calendarHeatmap.labels.selectAll(\".label-project\").remove(), calendarHeatmap.hideBackButton();\n  },\n  hideTooltip: function () {\n    calendarHeatmap.tooltip.transition().duration(calendarHeatmap.settings.transition_duration / 2).ease(d3.easeLinear).style(\"opacity\", 0);\n  },\n  hideBackButton: function () {\n    calendarHeatmap.buttons.selectAll(\".button\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\", 0).remove();\n  },\n  formatTime: function (a) {\n    var e = Math.floor(a / 3600),\n        t = Math.floor((a - 3600 * e) / 60),\n        n = \"\";\n    return e > 0 && (n += 1 === e ? \"1 hour \" : e + \" hours \"), t > 0 && (n += 1 === t ? \"1 minute\" : t + \" minutes\"), 0 === e && 0 === t && (n = Math.round(a) + \" seconds\"), n;\n  }\n};","map":{"version":3,"sources":["/home/iivanova/Desktop/UBC_2021_2022/CPSC547_information_visualization/project/explorify/node_modules/calendar-heatmap-graph/dist/calendar-heatmap.min.js"],"names":["calendarHeatmap","settings","gutter","item_gutter","width","height","item_size","label_padding","max_block_height","transition_duration","tooltip_width","tooltip_padding","init","a","e","t","n","r","data","container","color","overview","history","selected","handler","in_transition","createElements","parseData","drawChart","document","getElementById","tagName","classList","contains","add","createElement","className","body","appendChild","d3","select","append","attr","items","labels","buttons","tooltip","style","Math","round","moment","subtract","startOf","trunc","offsetWidth","summary","window","onresize","map","details","reduce","name","value","Object","keys","sort","drawGlobalOverview","drawYearOverview","drawMonthOverview","drawWeekOverview","drawDayOverview","length","push","date","endOf","timeYears","total","year","max","i","scaleBand","rangeRound","padding","domain","selectAll","remove","enter","scaleLinear","range","on","hideTooltip","removeGlobalOverview","parseInt","floor","l","d","formatTime","o","s","c","getBoundingClientRect","top","html","transition","duration","ease","easeLinear","delay","call","empty","each","apply","arguments","text","filter","weekday","removeYearOverview","format","cos","PI","random","timeMonths","toLocaleDateString","month","isSame","timeDays","m","bandwidth","day","drawButton","clone","week","min","removeMonthOverview","parentNode","Date","removeWeekOverview","scaleTime","timeSecond","offset","timeHours","node","getComputedTextLength","slice","removeDayOverview","pop","hideBackButton"],"mappings":"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","sourcesContent":["\"use strict\";var calendarHeatmap={settings:{gutter:5,item_gutter:1,width:1e3,height:200,item_size:10,label_padding:40,max_block_height:20,transition_duration:500,tooltip_width:250,tooltip_padding:15},init:function(a,e,t,n,r){calendarHeatmap.data=a,calendarHeatmap.container=e,calendarHeatmap.color=t||\"#ff4500\",calendarHeatmap.overview=n||\"global\",calendarHeatmap.history=[\"global\"],calendarHeatmap.selected={},calendarHeatmap.handler=r,calendarHeatmap.in_transition=!1,calendarHeatmap.createElements(),calendarHeatmap.parseData(),calendarHeatmap.drawChart()},createElements:function(){if(null!=calendarHeatmap.container){var a=document.getElementById(calendarHeatmap.container);if(!a||\"DIV\"!=a.tagName)throw\"Element not found or not of type div\";a.classList.contains(\"calendar-heatmap\")||a.classList.add(\"calendar-heatmap\")}else{var a=document.createElement(\"div\");a.className=\"calendar-heatmap\",document.body.appendChild(a)}var e=d3.select(a).append(\"svg\").attr(\"class\",\"svg\");calendarHeatmap.items=e.append(\"g\"),calendarHeatmap.labels=e.append(\"g\"),calendarHeatmap.buttons=e.append(\"g\"),calendarHeatmap.tooltip=d3.select(a).append(\"div\").attr(\"class\",\"heatmap-tooltip\").style(\"opacity\",0);var t=function(){var t=Math.round((moment()-moment().subtract(1,\"year\").startOf(\"week\"))/864e5),n=Math.trunc(t/7),r=n+1;calendarHeatmap.settings.width=a.offsetWidth<1e3?1e3:a.offsetWidth,calendarHeatmap.settings.item_size=(calendarHeatmap.settings.width-calendarHeatmap.settings.label_padding)/r-calendarHeatmap.settings.gutter,calendarHeatmap.settings.height=calendarHeatmap.settings.label_padding+7*(calendarHeatmap.settings.item_size+calendarHeatmap.settings.gutter),e.attr(\"width\",calendarHeatmap.settings.width).attr(\"height\",calendarHeatmap.settings.height),calendarHeatmap.data&&calendarHeatmap.data[0].summary&&calendarHeatmap.drawChart()};t(),window.onresize=function(a){t()}},parseData:function(){calendarHeatmap.data&&(calendarHeatmap.data[0].summary||calendarHeatmap.data.map(function(a){var e=a.details.reduce(function(a,e){return a[e.name]?a[e.name].value+=e.value:a[e.name]={value:e.value},a},{}),t=Object.keys(e).map(function(a){return{name:a,value:e[a].value}});return a.summary=t.sort(function(a,e){return e.value-a.value}),a}))},drawChart:function(){\"global\"===calendarHeatmap.overview?calendarHeatmap.drawGlobalOverview():\"year\"===calendarHeatmap.overview?calendarHeatmap.drawYearOverview():\"month\"===calendarHeatmap.overview?calendarHeatmap.drawMonthOverview():\"week\"===calendarHeatmap.overview?calendarHeatmap.drawWeekOverview():\"day\"===calendarHeatmap.overview&&calendarHeatmap.drawDayOverview()},drawGlobalOverview:function(){calendarHeatmap.history[calendarHeatmap.history.length-1]!==calendarHeatmap.overview&&calendarHeatmap.history.push(calendarHeatmap.overview);var a=moment(calendarHeatmap.data[0].date).startOf(\"year\"),e=moment(calendarHeatmap.data[calendarHeatmap.data.length-1].date).endOf(\"year\"),t=d3.timeYears(a,e).map(function(a){var e=moment(a);return{date:e,total:calendarHeatmap.data.reduce(function(a,t){return moment(t.date).year()===e.year()&&(a+=t.total),a},0),summary:function(){var a=calendarHeatmap.data.reduce(function(a,t){if(moment(t.date).year()===e.year())for(var n=0;n<t.summary.length;n++)a[t.summary[n].name]?a[t.summary[n].name].value+=t.summary[n].value:a[t.summary[n].name]={value:t.summary[n].value};return a},{}),t=Object.keys(a).map(function(e){return{name:e,value:a[e].value}});return t.sort(function(a,e){return e.value-a.value})}()}}),n=d3.max(t,function(a){return a.total}),r=d3.timeYears(a,e).map(function(a){return moment(a)}),i=d3.scaleBand().rangeRound([0,calendarHeatmap.settings.width]).padding([.05]).domain(r.map(function(a){return a.year()}));calendarHeatmap.items.selectAll(\".item-block-year\").remove();calendarHeatmap.items.selectAll(\".item-block-year\").data(t).enter().append(\"rect\").attr(\"class\",\"item item-block-year\").attr(\"width\",function(){return(calendarHeatmap.settings.width-calendarHeatmap.settings.label_padding)/r.length-5*calendarHeatmap.settings.gutter}).attr(\"height\",function(){return calendarHeatmap.settings.height-calendarHeatmap.settings.label_padding}).attr(\"transform\",function(a){return\"translate(\"+i(a.date.year())+\",\"+2*calendarHeatmap.settings.tooltip_padding+\")\"}).attr(\"fill\",function(a){var e=d3.scaleLinear().range([\"#ffffff\",calendarHeatmap.color||\"#ff4500\"]).domain([-.15*n,n]);return e(a.total)||\"#ff4500\"}).on(\"click\",function(a){calendarHeatmap.in_transition||(calendarHeatmap.in_transition=!0,calendarHeatmap.selected=a,calendarHeatmap.hideTooltip(),calendarHeatmap.removeGlobalOverview(),calendarHeatmap.overview=\"year\",calendarHeatmap.drawChart())}).style(\"opacity\",0).on(\"mouseover\",function(a){if(!calendarHeatmap.in_transition){var e=\"\";e+=\"<div><span><strong>Total time tracked:</strong></span>\";var t=parseInt(a.total,10),n=Math.floor(t/86400);n>0&&(e+=\"<span>\"+(1===n?\"1 day\":n+\" days\")+\"</span></div>\");var r=Math.floor((t-86400*n)/3600);r>0&&(e+=n>0?\"<div><span></span><span>\"+(1===r?\"1 hour\":r+\" hours\")+\"</span></div>\":\"<span>\"+(1===r?\"1 hour\":r+\" hours\")+\"</span></div>\");var l=Math.floor((t-86400*n-3600*r)/60);if(l>0&&(e+=n>0||r>0?\"<div><span></span><span>\"+(1===l?\"1 minute\":l+\" minutes\")+\"</span></div>\":\"<span>\"+(1===l?\"1 minute\":l+\" minutes\")+\"</span></div>\"),e+=\"<br />\",a.summary.length<=5)for(var d=0;d<a.summary.length;d++)e+=\"<div><span><strong>\"+a.summary[d].name+\"</strong></span>\",e+=\"<span>\"+calendarHeatmap.formatTime(a.summary[d].value)+\"</span></div>\";else{for(var d=0;d<5;d++)e+=\"<div><span><strong>\"+a.summary[d].name+\"</strong></span>\",e+=\"<span>\"+calendarHeatmap.formatTime(a.summary[d].value)+\"</span></div>\";e+=\"<br />\";for(var o=0,d=5;d<a.summary.length;d++)o=+a.summary[d].value;e+=\"<div><span><strong>Other:</strong></span>\",e+=\"<span>\"+calendarHeatmap.formatTime(o)+\"</span></div>\"}for(var s=i(a.date.year())+2*calendarHeatmap.settings.tooltip_padding;calendarHeatmap.settings.width-s<calendarHeatmap.settings.tooltip_width+5*calendarHeatmap.settings.tooltip_padding;)s-=10;var c=this.getBoundingClientRect().top+calendarHeatmap.settings.tooltip_padding;calendarHeatmap.tooltip.html(e).style(\"left\",s+\"px\").style(\"top\",c+\"px\").transition().duration(calendarHeatmap.settings.transition_duration/2).ease(d3.easeLinear).style(\"opacity\",1)}}).on(\"mouseout\",function(){calendarHeatmap.in_transition||calendarHeatmap.hideTooltip()}).transition().delay(function(a,e){return calendarHeatmap.settings.transition_duration*(e+1)/10}).duration(function(){return calendarHeatmap.settings.transition_duration}).ease(d3.easeLinear).style(\"opacity\",1).call(function(a,e){a.empty()&&e();var t=0;a.each(function(){++t}).on(\"end\",function(){--t||e.apply(this,arguments)})},function(){calendarHeatmap.in_transition=!1});calendarHeatmap.labels.selectAll(\".label-year\").remove(),calendarHeatmap.labels.selectAll(\".label-year\").data(r).enter().append(\"text\").attr(\"class\",\"label label-year\").attr(\"font-size\",function(){return Math.floor(calendarHeatmap.settings.label_padding/3)+\"px\"}).text(function(a){return a.year()}).attr(\"x\",function(a){return i(a.year())}).attr(\"y\",calendarHeatmap.settings.label_padding/2).on(\"mouseenter\",function(a){calendarHeatmap.in_transition||calendarHeatmap.items.selectAll(\".item-block-year\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\",function(e){return moment(e.date).year()===a.year()?1:.1})}).on(\"mouseout\",function(){calendarHeatmap.in_transition||calendarHeatmap.items.selectAll(\".item-block-year\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\",1)}).on(\"click\",function(a){calendarHeatmap.in_transition||(calendarHeatmap.in_transition=!0,calendarHeatmap.selected={date:a},calendarHeatmap.hideTooltip(),calendarHeatmap.removeGlobalOverview(),calendarHeatmap.overview=\"year\",calendarHeatmap.drawChart())})},drawYearOverview:function(){calendarHeatmap.history[calendarHeatmap.history.length-1]!==calendarHeatmap.overview&&calendarHeatmap.history.push(calendarHeatmap.overview);var a=moment(calendarHeatmap.selected.date).startOf(\"year\"),e=moment(calendarHeatmap.selected.date).endOf(\"year\"),t=calendarHeatmap.data.filter(function(t){return a<=moment(t.date)&&moment(t.date)<e}),n=d3.max(t,function(a){return a.total}),r=d3.scaleLinear().range([\"#ffffff\",calendarHeatmap.color||\"#ff4500\"]).domain([-.15*n,n]),i=function(e){var t=moment(e.date),n=Math.round((t-moment(a).startOf(\"week\"))/864e5),r=Math.trunc(n/7);return r*(calendarHeatmap.settings.item_size+calendarHeatmap.settings.gutter)+calendarHeatmap.settings.label_padding},l=function(a){return calendarHeatmap.settings.label_padding+moment(a.date).weekday()*(calendarHeatmap.settings.item_size+calendarHeatmap.settings.gutter)},d=function(a){return n<=0?calendarHeatmap.settings.item_size:.75*calendarHeatmap.settings.item_size+calendarHeatmap.settings.item_size*a.total/n*.25};calendarHeatmap.items.selectAll(\".item-circle\").remove(),calendarHeatmap.items.selectAll(\".item-circle\").data(t).enter().append(\"rect\").attr(\"class\",\"item item-circle\").style(\"opacity\",0).attr(\"x\",function(a){return i(a)+(calendarHeatmap.settings.item_size-d(a))/2}).attr(\"y\",function(a){return l(a)+(calendarHeatmap.settings.item_size-d(a))/2}).attr(\"rx\",function(a){return d(a)}).attr(\"ry\",function(a){return d(a)}).attr(\"width\",function(a){return d(a)}).attr(\"height\",function(a){return d(a)}).attr(\"fill\",function(a){return a.total>0?r(a.total):\"transparent\"}).on(\"click\",function(a){calendarHeatmap.in_transition||0!==a.total&&(calendarHeatmap.in_transition=!0,calendarHeatmap.selected=a,calendarHeatmap.hideTooltip(),calendarHeatmap.removeYearOverview(),calendarHeatmap.overview=\"day\",calendarHeatmap.drawChart())}).on(\"mouseover\",function(a){if(!calendarHeatmap.in_transition){var e=d3.select(this);!function s(){e=e.transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).attr(\"x\",function(a){return i(a)-(1.1*calendarHeatmap.settings.item_size-calendarHeatmap.settings.item_size)/2}).attr(\"y\",function(a){return l(a)-(1.1*calendarHeatmap.settings.item_size-calendarHeatmap.settings.item_size)/2}).attr(\"width\",1.1*calendarHeatmap.settings.item_size).attr(\"height\",1.1*calendarHeatmap.settings.item_size).transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).attr(\"x\",function(a){return i(a)+(calendarHeatmap.settings.item_size-d(a))/2}).attr(\"y\",function(a){return l(a)+(calendarHeatmap.settings.item_size-d(a))/2}).attr(\"width\",function(a){return d(a)}).attr(\"height\",function(a){return d(a)}).on(\"end\",s)}();var t=\"\";t+='<div class=\"header\"><strong>'+(a.total?calendarHeatmap.formatTime(a.total):\"No time\")+\" tracked</strong></div>\",t+=\"<div>on \"+moment(a.date).format(\"dddd, MMM Do YYYY\")+\"</div><br>\";for(var n=0;n<a.summary.length;n++)t+=\"<div><span><strong>\"+a.summary[n].name+\"</strong></span>\",t+=\"<span>\"+calendarHeatmap.formatTime(a.summary[n].value)+\"</span></div>\";var r=i(a)+calendarHeatmap.settings.item_size;calendarHeatmap.settings.width-r<calendarHeatmap.settings.tooltip_width+3*calendarHeatmap.settings.tooltip_padding&&(r-=calendarHeatmap.settings.tooltip_width+2*calendarHeatmap.settings.tooltip_padding);var o=this.getBoundingClientRect().top+calendarHeatmap.settings.item_size;calendarHeatmap.tooltip.html(t).style(\"left\",r+\"px\").style(\"top\",o+\"px\").transition().duration(calendarHeatmap.settings.transition_duration/2).ease(d3.easeLinear).style(\"opacity\",1)}}).on(\"mouseout\",function(){calendarHeatmap.in_transition||(d3.select(this).transition().duration(calendarHeatmap.settings.transition_duration/2).ease(d3.easeLinear).attr(\"x\",function(a){return i(a)+(calendarHeatmap.settings.item_size-d(a))/2}).attr(\"y\",function(a){return l(a)+(calendarHeatmap.settings.item_size-d(a))/2}).attr(\"width\",function(a){return d(a)}).attr(\"height\",function(a){return d(a)}),calendarHeatmap.hideTooltip())}).transition().delay(function(){return(Math.cos(Math.PI*Math.random())+1)*calendarHeatmap.settings.transition_duration}).duration(function(){return calendarHeatmap.settings.transition_duration}).ease(d3.easeLinear).style(\"opacity\",1).call(function(a,e){a.empty()&&e();var t=0;a.each(function(){++t}).on(\"end\",function(){--t||e.apply(this,arguments)})},function(){calendarHeatmap.in_transition=!1});var o=d3.timeMonths(a,e),s=d3.scaleLinear().range([0,calendarHeatmap.settings.width]).domain([0,o.length]);calendarHeatmap.labels.selectAll(\".label-month\").remove(),calendarHeatmap.labels.selectAll(\".label-month\").data(o).enter().append(\"text\").attr(\"class\",\"label label-month\").attr(\"font-size\",function(){return Math.floor(calendarHeatmap.settings.label_padding/3)+\"px\"}).text(function(a){return a.toLocaleDateString(\"en-us\",{month:\"short\"})}).attr(\"x\",function(a,e){return s(e)+(s(e)-s(e-1))/2}).attr(\"y\",calendarHeatmap.settings.label_padding/2).on(\"mouseenter\",function(a){if(!calendarHeatmap.in_transition){var e=moment(a);calendarHeatmap.items.selectAll(\".item-circle\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\",function(a){return moment(a.date).isSame(e,\"month\")?1:.1})}}).on(\"mouseout\",function(){calendarHeatmap.in_transition||calendarHeatmap.items.selectAll(\".item-circle\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\",1)}).on(\"click\",function(a){if(!calendarHeatmap.in_transition){var e=calendarHeatmap.data.filter(function(e){return moment(a).startOf(\"month\")<=moment(e.date)&&moment(e.date)<moment(a).endOf(\"month\")});e.length&&(calendarHeatmap.selected={date:a},calendarHeatmap.in_transition=!0,calendarHeatmap.hideTooltip(),calendarHeatmap.removeYearOverview(),calendarHeatmap.overview=\"month\",calendarHeatmap.drawChart())}});var c=d3.timeDays(moment().startOf(\"week\"),moment().endOf(\"week\")),m=d3.scaleBand().rangeRound([calendarHeatmap.settings.label_padding,calendarHeatmap.settings.height]).domain(c.map(function(a){return moment(a).weekday()}));calendarHeatmap.labels.selectAll(\".label-day\").remove(),calendarHeatmap.labels.selectAll(\".label-day\").data(c).enter().append(\"text\").attr(\"class\",\"label label-day\").attr(\"x\",calendarHeatmap.settings.label_padding/3).attr(\"y\",function(a,e){return m(e)+m.bandwidth()/1.75}).style(\"text-anchor\",\"left\").attr(\"font-size\",function(){return Math.floor(calendarHeatmap.settings.label_padding/3)+\"px\"}).text(function(a){return moment(a).format(\"dddd\")[0]}).on(\"mouseenter\",function(a){if(!calendarHeatmap.in_transition){var e=moment(a);calendarHeatmap.items.selectAll(\".item-circle\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\",function(a){return moment(a.date).day()===e.day()?1:.1})}}).on(\"mouseout\",function(){calendarHeatmap.in_transition||calendarHeatmap.items.selectAll(\".item-circle\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\",1)}),calendarHeatmap.drawButton()},drawMonthOverview:function(){calendarHeatmap.history[calendarHeatmap.history.length-1]!==calendarHeatmap.overview&&calendarHeatmap.history.push(calendarHeatmap.overview);for(var a=moment(calendarHeatmap.selected.date).startOf(\"month\"),e=moment(calendarHeatmap.selected.date).endOf(\"month\"),t=calendarHeatmap.data.filter(function(t){return a<=moment(t.date)&&moment(t.date)<e}),n=d3.max(t,function(a){return d3.max(a.summary,function(a){return a.value})}),r=d3.timeDays(moment().startOf(\"week\"),moment().endOf(\"week\")),i=d3.scaleBand().rangeRound([calendarHeatmap.settings.label_padding,calendarHeatmap.settings.height]).domain(r.map(function(a){return moment(a).weekday()})),l=[a.clone()];a.week()!==e.week();)l.push(a.add(1,\"week\").clone());var d=d3.scaleBand().rangeRound([calendarHeatmap.settings.label_padding,calendarHeatmap.settings.width]).padding([.05]).domain(l.map(function(a){return a.week()}));calendarHeatmap.items.selectAll(\".item-block-month\").remove();var o=calendarHeatmap.items.selectAll(\".item-block-month\").data(t).enter().append(\"g\").attr(\"class\",\"item item-block-month\").attr(\"width\",function(){return(calendarHeatmap.settings.width-calendarHeatmap.settings.label_padding)/l.length-5*calendarHeatmap.settings.gutter}).attr(\"height\",function(){return Math.min(i.bandwidth(),calendarHeatmap.settings.max_block_height)}).attr(\"transform\",function(a){return\"translate(\"+d(moment(a.date).week())+\",\"+(i(moment(a.date).weekday())+i.bandwidth()/1.75-15)+\")\"}).attr(\"total\",function(a){return a.total}).attr(\"date\",function(a){return a.date}).attr(\"offset\",0).on(\"click\",function(a){calendarHeatmap.in_transition||0!==a.total&&(calendarHeatmap.in_transition=!0,calendarHeatmap.selected=a,calendarHeatmap.hideTooltip(),calendarHeatmap.removeMonthOverview(),calendarHeatmap.overview=\"day\",calendarHeatmap.drawChart())}),s=(calendarHeatmap.settings.width-calendarHeatmap.settings.label_padding)/l.length-5*calendarHeatmap.settings.gutter,c=d3.scaleLinear().rangeRound([0,s]);o.selectAll(\".item-block-rect\").data(function(a){return a.summary}).enter().append(\"rect\").attr(\"class\",\"item item-block-rect\").attr(\"x\",function(a){var e=parseInt(d3.select(this.parentNode).attr(\"total\")),t=parseInt(d3.select(this.parentNode).attr(\"offset\"));return c.domain([0,e]),d3.select(this.parentNode).attr(\"offset\",t+c(a.value)),t}).attr(\"width\",function(a){var e=parseInt(d3.select(this.parentNode).attr(\"total\"));return c.domain([0,e]),Math.max(c(a.value)-calendarHeatmap.settings.item_gutter,1)}).attr(\"height\",function(){return Math.min(i.bandwidth(),calendarHeatmap.settings.max_block_height)}).attr(\"fill\",function(a){var e=d3.scaleLinear().range([\"#ffffff\",calendarHeatmap.color||\"#ff4500\"]).domain([-.15*n,n]);return e(a.value)||\"#ff4500\"}).style(\"opacity\",0).on(\"mouseover\",function(a){if(!calendarHeatmap.in_transition){var e=new Date(d3.select(this.parentNode).attr(\"date\")),t=\"\";t+='<div class=\"header\"><strong>'+a.name+\"</strong></div><br>\",t+=\"<div><strong>\"+(a.value?calendarHeatmap.formatTime(a.value):\"No time\")+\" tracked</strong></div>\",t+=\"<div>on \"+moment(e).format(\"dddd, MMM Do YYYY\")+\"</div>\";for(var n=d(moment(e).week())+calendarHeatmap.settings.tooltip_padding;calendarHeatmap.settings.width-n<calendarHeatmap.settings.tooltip_width+3*calendarHeatmap.settings.tooltip_padding;)n-=10;var r=this.getBoundingClientRect().top+calendarHeatmap.settings.tooltip_padding;calendarHeatmap.tooltip.html(t).style(\"left\",n+\"px\").style(\"top\",r+\"px\").transition().duration(calendarHeatmap.settings.transition_duration/2).ease(d3.easeLinear).style(\"opacity\",1)}}).on(\"mouseout\",function(){calendarHeatmap.in_transition||calendarHeatmap.hideTooltip()}).transition().delay(function(){return(Math.cos(Math.PI*Math.random())+1)*calendarHeatmap.settings.transition_duration}).duration(function(){return calendarHeatmap.settings.transition_duration}).ease(d3.easeLinear).style(\"opacity\",1).call(function(a,e){a.empty()&&e();var t=0;a.each(function(){++t}).on(\"end\",function(){--t||e.apply(this,arguments)})},function(){calendarHeatmap.in_transition=!1}),calendarHeatmap.labels.selectAll(\".label-week\").remove(),calendarHeatmap.labels.selectAll(\".label-week\").data(l).enter().append(\"text\").attr(\"class\",\"label label-week\").attr(\"font-size\",function(){return Math.floor(calendarHeatmap.settings.label_padding/3)+\"px\"}).text(function(a){return\"Week \"+a.week()}).attr(\"x\",function(a){return d(a.week())}).attr(\"y\",calendarHeatmap.settings.label_padding/2).on(\"mouseenter\",function(a){calendarHeatmap.in_transition||calendarHeatmap.items.selectAll(\".item-block-month\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\",function(e){return moment(e.date).week()===a.week()?1:.1})}).on(\"mouseout\",function(){calendarHeatmap.in_transition||calendarHeatmap.items.selectAll(\".item-block-month\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\",1)}).on(\"click\",function(a){if(!calendarHeatmap.in_transition){var e=calendarHeatmap.data.filter(function(e){return a.startOf(\"week\")<=moment(e.date)&&moment(e.date)<a.endOf(\"week\")});e.length&&(calendarHeatmap.in_transition=!0,calendarHeatmap.selected={date:a},calendarHeatmap.hideTooltip(),calendarHeatmap.removeMonthOverview(),calendarHeatmap.overview=\"week\",calendarHeatmap.drawChart())}}),calendarHeatmap.labels.selectAll(\".label-day\").remove(),calendarHeatmap.labels.selectAll(\".label-day\").data(r).enter().append(\"text\").attr(\"class\",\"label label-day\").attr(\"x\",calendarHeatmap.settings.label_padding/3).attr(\"y\",function(a,e){return i(e)+i.bandwidth()/1.75}).style(\"text-anchor\",\"left\").attr(\"font-size\",function(){return Math.floor(calendarHeatmap.settings.label_padding/3)+\"px\"}).text(function(a){return moment(a).format(\"dddd\")[0]}).on(\"mouseenter\",function(a){if(!calendarHeatmap.in_transition){var e=moment(a);calendarHeatmap.items.selectAll(\".item-block-month\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\",function(a){return moment(a.date).day()===e.day()?1:.1})}}).on(\"mouseout\",function(){calendarHeatmap.in_transition||calendarHeatmap.items.selectAll(\".item-block-month\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\",1)}),calendarHeatmap.drawButton()},drawWeekOverview:function(){calendarHeatmap.history[calendarHeatmap.history.length-1]!==calendarHeatmap.overview&&calendarHeatmap.history.push(calendarHeatmap.overview);var a=moment(calendarHeatmap.selected.date).startOf(\"week\"),e=moment(calendarHeatmap.selected.date).endOf(\"week\"),t=calendarHeatmap.data.filter(function(t){return a<=moment(t.date)&&moment(t.date)<e}),n=d3.max(t,function(a){return d3.max(a.summary,function(a){return a.value})}),r=d3.timeDays(moment().startOf(\"week\"),moment().endOf(\"week\")),i=d3.scaleBand().rangeRound([calendarHeatmap.settings.label_padding,calendarHeatmap.settings.height]).domain(r.map(function(a){return moment(a).weekday()})),l=[a],d=d3.scaleBand().rangeRound([calendarHeatmap.settings.label_padding,calendarHeatmap.settings.width]).padding([.01]).domain(l.map(function(a){return a.week()}));calendarHeatmap.items.selectAll(\".item-block-week\").remove();var o=calendarHeatmap.items.selectAll(\".item-block-week\").data(t).enter().append(\"g\").attr(\"class\",\"item item-block-week\").attr(\"width\",function(){return(calendarHeatmap.settings.width-calendarHeatmap.settings.label_padding)/l.length-5*calendarHeatmap.settings.gutter}).attr(\"height\",function(){return Math.min(i.bandwidth(),calendarHeatmap.settings.max_block_height)}).attr(\"transform\",function(a){return\"translate(\"+d(moment(a.date).week())+\",\"+(i(moment(a.date).weekday())+i.bandwidth()/1.75-15)+\")\"}).attr(\"total\",function(a){return a.total}).attr(\"date\",function(a){return a.date}).attr(\"offset\",0).on(\"click\",function(a){calendarHeatmap.in_transition||0!==a.total&&(calendarHeatmap.in_transition=!0,calendarHeatmap.selected=a,calendarHeatmap.hideTooltip(),calendarHeatmap.removeWeekOverview(),calendarHeatmap.overview=\"day\",calendarHeatmap.drawChart())}),s=(calendarHeatmap.settings.width-calendarHeatmap.settings.label_padding)/l.length-5*calendarHeatmap.settings.gutter,c=d3.scaleLinear().rangeRound([0,s]);o.selectAll(\".item-block-rect\").data(function(a){return a.summary}).enter().append(\"rect\").attr(\"class\",\"item item-block-rect\").attr(\"x\",function(a){var e=parseInt(d3.select(this.parentNode).attr(\"total\")),t=parseInt(d3.select(this.parentNode).attr(\"offset\"));return c.domain([0,e]),d3.select(this.parentNode).attr(\"offset\",t+c(a.value)),t}).attr(\"width\",function(a){var e=parseInt(d3.select(this.parentNode).attr(\"total\"));return c.domain([0,e]),Math.max(c(a.value)-calendarHeatmap.settings.item_gutter,1)}).attr(\"height\",function(){return Math.min(i.bandwidth(),calendarHeatmap.settings.max_block_height)}).attr(\"fill\",function(a){var e=d3.scaleLinear().range([\"#ffffff\",calendarHeatmap.color||\"#ff4500\"]).domain([-.15*n,n]);return e(a.value)||\"#ff4500\"}).style(\"opacity\",0).on(\"mouseover\",function(a){if(!calendarHeatmap.in_transition){var e=new Date(d3.select(this.parentNode).attr(\"date\")),t=\"\";t+='<div class=\"header\"><strong>'+a.name+\"</strong></div><br>\",t+=\"<div><strong>\"+(a.value?calendarHeatmap.formatTime(a.value):\"No time\")+\" tracked</strong></div>\",t+=\"<div>on \"+moment(e).format(\"dddd, MMM Do YYYY\")+\"</div>\";var n=parseInt(d3.select(this.parentNode).attr(\"total\"));c.domain([0,n]);for(var r=parseInt(d3.select(this).attr(\"x\"))+c(a.value)/4+calendarHeatmap.settings.tooltip_width/4;calendarHeatmap.settings.width-r<calendarHeatmap.settings.tooltip_width+3*calendarHeatmap.settings.tooltip_padding;)r-=10;var i=this.getBoundingClientRect().top+calendarHeatmap.settings.tooltip_padding;calendarHeatmap.tooltip.html(t).style(\"left\",r+\"px\").style(\"top\",i+\"px\").transition().duration(calendarHeatmap.settings.transition_duration/2).ease(d3.easeLinear).style(\"opacity\",1)}}).on(\"mouseout\",function(){calendarHeatmap.in_transition||calendarHeatmap.hideTooltip()}).transition().delay(function(){return(Math.cos(Math.PI*Math.random())+1)*calendarHeatmap.settings.transition_duration}).duration(function(){return calendarHeatmap.settings.transition_duration}).ease(d3.easeLinear).style(\"opacity\",1).call(function(a,e){a.empty()&&e();var t=0;a.each(function(){++t}).on(\"end\",function(){--t||e.apply(this,arguments)})},function(){calendarHeatmap.in_transition=!1}),calendarHeatmap.labels.selectAll(\".label-week\").remove(),calendarHeatmap.labels.selectAll(\".label-week\").data(l).enter().append(\"text\").attr(\"class\",\"label label-week\").attr(\"font-size\",function(){return Math.floor(calendarHeatmap.settings.label_padding/3)+\"px\"}).text(function(a){return\"Week \"+a.week()}).attr(\"x\",function(a){return d(a.week())}).attr(\"y\",calendarHeatmap.settings.label_padding/2).on(\"mouseenter\",function(a){calendarHeatmap.in_transition||calendarHeatmap.items.selectAll(\".item-block-week\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\",function(e){return moment(e.date).week()===a.week()?1:.1})}).on(\"mouseout\",function(){calendarHeatmap.in_transition||calendarHeatmap.items.selectAll(\".item-block-week\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\",1)}),calendarHeatmap.labels.selectAll(\".label-day\").remove(),calendarHeatmap.labels.selectAll(\".label-day\").data(r).enter().append(\"text\").attr(\"class\",\"label label-day\").attr(\"x\",calendarHeatmap.settings.label_padding/3).attr(\"y\",function(a,e){return i(e)+i.bandwidth()/1.75}).style(\"text-anchor\",\"left\").attr(\"font-size\",function(){return Math.floor(calendarHeatmap.settings.label_padding/3)+\"px\"}).text(function(a){return moment(a).format(\"dddd\")[0]}).on(\"mouseenter\",function(a){if(!calendarHeatmap.in_transition){var e=moment(a);calendarHeatmap.items.selectAll(\".item-block-week\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\",function(a){return moment(a.date).day()===e.day()?1:.1})}}).on(\"mouseout\",function(){calendarHeatmap.in_transition||calendarHeatmap.items.selectAll(\".item-block-week\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\",1)}),calendarHeatmap.drawButton()},drawDayOverview:function(){calendarHeatmap.history[calendarHeatmap.history.length-1]!==calendarHeatmap.overview&&calendarHeatmap.history.push(calendarHeatmap.overview),Object.keys(calendarHeatmap.selected).length||(calendarHeatmap.selected=calendarHeatmap.data[calendarHeatmap.data.length-1]);var a=calendarHeatmap.selected.summary.map(function(a){return a.name}),e=d3.scaleBand().rangeRound([calendarHeatmap.settings.label_padding,calendarHeatmap.settings.height]).domain(a),t=d3.scaleTime().range([2*calendarHeatmap.settings.label_padding,calendarHeatmap.settings.width]).domain([moment(calendarHeatmap.selected.date).startOf(\"day\"),moment(calendarHeatmap.selected.date).endOf(\"day\")]);calendarHeatmap.items.selectAll(\".item-block\").remove(),calendarHeatmap.items.selectAll(\".item-block\").data(calendarHeatmap.selected.details).enter().append(\"rect\").attr(\"class\",\"item item-block\").attr(\"x\",function(a){return t(moment(a.date))}).attr(\"y\",function(a){return e(a.name)+e.bandwidth()/2-15}).attr(\"width\",function(a){var e=t(d3.timeSecond.offset(moment(a.date),a.value));return Math.max(e-t(moment(a.date)),1)}).attr(\"height\",function(){return Math.min(e.bandwidth(),calendarHeatmap.settings.max_block_height)}).attr(\"fill\",function(a){return a.color||calendarHeatmap.color||\"#ff4500\"}).style(\"opacity\",0).on(\"mouseover\",function(a){if(!calendarHeatmap.in_transition){var e=\"\";e+='<div class=\"header\"><strong>'+a.name+\"</strong><div><br>\",e+=\"<div><strong>\"+(a.value?calendarHeatmap.formatTime(a.value):\"No time\")+\" tracked</strong></div>\",e+=\"<div>on \"+moment(a.date).format(\"dddd, MMM Do YYYY HH:mm\")+\"</div>\";for(var n=100*a.value/86400+t(moment(a.date));calendarHeatmap.settings.width-n<calendarHeatmap.settings.tooltip_width+3*calendarHeatmap.settings.tooltip_padding;)n-=10;var r=this.getBoundingClientRect().top+calendarHeatmap.settings.tooltip_padding;calendarHeatmap.tooltip.html(e).style(\"left\",n+\"px\").style(\"top\",r+\"px\").transition().duration(calendarHeatmap.settings.transition_duration/2).ease(d3.easeLinear).style(\"opacity\",1)}}).on(\"mouseout\",function(){calendarHeatmap.in_transition||calendarHeatmap.hideTooltip()}).on(\"click\",function(a){calendarHeatmap.handler&&\"function\"==typeof calendarHeatmap.handler&&calendarHeatmap.handler(a)}).transition().delay(function(){return(Math.cos(Math.PI*Math.random())+1)*calendarHeatmap.settings.transition_duration}).duration(function(){return calendarHeatmap.settings.transition_duration}).ease(d3.easeLinear).style(\"opacity\",.5).call(function(a,e){a.empty()&&e();var t=0;a.each(function(){++t}).on(\"end\",function(){--t||e.apply(this,arguments)})},function(){calendarHeatmap.in_transition=!1});var n=d3.timeHours(moment(calendarHeatmap.selected.date).startOf(\"day\"),moment(calendarHeatmap.selected.date).endOf(\"day\")),r=d3.scaleTime().range([2*calendarHeatmap.settings.label_padding,calendarHeatmap.settings.width]).domain([0,n.length]);calendarHeatmap.labels.selectAll(\".label-time\").remove(),calendarHeatmap.labels.selectAll(\".label-time\").data(n).enter().append(\"text\").attr(\"class\",\"label label-time\").attr(\"font-size\",function(){return Math.floor(calendarHeatmap.settings.label_padding/3)+\"px\"}).text(function(a){return moment(a).format(\"HH:mm\")}).attr(\"x\",function(a,e){return r(e)}).attr(\"y\",calendarHeatmap.settings.label_padding/2).on(\"mouseenter\",function(a){if(!calendarHeatmap.in_transition){var e=t(moment(a));calendarHeatmap.items.selectAll(\".item-block\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\",function(a){var n=t(moment(a.date)),r=t(moment(a.date).add(a.value,\"seconds\"));return e>=n&&e<=r?1:.1})}}).on(\"mouseout\",function(){calendarHeatmap.in_transition||calendarHeatmap.items.selectAll(\".item-block\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\",.5)}),calendarHeatmap.labels.selectAll(\".label-project\").remove(),calendarHeatmap.labels.selectAll(\".label-project\").data(a).enter().append(\"text\").attr(\"class\",\"label label-project\").attr(\"x\",calendarHeatmap.settings.gutter).attr(\"y\",function(a){return e(a)+e.bandwidth()/2}).attr(\"min-height\",function(){return e.bandwidth()}).style(\"text-anchor\",\"left\").attr(\"font-size\",function(){return Math.floor(calendarHeatmap.settings.label_padding/3)+\"px\"}).text(function(a){return a}).each(function(){for(var a=d3.select(this),e=a.node().getComputedTextLength(),t=a.text();e>1.5*calendarHeatmap.settings.label_padding&&t.length>0;)t=t.slice(0,-1),a.text(t+\"...\"),e=a.node().getComputedTextLength()}).on(\"mouseenter\",function(a){calendarHeatmap.in_transition||calendarHeatmap.items.selectAll(\".item-block\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\",function(e){\nreturn e.name===a?1:.1})}).on(\"mouseout\",function(){calendarHeatmap.in_transition||calendarHeatmap.items.selectAll(\".item-block\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\",.5)}),calendarHeatmap.drawButton()},drawButton:function(){calendarHeatmap.buttons.selectAll(\".button\").remove();var a=calendarHeatmap.buttons.append(\"g\").attr(\"class\",\"button button-back\").style(\"opacity\",0).on(\"click\",function(){calendarHeatmap.in_transition||(calendarHeatmap.in_transition=!0,\"year\"===calendarHeatmap.overview?calendarHeatmap.removeYearOverview():\"month\"===calendarHeatmap.overview?calendarHeatmap.removeMonthOverview():\"week\"===calendarHeatmap.overview?calendarHeatmap.removeWeekOverview():\"day\"===calendarHeatmap.overview&&calendarHeatmap.removeDayOverview(),calendarHeatmap.history.pop(),calendarHeatmap.overview=calendarHeatmap.history.pop(),calendarHeatmap.drawChart())});a.append(\"circle\").attr(\"cx\",calendarHeatmap.settings.label_padding/2.25).attr(\"cy\",calendarHeatmap.settings.label_padding/2.5).attr(\"r\",calendarHeatmap.settings.item_size/2),a.append(\"text\").attr(\"x\",calendarHeatmap.settings.label_padding/2.25).attr(\"y\",calendarHeatmap.settings.label_padding/2.5).attr(\"dy\",function(){return Math.floor(calendarHeatmap.settings.width/100)/3}).attr(\"font-size\",function(){return Math.floor(calendarHeatmap.settings.label_padding/3)+\"px\"}).html(\"&#x2190;\"),a.transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\",1)},removeGlobalOverview:function(){calendarHeatmap.items.selectAll(\".item-block-year\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\",0).remove(),calendarHeatmap.labels.selectAll(\".label-year\").remove()},removeYearOverview:function(){calendarHeatmap.items.selectAll(\".item-circle\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\",0).remove(),calendarHeatmap.labels.selectAll(\".label-day\").remove(),calendarHeatmap.labels.selectAll(\".label-month\").remove(),calendarHeatmap.hideBackButton()},removeMonthOverview:function(){calendarHeatmap.items.selectAll(\".item-block-month\").selectAll(\".item-block-rect\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\",0).attr(\"x\",function(a,e){return e%2===0?-calendarHeatmap.settings.width/3:calendarHeatmap.settings.width/3}).remove(),calendarHeatmap.labels.selectAll(\".label-day\").remove(),calendarHeatmap.labels.selectAll(\".label-week\").remove(),calendarHeatmap.hideBackButton()},removeWeekOverview:function(){calendarHeatmap.items.selectAll(\".item-block-week\").selectAll(\".item-block-rect\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\",0).attr(\"x\",function(a,e){return e%2===0?-calendarHeatmap.settings.width/3:calendarHeatmap.settings.width/3}).remove(),calendarHeatmap.labels.selectAll(\".label-day\").remove(),calendarHeatmap.labels.selectAll(\".label-week\").remove(),calendarHeatmap.hideBackButton()},removeDayOverview:function(){calendarHeatmap.items.selectAll(\".item-block\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\",0).attr(\"x\",function(a,e){return e%2===0?-calendarHeatmap.settings.width/3:calendarHeatmap.settings.width/3}).remove(),calendarHeatmap.labels.selectAll(\".label-time\").remove(),calendarHeatmap.labels.selectAll(\".label-project\").remove(),calendarHeatmap.hideBackButton()},hideTooltip:function(){calendarHeatmap.tooltip.transition().duration(calendarHeatmap.settings.transition_duration/2).ease(d3.easeLinear).style(\"opacity\",0)},hideBackButton:function(){calendarHeatmap.buttons.selectAll(\".button\").transition().duration(calendarHeatmap.settings.transition_duration).ease(d3.easeLinear).style(\"opacity\",0).remove()},formatTime:function(a){var e=Math.floor(a/3600),t=Math.floor((a-3600*e)/60),n=\"\";return e>0&&(n+=1===e?\"1 hour \":e+\" hours \"),t>0&&(n+=1===t?\"1 minute\":t+\" minutes\"),0===e&&0===t&&(n=Math.round(a)+\" seconds\"),n}};"]},"metadata":{},"sourceType":"script"}