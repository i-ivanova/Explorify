{"ast":null,"code":"(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory(require(\"react\"), require(\"moment\"), require(\"d3\"));else if (typeof define === 'function' && define.amd) define([\"react\", \"moment\", \"d3\"], factory);else if (typeof exports === 'object') exports[\"CalendarHeatmap\"] = factory(require(\"react\"), require(\"moment\"), require(\"d3\"));else root[\"CalendarHeatmap\"] = factory(root[\"React\"], root[\"moment\"], root[\"d3\"]);\n})(window, function (__WEBPACK_EXTERNAL_MODULE__3__, __WEBPACK_EXTERNAL_MODULE__4__, __WEBPACK_EXTERNAL_MODULE__5__) {\n  return (\n    /******/\n    function (modules) {\n      // webpackBootstrap\n\n      /******/\n      // The module cache\n\n      /******/\n      var installedModules = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n\n        /******/\n        // Check if module is in cache\n\n        /******/\n        if (installedModules[moduleId]) {\n          /******/\n          return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = installedModules[moduleId] = {\n          /******/\n          i: moduleId,\n\n          /******/\n          l: false,\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n        module.l = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n\n      /******/\n      // expose the modules object (__webpack_modules__)\n\n      /******/\n\n\n      __webpack_require__.m = modules;\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n      __webpack_require__.c = installedModules;\n      /******/\n\n      /******/\n      // define getter function for harmony exports\n\n      /******/\n\n      __webpack_require__.d = function (exports, name, getter) {\n        /******/\n        if (!__webpack_require__.o(exports, name)) {\n          /******/\n          Object.defineProperty(exports, name, {\n            enumerable: true,\n            get: getter\n          });\n          /******/\n        }\n        /******/\n\n      };\n      /******/\n\n      /******/\n      // define __esModule on exports\n\n      /******/\n\n\n      __webpack_require__.r = function (exports) {\n        /******/\n        if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n          /******/\n          Object.defineProperty(exports, Symbol.toStringTag, {\n            value: 'Module'\n          });\n          /******/\n        }\n        /******/\n\n\n        Object.defineProperty(exports, '__esModule', {\n          value: true\n        });\n        /******/\n      };\n      /******/\n\n      /******/\n      // create a fake namespace object\n\n      /******/\n      // mode & 1: value is a module id, require it\n\n      /******/\n      // mode & 2: merge all properties of value into the ns\n\n      /******/\n      // mode & 4: return value when already ns object\n\n      /******/\n      // mode & 8|1: behave like require\n\n      /******/\n\n\n      __webpack_require__.t = function (value, mode) {\n        /******/\n        if (mode & 1) value = __webpack_require__(value);\n        /******/\n\n        if (mode & 8) return value;\n        /******/\n\n        if (mode & 4 && typeof value === 'object' && value && value.__esModule) return value;\n        /******/\n\n        var ns = Object.create(null);\n        /******/\n\n        __webpack_require__.r(ns);\n        /******/\n\n\n        Object.defineProperty(ns, 'default', {\n          enumerable: true,\n          value: value\n        });\n        /******/\n\n        if (mode & 2 && typeof value != 'string') for (var key in value) {\n          __webpack_require__.d(ns, key, function (key) {\n            return value[key];\n          }.bind(null, key));\n        }\n        /******/\n\n        return ns;\n        /******/\n      };\n      /******/\n\n      /******/\n      // getDefaultExport function for compatibility with non-harmony modules\n\n      /******/\n\n\n      __webpack_require__.n = function (module) {\n        /******/\n        var getter = module && module.__esModule ?\n        /******/\n        function getDefault() {\n          return module['default'];\n        } :\n        /******/\n        function getModuleExports() {\n          return module;\n        };\n        /******/\n\n        __webpack_require__.d(getter, 'a', getter);\n        /******/\n\n\n        return getter;\n        /******/\n      };\n      /******/\n\n      /******/\n      // Object.prototype.hasOwnProperty.call\n\n      /******/\n\n\n      __webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n\n      /******/\n      // __webpack_public_path__\n\n      /******/\n\n\n      __webpack_require__.p = \"/\";\n      /******/\n\n      /******/\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      return __webpack_require__(__webpack_require__.s = 1);\n      /******/\n    }\n    /************************************************************************/\n\n    /******/\n    ([\n    /* 0 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /*\n        MIT License http://www.opensource.org/licenses/mit-license.php\n        Author Tobias Koppers @sokra\n      */\n      // css base code, injected by the css-loader\n      // eslint-disable-next-line func-names\n\n      module.exports = function (useSourceMap) {\n        var list = []; // return the list of modules as css string\n\n        list.toString = function toString() {\n          return this.map(function (item) {\n            var content = cssWithMappingToString(item, useSourceMap);\n\n            if (item[2]) {\n              return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n            }\n\n            return content;\n          }).join('');\n        }; // import a list of modules into the list\n        // eslint-disable-next-line func-names\n\n\n        list.i = function (modules, mediaQuery, dedupe) {\n          if (typeof modules === 'string') {\n            // eslint-disable-next-line no-param-reassign\n            modules = [[null, modules, '']];\n          }\n\n          var alreadyImportedModules = {};\n\n          if (dedupe) {\n            for (var i = 0; i < this.length; i++) {\n              // eslint-disable-next-line prefer-destructuring\n              var id = this[i][0];\n\n              if (id != null) {\n                alreadyImportedModules[id] = true;\n              }\n            }\n          }\n\n          for (var _i = 0; _i < modules.length; _i++) {\n            var item = [].concat(modules[_i]);\n\n            if (dedupe && alreadyImportedModules[item[0]]) {\n              // eslint-disable-next-line no-continue\n              continue;\n            }\n\n            if (mediaQuery) {\n              if (!item[2]) {\n                item[2] = mediaQuery;\n              } else {\n                item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n              }\n            }\n\n            list.push(item);\n          }\n        };\n\n        return list;\n      };\n\n      function cssWithMappingToString(item, useSourceMap) {\n        var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n        var cssMapping = item[3];\n\n        if (!cssMapping) {\n          return content;\n        }\n\n        if (useSourceMap && typeof btoa === 'function') {\n          var sourceMapping = toComment(cssMapping);\n          var sourceURLs = cssMapping.sources.map(function (source) {\n            return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n          });\n          return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n        }\n\n        return [content].join('\\n');\n      } // Adapted from convert-source-map (MIT)\n\n\n      function toComment(sourceMap) {\n        // eslint-disable-next-line no-undef\n        var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n        var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n        return \"/*# \".concat(data, \" */\");\n      }\n      /***/\n\n    },\n    /* 1 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _calendarHeatmapComponent = __webpack_require__(2);\n\n      var _calendarHeatmapComponent2 = _interopRequireDefault(_calendarHeatmapComponent);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      exports.default = _calendarHeatmapComponent2.default;\n      module.exports = exports['default'];\n      /***/\n    },\n    /* 2 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _react = __webpack_require__(3);\n\n      var React = _interopRequireWildcard(_react);\n\n      var _moment = __webpack_require__(4);\n\n      var _moment2 = _interopRequireDefault(_moment);\n\n      var _d = __webpack_require__(5);\n\n      var d3 = _interopRequireWildcard(_d);\n\n      var _calendarHeatmap = __webpack_require__(6);\n\n      var _calendarHeatmap2 = _interopRequireDefault(_calendarHeatmap);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _interopRequireWildcard(obj) {\n        if (obj && obj.__esModule) {\n          return obj;\n        } else {\n          var newObj = {};\n\n          if (obj != null) {\n            for (var key in obj) {\n              if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n            }\n          }\n\n          newObj.default = obj;\n          return newObj;\n        }\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var CalendarHeatmap = function (_React$Component) {\n        _inherits(CalendarHeatmap, _React$Component);\n\n        function CalendarHeatmap(props) {\n          _classCallCheck(this, CalendarHeatmap);\n\n          var _this = _possibleConstructorReturn(this, (CalendarHeatmap.__proto__ || Object.getPrototypeOf(CalendarHeatmap)).call(this, props));\n\n          _this.settings = {\n            gutter: 5,\n            item_gutter: 1,\n            width: 1000,\n            height: 200,\n            item_size: 10,\n            label_padding: 40,\n            max_block_height: 20,\n            transition_duration: 500,\n            tooltip_width: 250,\n            tooltip_padding: 15\n          };\n          _this.in_transition = false;\n          _this.overview = _this.props.overview;\n          _this.history = ['global'];\n          _this.selected = {};\n          _this.calcDimensions = _this.calcDimensions.bind(_this);\n          return _this;\n        }\n\n        _createClass(CalendarHeatmap, [{\n          key: 'componentDidMount',\n          value: function componentDidMount() {\n            this.createElements();\n            this.parseData();\n            this.drawChart();\n            window.addEventListener('resize', this.calcDimensions);\n          }\n        }, {\n          key: 'componentDidUpdate',\n          value: function componentDidUpdate() {\n            this.parseData();\n            this.drawChart();\n          }\n        }, {\n          key: 'componentWillUnmount',\n          value: function componentWillUnmount() {\n            window.removeEventListener('resize', this.calcDimensions);\n          }\n        }, {\n          key: 'createElements',\n          value: function createElements() {\n            // Create svg element\n            this.svg = d3.select('#calendar-heatmap').append('svg').attr('class', 'svg'); // Create other svg elements\n\n            this.items = this.svg.append('g');\n            this.labels = this.svg.append('g');\n            this.buttons = this.svg.append('g'); // Add tooltip to the same element as main svg\n\n            this.tooltip = d3.select('#calendar-heatmap').append('div').attr('class', _calendarHeatmap2.default.heatmapTooltip).style('opacity', 0).style('pointer-events', 'none').style('position', 'absolute').style('z-index', 9999).style('width', '250px').style('max-width', '250px').style('overflow', 'hidden').style('padding', '15px').style('font-size', '12px').style('line-height', '14px').style('color', 'rgb(51, 51, 51)').style('background', 'rgba(255, 255, 255, 0.75)');\n            this.calcDimensions();\n          } // Calculate dimensions based on available width\n\n        }, {\n          key: 'calcDimensions',\n          value: function calcDimensions() {\n            var dayIndex = Math.round(((0, _moment2.default)() - (0, _moment2.default)().subtract(1, 'year').startOf('week')) / 86400000);\n            var colIndex = Math.trunc(dayIndex / 7);\n            var numWeeks = colIndex + 1;\n            this.settings.width = this.container.offsetWidth < 1000 ? 1000 : this.container.offsetWidth;\n            this.settings.item_size = (this.settings.width - this.settings.label_padding) / numWeeks - this.settings.gutter;\n            this.settings.height = this.settings.label_padding + 7 * (this.settings.item_size + this.settings.gutter);\n            this.svg.attr('width', this.settings.width).attr('height', this.settings.height);\n\n            if (!!this.props.data && !!this.props.data[0].summary) {\n              this.drawChart();\n            }\n          }\n        }, {\n          key: 'parseData',\n          value: function parseData() {\n            if (!this.props.data) {\n              return;\n            } // Get daily summary if that was not provided\n\n\n            if (!this.props.data[0].summary) {\n              this.props.data.map(function (d) {\n                var summary = d.details.reduce(function (uniques, project) {\n                  if (!uniques[project.name]) {\n                    uniques[project.name] = {\n                      'value': project.value\n                    };\n                  } else {\n                    uniques[project.name].value += project.value;\n                  }\n\n                  return uniques;\n                }, {});\n                var unsorted_summary = Object.keys(summary).map(function (key) {\n                  return {\n                    'name': key,\n                    'value': summary[key].value\n                  };\n                });\n                d.summary = unsorted_summary.sort(function (a, b) {\n                  return b.value - a.value;\n                });\n                return d;\n              });\n            }\n          }\n        }, {\n          key: 'drawChart',\n          value: function drawChart() {\n            if (this.overview === 'global') {\n              this.drawGlobalOverview();\n            } else if (this.overview === 'year') {\n              this.drawYearOverview();\n            } else if (this.overview === 'month') {\n              this.drawMonthOverview();\n            } else if (this.overview === 'week') {\n              this.drawWeekOverview();\n            } else if (this.overview === 'day') {\n              this.drawDayOverview();\n            }\n          }\n          /**\n           * Draw global overview (multiple years)\n           */\n\n        }, {\n          key: 'drawGlobalOverview',\n          value: function drawGlobalOverview() {\n            var _this2 = this; // Add current overview to the history\n\n\n            if (this.history[this.history.length - 1] !== this.overview) {\n              this.history.push(this.overview);\n            } // Define start and end of the dataset\n\n\n            var start = (0, _moment2.default)(this.props.data[0].date).startOf('year');\n            var end = (0, _moment2.default)(this.props.data[this.props.data.length - 1].date).endOf('year'); // Define array of years and total values\n\n            var year_data = d3.timeYears(start, end).map(function (d) {\n              var date = (0, _moment2.default)(d);\n\n              var getSummary = function getSummary() {\n                var summary = _this2.props.data.reduce(function (summary, d) {\n                  if ((0, _moment2.default)(d.date).year() === date.year()) {\n                    d.summary.map(function (item) {\n                      if (!summary[item.name]) {\n                        summary[item.name] = {\n                          'value': item.value\n                        };\n                      } else {\n                        summary[item.name].value += item.value;\n                      }\n                    });\n                  }\n\n                  return summary;\n                }, {});\n\n                var unsorted_summary = Object.keys(summary).map(function (key) {\n                  return {\n                    'name': key,\n                    'value': summary[key].value\n                  };\n                });\n                return unsorted_summary.sort(function (a, b) {\n                  return b.value - a.value;\n                });\n              };\n\n              return {\n                'date': date,\n                'total': _this2.props.data.reduce(function (prev, current) {\n                  if ((0, _moment2.default)(current.date).year() === date.year()) {\n                    prev += current.total;\n                  }\n\n                  return prev;\n                }, 0),\n                'summary': getSummary()\n              };\n            }); // Calculate max value of all the years in the dataset\n\n            var max_value = d3.max(year_data, function (d) {\n              return d.total;\n            }); // Define year labels and axis\n\n            var year_labels = d3.timeYears(start, end).map(function (d) {\n              return (0, _moment2.default)(d);\n            });\n            var yearScale = d3.scaleBand().rangeRound([0, this.settings.width]).padding([0.05]).domain(year_labels.map(function (d) {\n              return d.year();\n            })); // Add global data items to the overview\n\n            this.items.selectAll('.item-block-year').remove();\n            var item_block = this.items.selectAll('.item-block-year').data(year_data).enter().append('rect').attr('class', 'item item-block-year').style('cursor', 'pointer').attr('width', function () {\n              return (_this2.settings.width - _this2.settings.label_padding) / year_labels.length - _this2.settings.gutter * 5;\n            }).attr('height', function () {\n              return _this2.settings.height - _this2.settings.label_padding;\n            }).attr('transform', function (d) {\n              return 'translate(' + yearScale(d.date.year()) + ',' + _this2.settings.tooltip_padding * 2 + ')';\n            }).attr('fill', function (d) {\n              var color = d3.scaleLinear().range(['#ffffff', _this2.props.color]).domain([-0.15 * max_value, max_value]);\n              return color(d.total) || '#ff4500';\n            }).on('click', function (d) {\n              if (_this2.in_transition) {\n                return;\n              } // Set in_transition flag\n\n\n              _this2.in_transition = true; // Set selected date to the one clicked on\n\n              _this2.selected = d; // Hide tooltip\n\n              _this2.hideTooltip(); // Remove all global overview related items and labels\n\n\n              _this2.removeGlobalOverview(); // Redraw the chart\n\n\n              _this2.overview = 'year';\n\n              _this2.drawChart();\n            }).style('opacity', 0).on('mouseover', function (d) {\n              if (_this2.in_transition) {\n                return;\n              } // Construct tooltip\n\n\n              var tooltip_html = '';\n              tooltip_html += '<div><span><strong>Total time tracked:</strong></span>';\n              var sec = parseInt(d.total, 10);\n              var days = Math.floor(sec / 86400);\n\n              if (days > 0) {\n                tooltip_html += '<span>' + (days === 1 ? '1 day' : days + ' days') + '</span></div>';\n              }\n\n              var hours = Math.floor((sec - days * 86400) / 3600);\n\n              if (hours > 0) {\n                if (days > 0) {\n                  tooltip_html += '<div><span></span><span>' + (hours === 1 ? '1 hour' : hours + ' hours') + '</span></div>';\n                } else {\n                  tooltip_html += '<span>' + (hours === 1 ? '1 hour' : hours + ' hours') + '</span></div>';\n                }\n              }\n\n              var minutes = Math.floor((sec - days * 86400 - hours * 3600) / 60);\n\n              if (minutes > 0) {\n                if (days > 0 || hours > 0) {\n                  tooltip_html += '<div><span></span><span>' + (minutes === 1 ? '1 minute' : minutes + ' minutes') + '</span></div>';\n                } else {\n                  tooltip_html += '<span>' + (minutes === 1 ? '1 minute' : minutes + ' minutes') + '</span></div>';\n                }\n              }\n\n              tooltip_html += '<br />'; // Add summary to the tooltip\n\n              if (d.summary.length <= 5) {\n                var counter = 0;\n\n                while (counter < d.summary.length) {\n                  tooltip_html += '<div><span><strong>' + d.summary[counter].name + '</strong></span>';\n                  tooltip_html += '<span>' + _this2.formatTime(d.summary[counter].value) + '</span></div>';\n                  counter++;\n                }\n              } else {\n                var _counter = 0;\n\n                while (_counter < 5) {\n                  tooltip_html += '<div><span><strong>' + d.summary[_counter].name + '</strong></span>';\n                  tooltip_html += '<span>' + _this2.formatTime(d.summary[_counter].value) + '</span></div>';\n                  _counter++;\n                }\n\n                tooltip_html += '<br />';\n                _counter = 5;\n                var other_projects_sum = 0;\n\n                while (_counter < d.summary.length) {\n                  other_projects_sum = +d.summary[_counter].value;\n                  _counter++;\n                }\n\n                tooltip_html += '<div><span><strong>Other:</strong></span>';\n                tooltip_html += '<span>' + _this2.formatTime(other_projects_sum) + '</span></div>';\n              } // Calculate tooltip position\n\n\n              var x = yearScale(d.date.year()) + _this2.settings.tooltip_padding * 2;\n\n              while (_this2.settings.width - x < _this2.settings.tooltip_width + _this2.settings.tooltip_padding * 5) {\n                x -= 10;\n              }\n\n              var y = _this2.settings.tooltip_padding * 3; // Show tooltip\n\n              _this2.tooltip.html(tooltip_html).style('left', x + 'px').style('top', y + 'px').transition().duration(_this2.settings.transition_duration / 2).ease(d3.easeLinear).style('opacity', 1);\n            }).on('mouseout', function () {\n              if (_this2.in_transition) {\n                return;\n              }\n\n              _this2.hideTooltip();\n            }).transition().delay(function (d, i) {\n              return _this2.settings.transition_duration * (i + 1) / 10;\n            }).duration(function () {\n              return _this2.settings.transition_duration;\n            }).ease(d3.easeLinear).style('opacity', 1).call(function (transition, callback) {\n              if (transition.empty()) {\n                callback();\n              }\n\n              var n = 0;\n              transition.each(function () {\n                ++n;\n              }).on('end', function () {\n                if (! --n) {\n                  callback.apply(this, arguments);\n                }\n              });\n            }, function () {\n              _this2.in_transition = false;\n            }); // Add year labels\n\n            this.labels.selectAll('.label-year').remove();\n            this.labels.selectAll('.label-year').data(year_labels).enter().append('text').attr('class', 'label label-year').style('cursor', 'pointer').style('fill', 'rgb(170, 170, 170)').attr('font-size', function () {\n              return Math.floor(_this2.settings.label_padding / 3) + 'px';\n            }).text(function (d) {\n              return d.year();\n            }).attr('x', function (d) {\n              return yearScale(d.year());\n            }).attr('y', this.settings.label_padding / 2).on('mouseenter', function (year_label) {\n              if (_this2.in_transition) {\n                return;\n              }\n\n              _this2.items.selectAll('.item-block-year').transition().duration(_this2.settings.transition_duration).ease(d3.easeLinear).style('opacity', function (d) {\n                return (0, _moment2.default)(d.date).year() === year_label.year() ? 1 : 0.1;\n              });\n            }).on('mouseout', function () {\n              if (_this2.in_transition) {\n                return;\n              }\n\n              _this2.items.selectAll('.item-block-year').transition().duration(_this2.settings.transition_duration).ease(d3.easeLinear).style('opacity', 1);\n            }).on('click', function (d) {\n              if (_this2.in_transition) {\n                return;\n              } // Set in_transition flag\n\n\n              _this2.in_transition = true; // Set selected year to the one clicked on\n\n              _this2.selected = {\n                date: d // Hide tooltip\n\n              };\n\n              _this2.hideTooltip(); // Remove all global overview related items and labels\n\n\n              _this2.removeGlobalOverview(); // Redraw the chart\n\n\n              _this2.overview = 'year';\n\n              _this2.drawChart();\n            });\n          }\n          /**\n           * Draw year overview\n           */\n\n        }, {\n          key: 'drawYearOverview',\n          value: function drawYearOverview() {\n            var _this3 = this; // Add current overview to the history\n\n\n            if (this.history[this.history.length - 1] !== this.overview) {\n              this.history.push(this.overview);\n            } // Define start and end date of the selected year\n\n\n            var start_of_year = (0, _moment2.default)(this.selected.date).startOf('year');\n            var end_of_year = (0, _moment2.default)(this.selected.date).endOf('year'); // Filter data down to the selected year\n\n            var year_data = this.props.data.filter(function (d) {\n              return start_of_year <= (0, _moment2.default)(d.date) && (0, _moment2.default)(d.date) < end_of_year;\n            }); // Calculate max value of the year data\n\n            var max_value = d3.max(year_data, function (d) {\n              return d.total;\n            });\n            var color = d3.scaleLinear().range(['#ffffff', this.props.color]).domain([-0.15 * max_value, max_value]);\n\n            var calcItemX = function calcItemX(d) {\n              var date = (0, _moment2.default)(d.date);\n              var dayIndex = Math.round((date - (0, _moment2.default)(start_of_year).startOf('week')) / 86400000);\n              var colIndex = Math.trunc(dayIndex / 7);\n              return colIndex * (_this3.settings.item_size + _this3.settings.gutter) + _this3.settings.label_padding;\n            };\n\n            var calcItemY = function calcItemY(d) {\n              return _this3.settings.label_padding + (0, _moment2.default)(d.date).weekday() * (_this3.settings.item_size + _this3.settings.gutter);\n            };\n\n            var calcItemSize = function calcItemSize(d) {\n              if (max_value <= 0) {\n                return _this3.settings.item_size;\n              }\n\n              return _this3.settings.item_size * 0.75 + _this3.settings.item_size * d.total / max_value * 0.25;\n            };\n\n            this.items.selectAll('.item-circle').remove();\n            this.items.selectAll('.item-circle').data(year_data).enter().append('rect').attr('class', 'item item-circle').style('cursor', 'pointer').style('opacity', 0).attr('x', function (d) {\n              return calcItemX(d) + (_this3.settings.item_size - calcItemSize(d)) / 2;\n            }).attr('y', function (d) {\n              return calcItemY(d) + (_this3.settings.item_size - calcItemSize(d)) / 2;\n            }).attr('rx', function (d) {\n              return calcItemSize(d);\n            }).attr('ry', function (d) {\n              return calcItemSize(d);\n            }).attr('width', function (d) {\n              return calcItemSize(d);\n            }).attr('height', function (d) {\n              return calcItemSize(d);\n            }).attr('fill', function (d) {\n              return d.total > 0 ? color(d.total) : 'transparent';\n            }).on('click', function (d) {\n              if (_this3.in_transition) {\n                return;\n              } // Don't transition if there is no data to show\n\n\n              if (d.total === 0) {\n                return;\n              }\n\n              _this3.in_transition = true; // Set selected date to the one clicked on\n\n              _this3.selected = d; // Hide tooltip\n\n              _this3.hideTooltip(); // Remove all year overview related items and labels\n\n\n              _this3.removeYearOverview(); // Redraw the chart\n\n\n              _this3.overview = 'day';\n\n              _this3.drawChart();\n            }).on('mouseover', function (d) {\n              if (_this3.in_transition) {\n                return;\n              } // Pulsating animation\n\n\n              var circle = d3.select(d3.event.currentTarget);\n\n              var repeat = function repeat() {\n                circle = circle.transition().duration(_this3.settings.transition_duration).ease(d3.easeLinear).attr('x', function (d) {\n                  return calcItemX(d) - (_this3.settings.item_size * 1.1 - _this3.settings.item_size) / 2;\n                }).attr('y', function (d) {\n                  return calcItemY(d) - (_this3.settings.item_size * 1.1 - _this3.settings.item_size) / 2;\n                }).attr('width', _this3.settings.item_size * 1.1).attr('height', _this3.settings.item_size * 1.1).transition().duration(_this3.settings.transition_duration).ease(d3.easeLinear).attr('x', function (d) {\n                  return calcItemX(d) + (_this3.settings.item_size - calcItemSize(d)) / 2;\n                }).attr('y', function (d) {\n                  return calcItemY(d) + (_this3.settings.item_size - calcItemSize(d)) / 2;\n                }).attr('width', function (d) {\n                  return calcItemSize(d);\n                }).attr('height', function (d) {\n                  return calcItemSize(d);\n                }).on('end', repeat);\n              };\n\n              repeat(); // Construct tooltip\n\n              var tooltip_html = '';\n              tooltip_html += '<div class=\"' + _calendarHeatmap2.default.header + '\"><strong>' + (d.total ? _this3.formatTime(d.total) : 'No time') + ' tracked</strong></div>';\n              tooltip_html += '<div>on ' + (0, _moment2.default)(d.date).format('dddd, MMM Do YYYY') + '</div><br>'; // Add summary to the tooltip\n\n              var counter = 0;\n\n              while (counter < d.summary.length) {\n                tooltip_html += '<div><span><strong>' + d.summary[counter].name + '</strong></span>';\n                tooltip_html += '<span>' + _this3.formatTime(d.summary[counter].value) + '</span></div>';\n                counter++;\n              } // Calculate tooltip position\n\n\n              var x = calcItemX(d) + _this3.settings.item_size;\n\n              if (_this3.settings.width - x < _this3.settings.tooltip_width + _this3.settings.tooltip_padding * 3) {\n                x -= _this3.settings.tooltip_width + _this3.settings.tooltip_padding * 2;\n              }\n\n              var y = calcItemY(d) + _this3.settings.item_size; // Show tooltip\n\n\n              _this3.tooltip.html(tooltip_html).style('left', x + 'px').style('top', y + 'px').transition().duration(_this3.settings.transition_duration / 2).ease(d3.easeLinear).style('opacity', 1);\n            }).on('mouseout', function () {\n              if (_this3.in_transition) {\n                return;\n              } // Set circle radius back to what its supposed to be\n\n\n              d3.select(d3.event.currentTarget).transition().duration(_this3.settings.transition_duration / 2).ease(d3.easeLinear).attr('x', function (d) {\n                return calcItemX(d) + (_this3.settings.item_size - calcItemSize(d)) / 2;\n              }).attr('y', function (d) {\n                return calcItemY(d) + (_this3.settings.item_size - calcItemSize(d)) / 2;\n              }).attr('width', function (d) {\n                return calcItemSize(d);\n              }).attr('height', function (d) {\n                return calcItemSize(d);\n              }); // Hide tooltip\n\n              _this3.hideTooltip();\n            }).transition().delay(function () {\n              return (Math.cos(Math.PI * Math.random()) + 1) * _this3.settings.transition_duration;\n            }).duration(function () {\n              return _this3.settings.transition_duration;\n            }).ease(d3.easeLinear).style('opacity', 1).call(function (transition, callback) {\n              if (transition.empty()) {\n                callback();\n              }\n\n              var n = 0;\n              transition.each(function () {\n                return ++n;\n              }).on('end', function () {\n                if (! --n) {\n                  callback.apply(this, arguments);\n                }\n              });\n            }, function () {\n              _this3.in_transition = false;\n            }); // Add month labels\n\n            var month_labels = d3.timeMonths(start_of_year, end_of_year);\n            var monthScale = d3.scaleLinear().range([0, this.settings.width]).domain([0, month_labels.length]);\n            this.labels.selectAll('.label-month').remove();\n            this.labels.selectAll('.label-month').data(month_labels).enter().append('text').attr('class', 'label label-month').style('cursor', 'pointer').style('fill', 'rgb(170, 170, 170)').attr('font-size', function () {\n              return Math.floor(_this3.settings.label_padding / 3) + 'px';\n            }).text(function (d) {\n              return d.toLocaleDateString('en-us', {\n                month: 'short'\n              });\n            }).attr('x', function (d, i) {\n              return monthScale(i) + (monthScale(i) - monthScale(i - 1)) / 2;\n            }).attr('y', this.settings.label_padding / 2).on('mouseenter', function (d) {\n              if (_this3.in_transition) {\n                return;\n              }\n\n              var selected_month = (0, _moment2.default)(d);\n\n              _this3.items.selectAll('.item-circle').transition().duration(_this3.settings.transition_duration).ease(d3.easeLinear).style('opacity', function (d) {\n                return (0, _moment2.default)(d.date).isSame(selected_month, 'month') ? 1 : 0.1;\n              });\n            }).on('mouseout', function () {\n              if (_this3.in_transition) {\n                return;\n              }\n\n              _this3.items.selectAll('.item-circle').transition().duration(_this3.settings.transition_duration).ease(d3.easeLinear).style('opacity', 1);\n            }).on('click', function (d) {\n              if (_this3.in_transition) {\n                return;\n              } // Check month data\n\n\n              var month_data = _this3.props.data.filter(function (e) {\n                return (0, _moment2.default)(d).startOf('month') <= (0, _moment2.default)(e.date) && (0, _moment2.default)(e.date) < (0, _moment2.default)(d).endOf('month');\n              }); // Don't transition if there is no data to show\n\n\n              if (!month_data.length) {\n                return;\n              } // Set selected month to the one clicked on\n\n\n              _this3.selected = {\n                date: d\n              };\n              _this3.in_transition = true; // Hide tooltip\n\n              _this3.hideTooltip(); // Remove all year overview related items and labels\n\n\n              _this3.removeYearOverview(); // Redraw the chart\n\n\n              _this3.overview = 'month';\n\n              _this3.drawChart();\n            }); // Add day labels\n\n            var day_labels = d3.timeDays((0, _moment2.default)().startOf('week'), (0, _moment2.default)().endOf('week'));\n            var dayScale = d3.scaleBand().rangeRound([this.settings.label_padding, this.settings.height]).domain(day_labels.map(function (d) {\n              return (0, _moment2.default)(d).weekday();\n            }));\n            this.labels.selectAll('.label-day').remove();\n            this.labels.selectAll('.label-day').data(day_labels).enter().append('text').attr('class', 'label label-day').style('cursor', 'pointer').style('fill', 'rgb(170, 170, 170)').attr('x', this.settings.label_padding / 3).attr('y', function (d, i) {\n              return dayScale(i) + dayScale.bandwidth() / 1.75;\n            }).style('text-anchor', 'left').attr('font-size', function () {\n              return Math.floor(_this3.settings.label_padding / 3) + 'px';\n            }).text(function (d) {\n              return (0, _moment2.default)(d).format('dddd')[0];\n            }).on('mouseenter', function (d) {\n              if (_this3.in_transition) {\n                return;\n              }\n\n              var selected_day = (0, _moment2.default)(d);\n\n              _this3.items.selectAll('.item-circle').transition().duration(_this3.settings.transition_duration).ease(d3.easeLinear).style('opacity', function (d) {\n                return (0, _moment2.default)(d.date).day() === selected_day.day() ? 1 : 0.1;\n              });\n            }).on('mouseout', function () {\n              if (_this3.in_transition) {\n                return;\n              }\n\n              _this3.items.selectAll('.item-circle').transition().duration(_this3.settings.transition_duration).ease(d3.easeLinear).style('opacity', 1);\n            }); // Add button to switch back to previous overview\n\n            this.drawButton();\n          }\n          /**\n           * Draw month overview\n           */\n\n        }, {\n          key: 'drawMonthOverview',\n          value: function drawMonthOverview() {\n            var _this4 = this; // Add current overview to the history\n\n\n            if (this.history[this.history.length - 1] !== this.overview) {\n              this.history.push(this.overview);\n            } // Define beginning and end of the month\n\n\n            var start_of_month = (0, _moment2.default)(this.selected.date).startOf('month');\n            var end_of_month = (0, _moment2.default)(this.selected.date).endOf('month'); // Filter data down to the selected month\n\n            var month_data = this.props.data.filter(function (d) {\n              return start_of_month <= (0, _moment2.default)(d.date) && (0, _moment2.default)(d.date) < end_of_month;\n            });\n            var max_value = d3.max(month_data, function (d) {\n              return d3.max(d.summary, function (d) {\n                return d.value;\n              });\n            }); // Define day labels and axis\n\n            var day_labels = d3.timeDays((0, _moment2.default)().startOf('week'), (0, _moment2.default)().endOf('week'));\n            var dayScale = d3.scaleBand().rangeRound([this.settings.label_padding, this.settings.height]).domain(day_labels.map(function (d) {\n              return (0, _moment2.default)(d).weekday();\n            })); // Define week labels and axis\n\n            var week_labels = [start_of_month.clone()];\n\n            while (start_of_month.week() !== end_of_month.week()) {\n              week_labels.push(start_of_month.add(1, 'week').clone());\n            }\n\n            var weekScale = d3.scaleBand().rangeRound([this.settings.label_padding, this.settings.width]).padding([0.05]).domain(week_labels.map(function (weekday) {\n              return weekday.week();\n            })); // Add month data items to the overview\n\n            this.items.selectAll('.item-block-month').remove();\n            var item_block = this.items.selectAll('.item-block-month').data(month_data).enter().append('g').attr('class', 'item item-block-month').style('cursor', 'pointer').attr('width', function () {\n              return (_this4.settings.width - _this4.settings.label_padding) / week_labels.length - _this4.settings.gutter * 5;\n            }).attr('height', function () {\n              return Math.min(dayScale.bandwidth(), _this4.settings.max_block_height);\n            }).attr('transform', function (d) {\n              return 'translate(' + weekScale((0, _moment2.default)(d.date).week()) + ',' + (dayScale((0, _moment2.default)(d.date).weekday()) + dayScale.bandwidth() / 1.75 - 15) + ')';\n            }).attr('total', function (d) {\n              return d.total;\n            }).attr('date', function (d) {\n              return d.date;\n            }).attr('offset', 0).on('click', function (d) {\n              if (_this4.in_transition) {\n                return;\n              } // Don't transition if there is no data to show\n\n\n              if (d.total === 0) {\n                return;\n              }\n\n              _this4.in_transition = true; // Set selected date to the one clicked on\n\n              _this4.selected = d; // Hide tooltip\n\n              _this4.hideTooltip(); // Remove all month overview related items and labels\n\n\n              _this4.removeMonthOverview(); // Redraw the chart\n\n\n              _this4.overview = 'day';\n\n              _this4.drawChart();\n            });\n            var item_width = (this.settings.width - this.settings.label_padding) / week_labels.length - this.settings.gutter * 5;\n            var itemScale = d3.scaleLinear().rangeRound([0, item_width]);\n            var item_gutter = this.settings.item_gutter;\n            item_block.selectAll('.item-block-rect').data(function (d) {\n              return d.summary;\n            }).enter().append('rect').attr('class', 'item item-block-rect').style('cursor', 'pointer').attr('x', function (d) {\n              var total = parseInt(d3.select(this.parentNode).attr('total'));\n              var offset = parseInt(d3.select(this.parentNode).attr('offset'));\n              itemScale.domain([0, total]);\n              d3.select(this.parentNode).attr('offset', offset + itemScale(d.value));\n              return offset;\n            }).attr('width', function (d) {\n              var total = parseInt(d3.select(this.parentNode).attr('total'));\n              itemScale.domain([0, total]);\n              return Math.max(itemScale(d.value) - item_gutter, 1);\n            }).attr('height', function () {\n              return Math.min(dayScale.bandwidth(), _this4.settings.max_block_height);\n            }).attr('fill', function (d) {\n              var color = d3.scaleLinear().range(['#ffffff', _this4.props.color]).domain([-0.15 * max_value, max_value]);\n              return color(d.value) || '#ff4500';\n            }).style('opacity', 0).on('mouseover', function (d) {\n              if (_this4.in_transition) {\n                return;\n              } // Get date from the parent node\n\n\n              var parentNode = d3.select(d3.event.currentTarget.parentNode);\n              var date = new Date(parentNode.attr('date')); // Construct tooltip\n\n              var tooltip_html = '';\n              tooltip_html += '<div class=\"' + _calendarHeatmap2.default.header + '\"><strong>' + d.name + '</strong></div><br>';\n              tooltip_html += '<div><strong>' + (d.value ? _this4.formatTime(d.value) : 'No time') + ' tracked</strong></div>';\n              tooltip_html += '<div>on ' + (0, _moment2.default)(date).format('dddd, MMM Do YYYY') + '</div>'; // Calculate tooltip position\n\n              var x = weekScale((0, _moment2.default)(date).week()) + _this4.settings.tooltip_padding;\n\n              while (_this4.settings.width - x < _this4.settings.tooltip_width + _this4.settings.tooltip_padding * 3) {\n                x -= 10;\n              }\n\n              var y = dayScale((0, _moment2.default)(date).weekday()) + _this4.settings.tooltip_padding * 2; // Show tooltip\n\n              _this4.tooltip.html(tooltip_html).style('left', x + 'px').style('top', y + 'px').transition().duration(_this4.settings.transition_duration / 2).ease(d3.easeLinear).style('opacity', 1);\n            }).on('mouseout', function () {\n              if (_this4.in_transition) {\n                return;\n              }\n\n              _this4.hideTooltip();\n            }).transition().delay(function () {\n              return (Math.cos(Math.PI * Math.random()) + 1) * _this4.settings.transition_duration;\n            }).duration(function () {\n              return _this4.settings.transition_duration;\n            }).ease(d3.easeLinear).style('opacity', 1).call(function (transition, callback) {\n              if (transition.empty()) {\n                callback();\n              }\n\n              var n = 0;\n              transition.each(function () {\n                return ++n;\n              }).on('end', function () {\n                if (! --n) {\n                  callback.apply(this, arguments);\n                }\n              });\n            }, function () {\n              _this4.in_transition = false;\n            }); // Add week labels\n\n            this.labels.selectAll('.label-week').remove();\n            this.labels.selectAll('.label-week').data(week_labels).enter().append('text').attr('class', 'label label-week').style('cursor', 'pointer').style('fill', 'rgb(170, 170, 170)').attr('font-size', function () {\n              return Math.floor(_this4.settings.label_padding / 3) + 'px';\n            }).text(function (d) {\n              return 'Week ' + d.week();\n            }).attr('x', function (d) {\n              return weekScale(d.week());\n            }).attr('y', this.settings.label_padding / 2).on('mouseenter', function (weekday) {\n              if (_this4.in_transition) {\n                return;\n              }\n\n              _this4.items.selectAll('.item-block-month').transition().duration(_this4.settings.transition_duration).ease(d3.easeLinear).style('opacity', function (d) {\n                return (0, _moment2.default)(d.date).week() === weekday.week() ? 1 : 0.1;\n              });\n            }).on('mouseout', function () {\n              if (_this4.in_transition) {\n                return;\n              }\n\n              _this4.items.selectAll('.item-block-month').transition().duration(_this4.settings.transition_duration).ease(d3.easeLinear).style('opacity', 1);\n            }).on('click', function (d) {\n              if (_this4.in_transition) {\n                return;\n              } // Check week data\n\n\n              var week_data = _this4.props.data.filter(function (e) {\n                return d.startOf('week') <= (0, _moment2.default)(e.date) && (0, _moment2.default)(e.date) < d.endOf('week');\n              }); // Don't transition if there is no data to show\n\n\n              if (!week_data.length) {\n                return;\n              }\n\n              _this4.in_transition = true; // Set selected month to the one clicked on\n\n              _this4.selected = {\n                date: d // Hide tooltip\n\n              };\n\n              _this4.hideTooltip(); // Remove all year overview related items and labels\n\n\n              _this4.removeMonthOverview(); // Redraw the chart\n\n\n              _this4.overview = 'week';\n\n              _this4.drawChart();\n            }); // Add day labels\n\n            this.labels.selectAll('.label-day').remove();\n            this.labels.selectAll('.label-day').data(day_labels).enter().append('text').attr('class', 'label label-day').style('cursor', 'pointer').style('fill', 'rgb(170, 170, 170)').attr('x', this.settings.label_padding / 3).attr('y', function (d, i) {\n              return dayScale(i) + dayScale.bandwidth() / 1.75;\n            }).style('text-anchor', 'left').attr('font-size', function () {\n              return Math.floor(_this4.settings.label_padding / 3) + 'px';\n            }).text(function (d) {\n              return (0, _moment2.default)(d).format('dddd')[0];\n            }).on('mouseenter', function (d) {\n              if (_this4.in_transition) {\n                return;\n              }\n\n              var selected_day = (0, _moment2.default)(d);\n\n              _this4.items.selectAll('.item-block-month').transition().duration(_this4.settings.transition_duration).ease(d3.easeLinear).style('opacity', function (d) {\n                return (0, _moment2.default)(d.date).day() === selected_day.day() ? 1 : 0.1;\n              });\n            }).on('mouseout', function () {\n              if (_this4.in_transition) {\n                return;\n              }\n\n              _this4.items.selectAll('.item-block-month').transition().duration(_this4.settings.transition_duration).ease(d3.easeLinear).style('opacity', 1);\n            }); // Add button to switch back to previous overview\n\n            this.drawButton();\n          }\n          /**\n           * Draw week overview\n           */\n\n        }, {\n          key: 'drawWeekOverview',\n          value: function drawWeekOverview() {\n            var _this5 = this; // Add current overview to the history\n\n\n            if (this.history[this.history.length - 1] !== this.overview) {\n              this.history.push(this.overview);\n            } // Define beginning and end of the week\n\n\n            var start_of_week = (0, _moment2.default)(this.selected.date).startOf('week');\n            var end_of_week = (0, _moment2.default)(this.selected.date).endOf('week'); // Filter data down to the selected week\n\n            var week_data = this.props.data.filter(function (d) {\n              return start_of_week <= (0, _moment2.default)(d.date) && (0, _moment2.default)(d.date) < end_of_week;\n            });\n            var max_value = d3.max(week_data, function (d) {\n              return d3.max(d.summary, function (d) {\n                return d.value;\n              });\n            }); // Define day labels and axis\n\n            var day_labels = d3.timeDays((0, _moment2.default)().startOf('week'), (0, _moment2.default)().endOf('week'));\n            var dayScale = d3.scaleBand().rangeRound([this.settings.label_padding, this.settings.height]).domain(day_labels.map(function (d) {\n              return (0, _moment2.default)(d).weekday();\n            })); // Define week labels and axis\n\n            var week_labels = [start_of_week];\n            var weekScale = d3.scaleBand().rangeRound([this.settings.label_padding, this.settings.width]).padding([0.01]).domain(week_labels.map(function (weekday) {\n              return weekday.week();\n            })); // Add week data items to the overview\n\n            this.items.selectAll('.item-block-week').remove();\n            var item_block = this.items.selectAll('.item-block-week').data(week_data).enter().append('g').attr('class', 'item item-block-week').style('cursor', 'pointer').attr('width', function () {\n              return (_this5.settings.width - _this5.settings.label_padding) / week_labels.length - _this5.settings.gutter * 5;\n            }).attr('height', function () {\n              return Math.min(dayScale.bandwidth(), _this5.settings.max_block_height);\n            }).attr('transform', function (d) {\n              return 'translate(' + weekScale((0, _moment2.default)(d.date).week()) + ',' + (dayScale((0, _moment2.default)(d.date).weekday()) + dayScale.bandwidth() / 1.75 - 15) + ')';\n            }).attr('total', function (d) {\n              return d.total;\n            }).attr('date', function (d) {\n              return d.date;\n            }).attr('offset', 0).on('click', function (d) {\n              if (_this5.in_transition) {\n                return;\n              } // Don't transition if there is no data to show\n\n\n              if (d.total === 0) {\n                return;\n              }\n\n              _this5.in_transition = true; // Set selected date to the one clicked on\n\n              _this5.selected = d; // Hide tooltip\n\n              _this5.hideTooltip(); // Remove all week overview related items and labels\n\n\n              _this5.removeWeekOverview(); // Redraw the chart\n\n\n              _this5.overview = 'day';\n\n              _this5.drawChart();\n            });\n            var item_width = (this.settings.width - this.settings.label_padding) / week_labels.length - this.settings.gutter * 5;\n            var itemScale = d3.scaleLinear().rangeRound([0, item_width]);\n            var item_gutter = this.settings.item_gutter;\n            item_block.selectAll('.item-block-rect').data(function (d) {\n              return d.summary;\n            }).enter().append('rect').attr('class', 'item item-block-rect').style('cursor', 'pointer').attr('x', function (d) {\n              var total = parseInt(d3.select(this.parentNode).attr('total'));\n              var offset = parseInt(d3.select(this.parentNode).attr('offset'));\n              itemScale.domain([0, total]);\n              d3.select(this.parentNode).attr('offset', offset + itemScale(d.value));\n              return offset;\n            }).attr('width', function (d) {\n              var total = parseInt(d3.select(this.parentNode).attr('total'));\n              itemScale.domain([0, total]);\n              return Math.max(itemScale(d.value) - item_gutter, 1);\n            }).attr('height', function () {\n              return Math.min(dayScale.bandwidth(), _this5.settings.max_block_height);\n            }).attr('fill', function (d) {\n              var color = d3.scaleLinear().range(['#ffffff', _this5.props.color]).domain([-0.15 * max_value, max_value]);\n              return color(d.value) || '#ff4500';\n            }).style('opacity', 0).on('mouseover', function (d) {\n              if (_this5.in_transition) {\n                return;\n              } // Get date from the parent node\n\n\n              var parentNode = d3.select(d3.event.currentTarget.parentNode);\n              var date = new Date(parentNode.attr('date')); // Construct tooltip\n\n              var tooltip_html = '';\n              tooltip_html += '<div class=\"' + _calendarHeatmap2.default.header + '\"><strong>' + d.name + '</strong></div><br>';\n              tooltip_html += '<div><strong>' + (d.value ? _this5.formatTime(d.value) : 'No time') + ' tracked</strong></div>';\n              tooltip_html += '<div>on ' + (0, _moment2.default)(date).format('dddd, MMM Do YYYY') + '</div>'; // Calculate tooltip position\n\n              var total = parseInt(parentNode.attr('total'));\n              itemScale.domain([0, total]);\n              var x = parseInt(d3.select(d3.event.currentTarget).attr('x')) + itemScale(d.value) / 4 + _this5.settings.tooltip_width / 4;\n\n              while (_this5.settings.width - x < _this5.settings.tooltip_width + _this5.settings.tooltip_padding * 3) {\n                x -= 10;\n              }\n\n              var y = dayScale((0, _moment2.default)(date).weekday()) + _this5.settings.tooltip_padding * 1.5; // Show tooltip\n\n              _this5.tooltip.html(tooltip_html).style('left', x + 'px').style('top', y + 'px').transition().duration(_this5.settings.transition_duration / 2).ease(d3.easeLinear).style('opacity', 1);\n            }).on('mouseout', function () {\n              if (_this5.in_transition) {\n                return;\n              }\n\n              _this5.hideTooltip();\n            }).transition().delay(function () {\n              return (Math.cos(Math.PI * Math.random()) + 1) * _this5.settings.transition_duration;\n            }).duration(function () {\n              return _this5.settings.transition_duration;\n            }).ease(d3.easeLinear).style('opacity', 1).call(function (transition, callback) {\n              if (transition.empty()) {\n                callback();\n              }\n\n              var n = 0;\n              transition.each(function () {\n                return ++n;\n              }).on('end', function () {\n                if (! --n) {\n                  callback.apply(this, arguments);\n                }\n              });\n            }, function () {\n              _this5.in_transition = false;\n            }); // Add week labels\n\n            this.labels.selectAll('.label-week').remove();\n            this.labels.selectAll('.label-week').data(week_labels).enter().append('text').attr('class', 'label label-week').style('cursor', 'pointer').style('fill', 'rgb(170, 170, 170)').attr('font-size', function () {\n              return Math.floor(_this5.settings.label_padding / 3) + 'px';\n            }).text(function (d) {\n              return 'Week ' + d.week();\n            }).attr('x', function (d) {\n              return weekScale(d.week());\n            }).attr('y', this.settings.label_padding / 2).on('mouseenter', function (weekday) {\n              if (_this5.in_transition) {\n                return;\n              }\n\n              _this5.items.selectAll('.item-block-week').transition().duration(_this5.settings.transition_duration).ease(d3.easeLinear).style('opacity', function (d) {\n                return (0, _moment2.default)(d.date).week() === weekday.week() ? 1 : 0.1;\n              });\n            }).on('mouseout', function () {\n              if (_this5.in_transition) {\n                return;\n              }\n\n              _this5.items.selectAll('.item-block-week').transition().duration(_this5.settings.transition_duration).ease(d3.easeLinear).style('opacity', 1);\n            }); // Add day labels\n\n            this.labels.selectAll('.label-day').remove();\n            this.labels.selectAll('.label-day').data(day_labels).enter().append('text').attr('class', 'label label-day').style('cursor', 'pointer').style('fill', 'rgb(170, 170, 170)').attr('x', this.settings.label_padding / 3).attr('y', function (d, i) {\n              return dayScale(i) + dayScale.bandwidth() / 1.75;\n            }).style('text-anchor', 'left').attr('font-size', function () {\n              return Math.floor(_this5.settings.label_padding / 3) + 'px';\n            }).text(function (d) {\n              return (0, _moment2.default)(d).format('dddd')[0];\n            }).on('mouseenter', function (d) {\n              if (_this5.in_transition) {\n                return;\n              }\n\n              var selected_day = (0, _moment2.default)(d);\n\n              _this5.items.selectAll('.item-block-week').transition().duration(_this5.settings.transition_duration).ease(d3.easeLinear).style('opacity', function (d) {\n                return (0, _moment2.default)(d.date).day() === selected_day.day() ? 1 : 0.1;\n              });\n            }).on('mouseout', function () {\n              if (_this5.in_transition) {\n                return;\n              }\n\n              _this5.items.selectAll('.item-block-week').transition().duration(_this5.settings.transition_duration).ease(d3.easeLinear).style('opacity', 1);\n            }); // Add button to switch back to previous overview\n\n            this.drawButton();\n          }\n          /**\n           * Draw day overview\n           */\n\n        }, {\n          key: 'drawDayOverview',\n          value: function drawDayOverview() {\n            var _this6 = this; // Add current overview to the history\n\n\n            if (this.history[this.history.length - 1] !== this.overview) {\n              this.history.push(this.overview);\n            } // Initialize selected date to today if it was not set\n\n\n            if (!Object.keys(this.selected).length) {\n              this.selected = this.props.data[this.props.data.length - 1];\n            }\n\n            var project_labels = this.selected.summary.map(function (project) {\n              return project.name;\n            });\n            var projectScale = d3.scaleBand().rangeRound([this.settings.label_padding, this.settings.height]).domain(project_labels);\n            var itemScale = d3.scaleTime().range([this.settings.label_padding * 2, this.settings.width]).domain([(0, _moment2.default)(this.selected.date).startOf('day'), (0, _moment2.default)(this.selected.date).endOf('day')]);\n            this.items.selectAll('.item-block').remove();\n            this.items.selectAll('.item-block').data(this.selected.details).enter().append('rect').attr('class', 'item item-block').style('cursor', 'pointer').attr('x', function (d) {\n              return itemScale((0, _moment2.default)(d.date));\n            }).attr('y', function (d) {\n              return projectScale(d.name) + projectScale.bandwidth() / 2 - 15;\n            }).attr('width', function (d) {\n              var end = itemScale(d3.timeSecond.offset((0, _moment2.default)(d.date), d.value));\n              return Math.max(end - itemScale((0, _moment2.default)(d.date)), 1);\n            }).attr('height', function () {\n              return Math.min(projectScale.bandwidth(), _this6.settings.max_block_height);\n            }).attr('fill', function () {\n              return _this6.props.color;\n            }).style('opacity', 0).on('mouseover', function (d) {\n              if (_this6.in_transition) {\n                return;\n              } // Construct tooltip\n\n\n              var tooltip_html = '';\n              tooltip_html += '<div class=\"' + _calendarHeatmap2.default.header + '\"><strong>' + d.name + '</strong><div><br>';\n              tooltip_html += '<div><strong>' + (d.value ? _this6.formatTime(d.value) : 'No time') + ' tracked</strong></div>';\n              tooltip_html += '<div>on ' + (0, _moment2.default)(d.date).format('dddd, MMM Do YYYY HH:mm') + '</div>'; // Calculate tooltip position\n\n              var x = d.value * 100 / (60 * 60 * 24) + itemScale((0, _moment2.default)(d.date));\n\n              while (_this6.settings.width - x < _this6.settings.tooltip_width + _this6.settings.tooltip_padding * 3) {\n                x -= 10;\n              }\n\n              var y = projectScale(d.name) + projectScale.bandwidth() / 2 + _this6.settings.tooltip_padding / 2; // Show tooltip\n\n              _this6.tooltip.html(tooltip_html).style('left', x + 'px').style('top', y + 'px').transition().duration(_this6.settings.transition_duration / 2).ease(d3.easeLinear).style('opacity', 1);\n            }).on('mouseout', function () {\n              if (_this6.in_transition) {\n                return;\n              }\n\n              _this6.hideTooltip();\n            }).on('click', function (d) {\n              if (!!_this6.props.handler && typeof _this6.props.handler == 'function') {\n                _this6.props.handler(d);\n              }\n            }).transition().delay(function () {\n              return (Math.cos(Math.PI * Math.random()) + 1) * _this6.settings.transition_duration;\n            }).duration(function () {\n              return _this6.settings.transition_duration;\n            }).ease(d3.easeLinear).style('opacity', 0.5).call(function (transition, callback) {\n              if (transition.empty()) {\n                callback();\n              }\n\n              var n = 0;\n              transition.each(function () {\n                return ++n;\n              }).on('end', function () {\n                if (! --n) {\n                  callback.apply(this, arguments);\n                }\n              });\n            }, function () {\n              _this6.in_transition = false;\n            }); // Add time labels\n\n            var timeLabels = d3.timeHours((0, _moment2.default)(this.selected.date).startOf('day'), (0, _moment2.default)(this.selected.date).endOf('day'));\n            var timeScale = d3.scaleTime().range([this.settings.label_padding * 2, this.settings.width]).domain([0, timeLabels.length]);\n            this.labels.selectAll('.label-time').remove();\n            this.labels.selectAll('.label-time').data(timeLabels).enter().append('text').attr('class', 'label label-time').style('cursor', 'pointer').style('fill', 'rgb(170, 170, 170)').attr('font-size', function () {\n              return Math.floor(_this6.settings.label_padding / 3) + 'px';\n            }).text(function (d) {\n              return (0, _moment2.default)(d).format('HH:mm');\n            }).attr('x', function (d, i) {\n              return timeScale(i);\n            }).attr('y', this.settings.label_padding / 2).on('mouseenter', function (d) {\n              if (_this6.in_transition) {\n                return;\n              }\n\n              var selected = itemScale((0, _moment2.default)(d));\n\n              _this6.items.selectAll('.item-block').transition().duration(_this6.settings.transition_duration).ease(d3.easeLinear).style('opacity', function (d) {\n                var start = itemScale((0, _moment2.default)(d.date));\n                var end = itemScale((0, _moment2.default)(d.date).add(d.value, 'seconds'));\n                return selected >= start && selected <= end ? 1 : 0.1;\n              });\n            }).on('mouseout', function () {\n              if (_this6.in_transition) {\n                return;\n              }\n\n              _this6.items.selectAll('.item-block').transition().duration(_this6.settings.transition_duration).ease(d3.easeLinear).style('opacity', 0.5);\n            }); // Add project labels\n\n            var label_padding = this.settings.label_padding;\n            this.labels.selectAll('.label-project').remove();\n            this.labels.selectAll('.label-project').data(project_labels).enter().append('text').attr('class', 'label label-project').style('cursor', 'pointer').style('fill', 'rgb(170, 170, 170)').attr('x', this.settings.gutter).attr('y', function (d) {\n              return projectScale(d) + projectScale.bandwidth() / 2;\n            }).attr('min-height', function () {\n              return projectScale.bandwidth();\n            }).style('text-anchor', 'left').attr('font-size', function () {\n              return Math.floor(_this6.settings.label_padding / 3) + 'px';\n            }).text(function (d) {\n              return d;\n            }).each(function () {\n              var obj = d3.select(this),\n                  text_length = obj.node().getComputedTextLength(),\n                  text = obj.text();\n\n              while (text_length > label_padding * 1.5 && text.length > 0) {\n                text = text.slice(0, -1);\n                obj.text(text + '...');\n                text_length = obj.node().getComputedTextLength();\n              }\n            }).on('mouseenter', function (project) {\n              if (_this6.in_transition) {\n                return;\n              }\n\n              _this6.items.selectAll('.item-block').transition().duration(_this6.settings.transition_duration).ease(d3.easeLinear).style('opacity', function (d) {\n                return d.name === project ? 1 : 0.1;\n              });\n            }).on('mouseout', function () {\n              if (_this6.in_transition) {\n                return;\n              }\n\n              _this6.items.selectAll('.item-block').transition().duration(_this6.settings.transition_duration).ease(d3.easeLinear).style('opacity', 0.5);\n            }); // Add button to switch back to previous overview\n\n            this.drawButton();\n          }\n          /**\n           * Draw the button for navigation purposes\n           */\n\n        }, {\n          key: 'drawButton',\n          value: function drawButton() {\n            var _this7 = this;\n\n            this.buttons.selectAll('.button').remove();\n            var button = this.buttons.append('g').attr('class', 'button button-back').style('cursor', 'pointer').attr('fill', 'transparent').style('opacity', 0).style('stroke-width', 2).style('stroke', 'rgb(170, 170, 170)').on('click', function () {\n              if (_this7.in_transition) {\n                return;\n              } // Set transition boolean\n\n\n              _this7.in_transition = true; // Clean the canvas from whichever overview type was on\n\n              if (_this7.overview === 'year') {\n                _this7.removeYearOverview();\n              } else if (_this7.overview === 'month') {\n                _this7.removeMonthOverview();\n              } else if (_this7.overview === 'week') {\n                _this7.removeWeekOverview();\n              } else if (_this7.overview === 'day') {\n                _this7.removeDayOverview();\n              } // Redraw the chart\n\n\n              _this7.history.pop();\n\n              _this7.overview = _this7.history.pop();\n\n              _this7.drawChart();\n            });\n            button.append('circle').attr('cx', this.settings.label_padding / 2.25).attr('cy', this.settings.label_padding / 2.5).attr('r', this.settings.item_size / 2);\n            button.append('text').style('stroke-width', 1).style('text-anchor', 'middle').style('fill', 'rgb(170, 170, 170)').attr('x', this.settings.label_padding / 2.25).attr('y', this.settings.label_padding / 2.5).attr('dy', function () {\n              return Math.floor(_this7.settings.width / 100) / 3;\n            }).attr('font-size', function () {\n              return Math.floor(_this7.settings.label_padding / 3) + 'px';\n            }).html('&#x2190');\n            button.transition().duration(this.settings.transition_duration).ease(d3.easeLinear).style('opacity', 1);\n          }\n          /**\n           * Transition and remove items and labels related to global overview\n           */\n\n        }, {\n          key: 'removeGlobalOverview',\n          value: function removeGlobalOverview() {\n            this.items.selectAll('.item-block-year').transition().duration(this.settings.transition_duration).ease(d3.easeLinear).style('opacity', 0).remove();\n            this.labels.selectAll('.label-year').remove();\n          }\n          /**\n           * Transition and remove items and labels related to year overview\n           */\n\n        }, {\n          key: 'removeYearOverview',\n          value: function removeYearOverview() {\n            this.items.selectAll('.item-circle').transition().duration(this.settings.transition_duration).ease(d3.easeLinear).style('opacity', 0).remove();\n            this.labels.selectAll('.label-day').remove();\n            this.labels.selectAll('.label-month').remove();\n            this.hideBackButton();\n          }\n          /**\n           * Transition and remove items and labels related to month overview\n           */\n\n        }, {\n          key: 'removeMonthOverview',\n          value: function removeMonthOverview() {\n            var _this8 = this;\n\n            this.items.selectAll('.item-block-month').selectAll('.item-block-rect').transition().duration(this.settings.transition_duration).ease(d3.easeLinear).style('opacity', 0).attr('x', function (d, i) {\n              return i % 2 === 0 ? -_this8.settings.width / 3 : _this8.settings.width / 3;\n            }).remove();\n            this.labels.selectAll('.label-day').remove();\n            this.labels.selectAll('.label-week').remove();\n            this.hideBackButton();\n          }\n          /**\n           * Transition and remove items and labels related to week overview\n           */\n\n        }, {\n          key: 'removeWeekOverview',\n          value: function removeWeekOverview() {\n            var _this9 = this;\n\n            this.items.selectAll('.item-block-week').selectAll('.item-block-rect').transition().duration(this.settings.transition_duration).ease(d3.easeLinear).style('opacity', 0).attr('x', function (d, i) {\n              return i % 2 === 0 ? -_this9.settings.width / 3 : _this9.settings.width / 3;\n            }).remove();\n            this.labels.selectAll('.label-day').remove();\n            this.labels.selectAll('.label-week').remove();\n            this.hideBackButton();\n          }\n          /**\n           * Transition and remove items and labels related to daily overview\n           */\n\n        }, {\n          key: 'removeDayOverview',\n          value: function removeDayOverview() {\n            var _this10 = this;\n\n            this.items.selectAll('.item-block').transition().duration(this.settings.transition_duration).ease(d3.easeLinear).style('opacity', 0).attr('x', function (d, i) {\n              return i % 2 === 0 ? -_this10.settings.width / 3 : _this10.settings.width / 3;\n            }).remove();\n            this.labels.selectAll('.label-time').remove();\n            this.labels.selectAll('.label-project').remove();\n            this.hideBackButton();\n          }\n          /**\n           * Helper function to hide the tooltip\n           */\n\n        }, {\n          key: 'hideTooltip',\n          value: function hideTooltip() {\n            this.tooltip.transition().duration(this.settings.transition_duration / 2).ease(d3.easeLinear).style('opacity', 0);\n          }\n          /**\n           * Helper function to hide the back button\n           */\n\n        }, {\n          key: 'hideBackButton',\n          value: function hideBackButton() {\n            this.buttons.selectAll('.button').transition().duration(this.settings.transition_duration).ease(d3.easeLinear).style('opacity', 0).remove();\n          }\n          /**\n           * Helper function to convert seconds to a human readable format\n           * @param seconds Integer\n           */\n\n        }, {\n          key: 'formatTime',\n          value: function formatTime(seconds) {\n            var hours = Math.floor(seconds / 3600);\n            var minutes = Math.floor((seconds - hours * 3600) / 60);\n            var time = '';\n\n            if (hours > 0) {\n              time += hours === 1 ? '1 hour ' : hours + ' hours ';\n            }\n\n            if (minutes > 0) {\n              time += minutes === 1 ? '1 minute' : minutes + ' minutes';\n            }\n\n            if (hours === 0 && minutes === 0) {\n              time = Math.round(seconds) + ' seconds';\n            }\n\n            return time;\n          }\n        }, {\n          key: 'render',\n          value: function render() {\n            var _this11 = this;\n\n            return React.createElement('div', {\n              id: 'calendar-heatmap',\n              className: _calendarHeatmap2.default.calendarHeatmap,\n              ref: function ref(elem) {\n                _this11.container = elem;\n              }\n            });\n          }\n        }]);\n\n        return CalendarHeatmap;\n      }(React.Component);\n\n      CalendarHeatmap.defaultProps = {\n        data: [],\n        overview: 'year',\n        color: '#ff4500',\n        handler: undefined\n      };\n      exports.default = CalendarHeatmap;\n      module.exports = exports['default'];\n      /***/\n    },\n    /* 3 */\n\n    /***/\n    function (module, exports) {\n      module.exports = __WEBPACK_EXTERNAL_MODULE__3__;\n      /***/\n    },\n    /* 4 */\n\n    /***/\n    function (module, exports) {\n      module.exports = __WEBPACK_EXTERNAL_MODULE__4__;\n      /***/\n    },\n    /* 5 */\n\n    /***/\n    function (module, exports) {\n      module.exports = __WEBPACK_EXTERNAL_MODULE__5__;\n      /***/\n    },\n    /* 6 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      // style-loader: Adds some css to the DOM by adding a <style> tag\n      // load the styles\n      var content = __webpack_require__(7);\n\n      if (typeof content === 'string') content = [[module.i, content, '']]; // Prepare cssTransformation\n\n      var transform;\n      var options = {\n        \"hmr\": true\n      };\n      options.transform = transform; // add the styles to the DOM\n\n      var update = __webpack_require__(8)(content, options);\n\n      if (content.locals) module.exports = content.locals; // Hot Module Replacement\n\n      if (false) {}\n      /***/\n\n    },\n    /* 7 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n\n      __webpack_require__.r(__webpack_exports__);\n      /* harmony import */\n\n\n      var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n      /* harmony import */\n\n\n      var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__); // Imports\n\n\n      var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(true); // Module\n\n\n      ___CSS_LOADER_EXPORT___.push([module.i, \"._3CHw8qXDneiVioUdRHMju8 {\\n  font-family: Helvetica, Arial, sans-serif;\\n  user-select: none;\\n  -ms-user-select: none;\\n  -moz-user-select: none;\\n  -webkit-user-select: none;\\n}\\n._3CHw8qXDneiVioUdRHMju8 ._3H8Pw8lhDulhwo-uLcObQx {\\n  pointer-events: none;\\n  position: absolute;\\n  z-index: 9999;\\n  width: 250px;\\n  max-width: 250px;\\n  overflow: hidden;\\n  padding: 15px;\\n  font-size: 12px;\\n  text-align: left;\\n  line-height: 14px;\\n  color: rgb(51, 51, 51);\\n  font-family: Helvetica, arial, 'Open Sans', sans-serif;\\n  background: rgba(255, 255, 255, 0.75);\\n}\\n._3CHw8qXDneiVioUdRHMju8 ._3H8Pw8lhDulhwo-uLcObQx ._3BoZReSmADOwNg8meDWI8X strong {\\n  display: inline-block;\\n  width: 250px;\\n}\\n._3CHw8qXDneiVioUdRHMju8 ._3H8Pw8lhDulhwo-uLcObQx span {\\n  display: inline-block;\\n  width: 50%;\\n  padding-right: 10px;\\n  box-sizing: border-box;\\n}\\n._3CHw8qXDneiVioUdRHMju8 ._3H8Pw8lhDulhwo-uLcObQx span,\\n._3CHw8qXDneiVioUdRHMju8 ._3H8Pw8lhDulhwo-uLcObQx ._3BoZReSmADOwNg8meDWI8X strong {\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\", \"\", {\n        \"version\": 3,\n        \"sources\": [\"calendar-heatmap.css\"],\n        \"names\": [],\n        \"mappings\": \"AAAA;EACE,yCAAyC;EACzC,iBAAiB;EACjB,qBAAqB;EACrB,sBAAsB;EACtB,yBAAyB;AAC3B;AACA;EACE,oBAAoB;EACpB,kBAAkB;EAClB,aAAa;EACb,YAAY;EACZ,gBAAgB;EAChB,gBAAgB;EAChB,aAAa;EACb,eAAe;EACf,gBAAgB;EAChB,iBAAiB;EACjB,sBAAsB;EACtB,sDAAsD;EACtD,qCAAqC;AACvC;AACA;EACE,qBAAqB;EACrB,YAAY;AACd;AACA;EACE,qBAAqB;EACrB,UAAU;EACV,mBAAmB;EACnB,sBAAsB;AACxB;AACA;;EAEE,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;AACzB\",\n        \"file\": \"calendar-heatmap.css\",\n        \"sourcesContent\": [\".calendarHeatmap {\\n  font-family: Helvetica, Arial, sans-serif;\\n  user-select: none;\\n  -ms-user-select: none;\\n  -moz-user-select: none;\\n  -webkit-user-select: none;\\n}\\n.calendarHeatmap .heatmapTooltip {\\n  pointer-events: none;\\n  position: absolute;\\n  z-index: 9999;\\n  width: 250px;\\n  max-width: 250px;\\n  overflow: hidden;\\n  padding: 15px;\\n  font-size: 12px;\\n  text-align: left;\\n  line-height: 14px;\\n  color: rgb(51, 51, 51);\\n  font-family: Helvetica, arial, 'Open Sans', sans-serif;\\n  background: rgba(255, 255, 255, 0.75);\\n}\\n.calendarHeatmap .heatmapTooltip .header strong {\\n  display: inline-block;\\n  width: 250px;\\n}\\n.calendarHeatmap .heatmapTooltip span {\\n  display: inline-block;\\n  width: 50%;\\n  padding-right: 10px;\\n  box-sizing: border-box;\\n}\\n.calendarHeatmap .heatmapTooltip span,\\n.calendarHeatmap .heatmapTooltip .header strong {\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\"]\n      }]); // Exports\n\n\n      ___CSS_LOADER_EXPORT___.locals = {\n        \"calendarHeatmap\": \"_3CHw8qXDneiVioUdRHMju8\",\n        \"heatmapTooltip\": \"_3H8Pw8lhDulhwo-uLcObQx\",\n        \"header\": \"_3BoZReSmADOwNg8meDWI8X\"\n      };\n      /* harmony default export */\n\n      __webpack_exports__[\"default\"] = ___CSS_LOADER_EXPORT___;\n      /***/\n    },\n    /* 8 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      /*\n      \tMIT License http://www.opensource.org/licenses/mit-license.php\n      \tAuthor Tobias Koppers @sokra\n      */\n      var stylesInDom = {};\n\n      var memoize = function memoize(fn) {\n        var memo;\n        return function () {\n          if (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n          return memo;\n        };\n      };\n\n      var isOldIE = memoize(function () {\n        // Test for IE <= 9 as proposed by Browserhacks\n        // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n        // Tests for existence of standard globals is to allow style-loader\n        // to operate correctly into non-standard environments\n        // @see https://github.com/webpack-contrib/style-loader/issues/177\n        return window && document && document.all && !window.atob;\n      });\n\n      var getElement = function (fn) {\n        var memo = {};\n        return function (selector) {\n          if (typeof memo[selector] === \"undefined\") {\n            var styleTarget = fn.call(this, selector); // Special case to return head of iframe instead of iframe itself\n\n            if (styleTarget instanceof window.HTMLIFrameElement) {\n              try {\n                // This will throw an exception if access to iframe is blocked\n                // due to cross-origin restrictions\n                styleTarget = styleTarget.contentDocument.head;\n              } catch (e) {\n                styleTarget = null;\n              }\n            }\n\n            memo[selector] = styleTarget;\n          }\n\n          return memo[selector];\n        };\n      }(function (target) {\n        return document.querySelector(target);\n      });\n\n      var singleton = null;\n      var singletonCounter = 0;\n      var stylesInsertedAtTop = [];\n\n      var fixUrls = __webpack_require__(9);\n\n      module.exports = function (list, options) {\n        if (typeof DEBUG !== \"undefined\" && DEBUG) {\n          if (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n        }\n\n        options = options || {};\n        options.attrs = typeof options.attrs === \"object\" ? options.attrs : {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n        // tags it will allow on a page\n\n        if (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE(); // By default, add <style> tags to the <head> element\n\n        if (!options.insertInto) options.insertInto = \"head\"; // By default, add <style> tags to the bottom of the target\n\n        if (!options.insertAt) options.insertAt = \"bottom\";\n        var styles = listToStyles(list, options);\n        addStylesToDom(styles, options);\n        return function update(newList) {\n          var mayRemove = [];\n\n          for (var i = 0; i < styles.length; i++) {\n            var item = styles[i];\n            var domStyle = stylesInDom[item.id];\n            domStyle.refs--;\n            mayRemove.push(domStyle);\n          }\n\n          if (newList) {\n            var newStyles = listToStyles(newList, options);\n            addStylesToDom(newStyles, options);\n          }\n\n          for (var i = 0; i < mayRemove.length; i++) {\n            var domStyle = mayRemove[i];\n\n            if (domStyle.refs === 0) {\n              for (var j = 0; j < domStyle.parts.length; j++) {\n                domStyle.parts[j]();\n              }\n\n              delete stylesInDom[domStyle.id];\n            }\n          }\n        };\n      };\n\n      function addStylesToDom(styles, options) {\n        for (var i = 0; i < styles.length; i++) {\n          var item = styles[i];\n          var domStyle = stylesInDom[item.id];\n\n          if (domStyle) {\n            domStyle.refs++;\n\n            for (var j = 0; j < domStyle.parts.length; j++) {\n              domStyle.parts[j](item.parts[j]);\n            }\n\n            for (; j < item.parts.length; j++) {\n              domStyle.parts.push(addStyle(item.parts[j], options));\n            }\n          } else {\n            var parts = [];\n\n            for (var j = 0; j < item.parts.length; j++) {\n              parts.push(addStyle(item.parts[j], options));\n            }\n\n            stylesInDom[item.id] = {\n              id: item.id,\n              refs: 1,\n              parts: parts\n            };\n          }\n        }\n      }\n\n      function listToStyles(list, options) {\n        var styles = [];\n        var newStyles = {};\n\n        for (var i = 0; i < list.length; i++) {\n          var item = list[i];\n          var id = options.base ? item[0] + options.base : item[0];\n          var css = item[1];\n          var media = item[2];\n          var sourceMap = item[3];\n          var part = {\n            css: css,\n            media: media,\n            sourceMap: sourceMap\n          };\n          if (!newStyles[id]) styles.push(newStyles[id] = {\n            id: id,\n            parts: [part]\n          });else newStyles[id].parts.push(part);\n        }\n\n        return styles;\n      }\n\n      function insertStyleElement(options, style) {\n        var target = getElement(options.insertInto);\n\n        if (!target) {\n          throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n        }\n\n        var lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n        if (options.insertAt === \"top\") {\n          if (!lastStyleElementInsertedAtTop) {\n            target.insertBefore(style, target.firstChild);\n          } else if (lastStyleElementInsertedAtTop.nextSibling) {\n            target.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n          } else {\n            target.appendChild(style);\n          }\n\n          stylesInsertedAtTop.push(style);\n        } else if (options.insertAt === \"bottom\") {\n          target.appendChild(style);\n        } else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n          var nextSibling = getElement(options.insertInto + \" \" + options.insertAt.before);\n          target.insertBefore(style, nextSibling);\n        } else {\n          throw new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n        }\n      }\n\n      function removeStyleElement(style) {\n        if (style.parentNode === null) return false;\n        style.parentNode.removeChild(style);\n        var idx = stylesInsertedAtTop.indexOf(style);\n\n        if (idx >= 0) {\n          stylesInsertedAtTop.splice(idx, 1);\n        }\n      }\n\n      function createStyleElement(options) {\n        var style = document.createElement(\"style\");\n        options.attrs.type = \"text/css\";\n        addAttrs(style, options.attrs);\n        insertStyleElement(options, style);\n        return style;\n      }\n\n      function createLinkElement(options) {\n        var link = document.createElement(\"link\");\n        options.attrs.type = \"text/css\";\n        options.attrs.rel = \"stylesheet\";\n        addAttrs(link, options.attrs);\n        insertStyleElement(options, link);\n        return link;\n      }\n\n      function addAttrs(el, attrs) {\n        Object.keys(attrs).forEach(function (key) {\n          el.setAttribute(key, attrs[key]);\n        });\n      }\n\n      function addStyle(obj, options) {\n        var style, update, remove, result; // If a transform function was defined, run it on the css\n\n        if (options.transform && obj.css) {\n          result = options.transform(obj.css);\n\n          if (result) {\n            // If transform returns a value, use that instead of the original css.\n            // This allows running runtime transformations on the css.\n            obj.css = result;\n          } else {\n            // If the transform function returns a falsy value, don't add this css.\n            // This allows conditional loading of css\n            return function () {// noop\n            };\n          }\n        }\n\n        if (options.singleton) {\n          var styleIndex = singletonCounter++;\n          style = singleton || (singleton = createStyleElement(options));\n          update = applyToSingletonTag.bind(null, style, styleIndex, false);\n          remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n        } else if (obj.sourceMap && typeof URL === \"function\" && typeof URL.createObjectURL === \"function\" && typeof URL.revokeObjectURL === \"function\" && typeof Blob === \"function\" && typeof btoa === \"function\") {\n          style = createLinkElement(options);\n          update = updateLink.bind(null, style, options);\n\n          remove = function remove() {\n            removeStyleElement(style);\n            if (style.href) URL.revokeObjectURL(style.href);\n          };\n        } else {\n          style = createStyleElement(options);\n          update = applyToTag.bind(null, style);\n\n          remove = function remove() {\n            removeStyleElement(style);\n          };\n        }\n\n        update(obj);\n        return function updateStyle(newObj) {\n          if (newObj) {\n            if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n              return;\n            }\n\n            update(obj = newObj);\n          } else {\n            remove();\n          }\n        };\n      }\n\n      var replaceText = function () {\n        var textStore = [];\n        return function (index, replacement) {\n          textStore[index] = replacement;\n          return textStore.filter(Boolean).join('\\n');\n        };\n      }();\n\n      function applyToSingletonTag(style, index, remove, obj) {\n        var css = remove ? \"\" : obj.css;\n\n        if (style.styleSheet) {\n          style.styleSheet.cssText = replaceText(index, css);\n        } else {\n          var cssNode = document.createTextNode(css);\n          var childNodes = style.childNodes;\n          if (childNodes[index]) style.removeChild(childNodes[index]);\n\n          if (childNodes.length) {\n            style.insertBefore(cssNode, childNodes[index]);\n          } else {\n            style.appendChild(cssNode);\n          }\n        }\n      }\n\n      function applyToTag(style, obj) {\n        var css = obj.css;\n        var media = obj.media;\n\n        if (media) {\n          style.setAttribute(\"media\", media);\n        }\n\n        if (style.styleSheet) {\n          style.styleSheet.cssText = css;\n        } else {\n          while (style.firstChild) {\n            style.removeChild(style.firstChild);\n          }\n\n          style.appendChild(document.createTextNode(css));\n        }\n      }\n\n      function updateLink(link, options, obj) {\n        var css = obj.css;\n        var sourceMap = obj.sourceMap;\n        /*\n        \tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n        \tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n        \ton by default.  Otherwise default to the convertToAbsoluteUrls option\n        \tdirectly\n        */\n\n        var autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n        if (options.convertToAbsoluteUrls || autoFixUrls) {\n          css = fixUrls(css);\n        }\n\n        if (sourceMap) {\n          // http://stackoverflow.com/a/26603875\n          css += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n        }\n\n        var blob = new Blob([css], {\n          type: \"text/css\"\n        });\n        var oldSrc = link.href;\n        link.href = URL.createObjectURL(blob);\n        if (oldSrc) URL.revokeObjectURL(oldSrc);\n      }\n      /***/\n\n    },\n    /* 9 */\n\n    /***/\n    function (module, exports) {\n      /**\n       * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n       * embed the css on the page. This breaks all relative urls because now they are relative to a\n       * bundle instead of the current page.\n       *\n       * One solution is to only use full urls, but that may be impossible.\n       *\n       * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n       *\n       * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n       *\n       */\n      module.exports = function (css) {\n        // get current location\n        var location = typeof window !== \"undefined\" && window.location;\n\n        if (!location) {\n          throw new Error(\"fixUrls requires window.location\");\n        } // blank or null?\n\n\n        if (!css || typeof css !== \"string\") {\n          return css;\n        }\n\n        var baseUrl = location.protocol + \"//\" + location.host;\n        var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\"); // convert each url(...)\n\n        /*\n        This regular expression is just a way to recursively match brackets within\n        a string.\n        \t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n           (  = Start a capturing group\n             (?:  = Start a non-capturing group\n                 [^)(]  = Match anything that isn't a parentheses\n                 |  = OR\n                 \\(  = Match a start parentheses\n                     (?:  = Start another non-capturing groups\n                         [^)(]+  = Match anything that isn't a parentheses\n                         |  = OR\n                         \\(  = Match a start parentheses\n                             [^)(]*  = Match anything that isn't a parentheses\n                         \\)  = Match a end parentheses\n                     )  = End Group\n                     *\\) = Match anything and then a close parens\n                 )  = Close non-capturing group\n                 *  = Match anything\n              )  = Close capturing group\n         \\)  = Match a close parens\n        \t /gi  = Get all matches, not the first.  Be case insensitive.\n         */\n\n        var fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function (fullMatch, origUrl) {\n          // strip quotes (if they exist)\n          var unquotedOrigUrl = origUrl.trim().replace(/^\"(.*)\"$/, function (o, $1) {\n            return $1;\n          }).replace(/^'(.*)'$/, function (o, $1) {\n            return $1;\n          }); // already a full url? no change\n\n          if (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(unquotedOrigUrl)) {\n            return fullMatch;\n          } // convert the url to a full url\n\n\n          var newUrl;\n\n          if (unquotedOrigUrl.indexOf(\"//\") === 0) {\n            //TODO: should we add protocol?\n            newUrl = unquotedOrigUrl;\n          } else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n            // path should be relative to the base url\n            newUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n          } else {\n            // path should be relative to current directory\n            newUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n          } // send back the fixed url(...)\n\n\n          return \"url(\" + JSON.stringify(newUrl) + \")\";\n        }); // send back the fixed css\n\n        return fixedCss;\n      };\n      /***/\n\n    }\n    /******/\n    ])\n  );\n});","map":{"version":3,"sources":["webpack://CalendarHeatmap/webpack/universalModuleDefinition","webpack://CalendarHeatmap/webpack/bootstrap","webpack://CalendarHeatmap/node_modules/css-loader/dist/runtime/api.js","webpack://CalendarHeatmap/src/index.js","webpack://CalendarHeatmap/src/calendar-heatmap.component.js","webpack:/CalendarHeatmap/external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\",\"umd\":\"react\"}","webpack://CalendarHeatmap/src/calendar-heatmap.css?d4b3","webpack://CalendarHeatmap/src/calendar-heatmap.css","webpack://CalendarHeatmap/node_modules/style-loader/lib/addStyles.js","webpack://CalendarHeatmap/node_modules/style-loader/lib/urls.js"],"names":["React","d3","CalendarHeatmap","Component","gutter","item_gutter","width","height","item_size","label_padding","max_block_height","transition_duration","tooltip_width","tooltip_padding","window","dayIndex","Math","colIndex","numWeeks","summary","uniques","project","value","unsorted_summary","d","b","a","start","end","year_data","date","getSummary","item","current","prev","max_value","year_labels","yearScale","item_block","color","tooltip_html","sec","parseInt","days","hours","minutes","counter","other_projects_sum","x","y","i","transition","callback","n","year_label","start_of_year","end_of_year","calcItemX","calcItemY","calcItemSize","circle","repeat","month_labels","monthScale","month","selected_month","month_data","e","day_labels","dayScale","selected_day","start_of_month","end_of_month","week_labels","weekScale","weekday","item_width","itemScale","total","offset","parentNode","week_data","start_of_week","end_of_week","Object","project_labels","projectScale","timeLabels","timeScale","selected","obj","text_length","text","button","seconds","time","data","overview","handler","undefined"],"mappings":"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","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"moment\"), require(\"d3\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"moment\", \"d3\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"CalendarHeatmap\"] = factory(require(\"react\"), require(\"moment\"), require(\"d3\"));\n\telse\n\t\troot[\"CalendarHeatmap\"] = factory(root[\"React\"], root[\"moment\"], root[\"d3\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__3__, __WEBPACK_EXTERNAL_MODULE__4__, __WEBPACK_EXTERNAL_MODULE__5__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","import CalendarHeatmap from './calendar-heatmap.component.js'\n\nexport default CalendarHeatmap\n","import * as React from 'react'\n\nimport moment from 'moment'\nimport * as d3 from 'd3'\n\nimport styles from './calendar-heatmap.css'\n\nclass CalendarHeatmap extends React.Component {\n\n  constructor(props) {\n    super(props)\n\n    this.settings = {\n      gutter: 5,\n      item_gutter: 1,\n      width: 1000,\n      height: 200,\n      item_size: 10,\n      label_padding: 40,\n      max_block_height: 20,\n      transition_duration: 500,\n      tooltip_width: 250,\n      tooltip_padding: 15,\n    }\n\n    this.in_transition = false\n    this.overview = this.props.overview\n    this.history = ['global']\n    this.selected = {}\n\n    this.calcDimensions = this.calcDimensions.bind(this)\n  }\n\n  componentDidMount() {\n    this.createElements()\n    this.parseData()\n    this.drawChart()\n\n    window.addEventListener('resize', this.calcDimensions)\n  }\n\n  componentDidUpdate() {\n    this.parseData()\n    this.drawChart()\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.calcDimensions)\n  }\n\n  createElements() {\n    // Create svg element\n    this.svg = d3.select('#calendar-heatmap')\n      .append('svg')\n      .attr('class', 'svg')\n\n    // Create other svg elements\n    this.items = this.svg.append('g')\n    this.labels = this.svg.append('g')\n    this.buttons = this.svg.append('g')\n\n    // Add tooltip to the same element as main svg\n    this.tooltip = d3.select('#calendar-heatmap')\n      .append('div')\n      .attr('class', styles.heatmapTooltip)\n      .style('opacity', 0)\n      .style('pointer-events', 'none')\n      .style('position', 'absolute')\n      .style('z-index', 9999)\n      .style('width', '250px')\n      .style('max-width', '250px')\n      .style('overflow', 'hidden')\n      .style('padding', '15px')\n      .style('font-size', '12px')\n      .style('line-height', '14px')\n      .style('color', 'rgb(51, 51, 51)')\n      .style('background', 'rgba(255, 255, 255, 0.75)')\n\n    this.calcDimensions()\n  }\n\n  // Calculate dimensions based on available width\n  calcDimensions() {\n    let dayIndex = Math.round((moment() - moment().subtract(1, 'year').startOf('week')) / 86400000)\n    let colIndex = Math.trunc(dayIndex / 7)\n    let numWeeks = colIndex + 1\n\n    this.settings.width = this.container.offsetWidth < 1000 ? 1000 : this.container.offsetWidth\n    this.settings.item_size = ((this.settings.width - this.settings.label_padding) / numWeeks - this.settings.gutter)\n    this.settings.height = this.settings.label_padding + 7 * (this.settings.item_size + this.settings.gutter)\n    this.svg.attr('width', this.settings.width)\n      .attr('height', this.settings.height)\n\n    if ( !!this.props.data && !!this.props.data[0].summary ) {\n      this.drawChart()\n    }\n  }\n\n  parseData() {\n    if ( !this.props.data ) { return }\n\n    // Get daily summary if that was not provided\n    if ( !this.props.data[0].summary ) {\n      this.props.data.map(d => {\n        let summary = d.details.reduce((uniques, project) => {\n          if (!uniques[project.name]) {\n            uniques[project.name] = {\n              'value': project.value\n            }\n          } else {\n            uniques[project.name].value += project.value\n          }\n          return uniques\n        }, {})\n        let unsorted_summary = Object.keys(summary).map(key => {\n          return {\n            'name': key,\n            'value': summary[key].value\n          }\n        })\n        d.summary = unsorted_summary.sort((a, b) => {\n          return b.value - a.value\n        })\n        return d\n      })\n    }\n  }\n\n  drawChart() {\n    if ( this.overview === 'global' ) {\n      this.drawGlobalOverview()\n    } else if ( this.overview === 'year' ) {\n      this.drawYearOverview()\n    } else if ( this.overview === 'month' ) {\n      this.drawMonthOverview()\n    } else if ( this.overview === 'week' ) {\n      this.drawWeekOverview()\n    } else if ( this.overview === 'day' ) {\n      this.drawDayOverview()\n    }\n  }\n\n\n  /**\n   * Draw global overview (multiple years)\n   */\n  drawGlobalOverview() {\n\n    // Add current overview to the history\n    if (this.history[this.history.length - 1] !== this.overview) {\n      this.history.push(this.overview)\n    }\n\n    // Define start and end of the dataset\n    let start = moment(this.props.data[0].date).startOf('year')\n    let end = moment(this.props.data[this.props.data.length - 1].date).endOf('year')\n\n    // Define array of years and total values\n    let year_data = d3.timeYears(start, end).map(d => {\n      let date = moment(d)\n      let getSummary = () => {\n        let summary = this.props.data.reduce((summary, d) => {\n          if (moment(d.date).year() === date.year()) {\n            d.summary.map(item => {\n              if (!summary[item.name]) {\n                summary[item.name] = {\n                  'value': item.value,\n                }\n              } else {\n                summary[item.name].value += item.value\n              }\n            })\n          }\n          return summary\n        }, {})\n        let unsorted_summary = Object.keys(summary).map(key => {\n          return {\n            'name': key,\n            'value': summary[key].value\n          }\n        })\n        return unsorted_summary.sort((a, b) => {\n          return b.value - a.value\n        })\n      }\n      return {\n        'date': date,\n        'total': this.props.data.reduce((prev, current) => {\n          if (moment(current.date).year() === date.year()) {\n            prev += current.total\n          }\n          return prev\n        }, 0),\n        'summary': getSummary(),\n      }\n    })\n\n    // Calculate max value of all the years in the dataset\n    let max_value = d3.max(year_data, d => {\n      return d.total\n    })\n\n    // Define year labels and axis\n    let year_labels = d3.timeYears(start, end).map(d => {\n      return moment(d)\n    })\n    let yearScale = d3.scaleBand()\n      .rangeRound([0, this.settings.width])\n      .padding([0.05])\n      .domain(year_labels.map(d => {\n        return d.year()\n      }))\n\n    // Add global data items to the overview\n    this.items.selectAll('.item-block-year').remove()\n    let item_block = this.items.selectAll('.item-block-year')\n      .data(year_data)\n      .enter()\n      .append('rect')\n      .attr('class', 'item item-block-year')\n      .style('cursor', 'pointer')\n      .attr('width', () => {\n        return (this.settings.width - this.settings.label_padding) / year_labels.length - this.settings.gutter * 5\n      })\n      .attr('height', () => {\n        return this.settings.height - this.settings.label_padding\n      })\n      .attr('transform', d => {\n        return 'translate(' + yearScale(d.date.year()) + ',' + this.settings.tooltip_padding * 2 + ')'\n      })\n      .attr('fill', d => {\n        let color = d3.scaleLinear()\n          .range(['#ffffff', this.props.color])\n          .domain([-0.15 * max_value, max_value])\n        return color(d.total) || '#ff4500'\n      })\n      .on('click', d => {\n        if (this.in_transition) { return }\n\n        // Set in_transition flag\n        this.in_transition = true\n\n        // Set selected date to the one clicked on\n        this.selected = d\n\n        // Hide tooltip\n        this.hideTooltip()\n\n        // Remove all global overview related items and labels\n        this.removeGlobalOverview()\n\n        // Redraw the chart\n        this.overview = 'year'\n        this.drawChart()\n      })\n      .style('opacity', 0)\n      .on('mouseover', d => {\n        if (this.in_transition) { return }\n\n        // Construct tooltip\n        let tooltip_html = ''\n        tooltip_html += '<div><span><strong>Total time tracked:</strong></span>'\n\n        let sec = parseInt(d.total, 10)\n        let days = Math.floor(sec / 86400)\n        if (days > 0) {\n          tooltip_html += '<span>' + (days === 1 ? '1 day' : days + ' days') + '</span></div>'\n        }\n        let hours = Math.floor((sec - (days * 86400)) / 3600)\n        if (hours > 0) {\n          if (days > 0) {\n            tooltip_html += '<div><span></span><span>' + (hours === 1 ? '1 hour' : hours + ' hours') + '</span></div>'\n          } else {\n            tooltip_html += '<span>' + (hours === 1 ? '1 hour' : hours + ' hours') + '</span></div>'\n          }\n        }\n        let minutes = Math.floor((sec - (days * 86400) - (hours * 3600)) / 60)\n        if (minutes > 0) {\n          if (days > 0 || hours > 0) {\n            tooltip_html += '<div><span></span><span>' + (minutes === 1 ? '1 minute' : minutes + ' minutes') + '</span></div>'\n          } else {\n            tooltip_html += '<span>' + (minutes === 1 ? '1 minute' : minutes + ' minutes') + '</span></div>'\n          }\n        }\n        tooltip_html += '<br />'\n\n        // Add summary to the tooltip\n        if (d.summary.length <= 5) {\n          let counter = 0\n          while ( counter < d.summary.length ) {\n            tooltip_html += '<div><span><strong>' + d.summary[counter].name + '</strong></span>'\n            tooltip_html += '<span>' + this.formatTime(d.summary[counter].value) + '</span></div>'\n            counter++\n          }\n        } else {\n          let counter = 0\n          while ( counter < 5 ) {\n            tooltip_html += '<div><span><strong>' + d.summary[counter].name + '</strong></span>'\n            tooltip_html += '<span>' + this.formatTime(d.summary[counter].value) + '</span></div>'\n            counter++\n          }\n\n          tooltip_html += '<br />'\n\n          counter = 5\n          let other_projects_sum = 0\n          while ( counter < d.summary.length ) {\n            other_projects_sum = +d.summary[counter].value\n            counter++\n          }\n          tooltip_html += '<div><span><strong>Other:</strong></span>'\n          tooltip_html += '<span>' + this.formatTime(other_projects_sum) + '</span></div>'\n        }\n\n        // Calculate tooltip position\n        let x = yearScale(d.date.year()) + this.settings.tooltip_padding * 2\n        while (this.settings.width - x < (this.settings.tooltip_width + this.settings.tooltip_padding * 5)) {\n          x -= 10\n        }\n        let y = this.settings.tooltip_padding * 3\n\n        // Show tooltip\n        this.tooltip.html(tooltip_html)\n          .style('left', x + 'px')\n          .style('top', y + 'px')\n          .transition()\n          .duration(this.settings.transition_duration / 2)\n          .ease(d3.easeLinear)\n          .style('opacity', 1)\n      })\n      .on('mouseout', () => {\n        if (this.in_transition) { return }\n        this.hideTooltip()\n      })\n      .transition()\n      .delay((d, i) => {\n        return this.settings.transition_duration * (i + 1) / 10\n      })\n      .duration(() => {\n        return this.settings.transition_duration\n      })\n      .ease(d3.easeLinear)\n      .style('opacity', 1)\n      .call((transition, callback) => {\n        if (transition.empty()) {\n          callback()\n        }\n        let n = 0\n        transition\n          .each(() => {++n })\n          .on('end', function() {\n            if (!--n) {\n              callback.apply(this, arguments)\n            }\n          })\n      }, () => {\n        this.in_transition = false\n      })\n\n    // Add year labels\n    this.labels.selectAll('.label-year').remove()\n    this.labels.selectAll('.label-year')\n      .data(year_labels)\n      .enter()\n      .append('text')\n      .attr('class', 'label label-year')\n      .style('cursor', 'pointer')\n      .style('fill', 'rgb(170, 170, 170)')\n      .attr('font-size', () => {\n        return Math.floor(this.settings.label_padding / 3) + 'px'\n      })\n      .text(d => {\n        return d.year()\n      })\n      .attr('x', d => {\n        return yearScale(d.year())\n      })\n      .attr('y', this.settings.label_padding / 2)\n      .on('mouseenter', year_label => {\n        if (this.in_transition) { return }\n\n        this.items.selectAll('.item-block-year')\n          .transition()\n          .duration(this.settings.transition_duration)\n          .ease(d3.easeLinear)\n          .style('opacity', d => {\n            return (moment(d.date).year() === year_label.year()) ? 1 : 0.1\n          })\n      })\n      .on('mouseout', () => {\n        if (this.in_transition) { return }\n\n        this.items.selectAll('.item-block-year')\n          .transition()\n          .duration(this.settings.transition_duration)\n          .ease(d3.easeLinear)\n          .style('opacity', 1)\n      })\n      .on('click', d => {\n        if (this.in_transition) { return }\n\n        // Set in_transition flag\n        this.in_transition = true\n\n        // Set selected year to the one clicked on\n        this.selected = { date: d }\n\n        // Hide tooltip\n        this.hideTooltip()\n\n        // Remove all global overview related items and labels\n        this.removeGlobalOverview()\n\n        // Redraw the chart\n        this.overview = 'year'\n        this.drawChart()\n      })\n  }\n\n\n  /**\n   * Draw year overview\n   */\n  drawYearOverview() {\n    // Add current overview to the history\n    if (this.history[this.history.length - 1] !== this.overview) {\n      this.history.push(this.overview)\n    }\n\n    // Define start and end date of the selected year\n    let start_of_year = moment(this.selected.date).startOf('year')\n    let end_of_year = moment(this.selected.date).endOf('year')\n\n    // Filter data down to the selected year\n    let year_data = this.props.data.filter(d => {\n      return start_of_year <= moment(d.date) && moment(d.date) < end_of_year\n    })\n\n    // Calculate max value of the year data\n    let max_value = d3.max(year_data, d => d.total)\n\n    let color = d3.scaleLinear()\n      .range(['#ffffff', this.props.color])\n      .domain([-0.15 * max_value, max_value])\n\n    let calcItemX = (d) => {\n      let date = moment(d.date)\n      let dayIndex = Math.round((date - moment(start_of_year).startOf('week')) / 86400000)\n      let colIndex = Math.trunc(dayIndex / 7)\n      return colIndex * (this.settings.item_size + this.settings.gutter) + this.settings.label_padding\n    }\n\n    let calcItemY = d => {\n      return this.settings.label_padding + moment(d.date).weekday() * (this.settings.item_size + this.settings.gutter)\n    }\n\n    let calcItemSize = d => {\n      if ( max_value <= 0 ) {\n        return this.settings.item_size\n      }\n      return this.settings.item_size * 0.75 + (this.settings.item_size * d.total / max_value) * 0.25\n    }\n\n    this.items.selectAll('.item-circle').remove()\n    this.items.selectAll('.item-circle')\n      .data(year_data)\n      .enter()\n      .append('rect')\n      .attr('class', 'item item-circle')\n      .style('cursor', 'pointer')\n      .style('opacity', 0)\n      .attr('x', d => {\n        return calcItemX(d) + (this.settings.item_size - calcItemSize(d)) / 2\n      })\n      .attr('y', d => {\n        return calcItemY(d) + (this.settings.item_size - calcItemSize(d)) / 2\n      })\n      .attr('rx', d => {\n        return calcItemSize(d)\n      })\n      .attr('ry', d => {\n        return calcItemSize(d)\n      })\n      .attr('width', d => {\n        return calcItemSize(d)\n      })\n      .attr('height', d => {\n        return calcItemSize(d)\n      })\n      .attr('fill', d => {\n        return (d.total > 0) ? color(d.total) : 'transparent'\n      })\n      .on('click', d => {\n        if (this.in_transition) { return }\n\n        // Don't transition if there is no data to show\n        if (d.total === 0) { return }\n\n        this.in_transition = true\n\n        // Set selected date to the one clicked on\n        this.selected = d\n\n        // Hide tooltip\n        this.hideTooltip()\n\n        // Remove all year overview related items and labels\n        this.removeYearOverview()\n\n        // Redraw the chart\n        this.overview = 'day'\n        this.drawChart()\n      })\n      .on('mouseover', d => {\n        if (this.in_transition) { return }\n\n        // Pulsating animation\n        let circle = d3.select(d3.event.currentTarget)\n        let repeat = () => {\n          circle = circle.transition()\n            .duration(this.settings.transition_duration)\n            .ease(d3.easeLinear)\n            .attr('x', d => {\n              return calcItemX(d) - (this.settings.item_size * 1.1 - this.settings.item_size) / 2\n            })\n            .attr('y', d => {\n              return calcItemY(d) - (this.settings.item_size * 1.1 - this.settings.item_size) / 2\n            })\n            .attr('width', this.settings.item_size * 1.1)\n            .attr('height', this.settings.item_size * 1.1)\n            .transition()\n            .duration(this.settings.transition_duration)\n            .ease(d3.easeLinear)\n            .attr('x', d => {\n              return calcItemX(d) + (this.settings.item_size - calcItemSize(d)) / 2\n            })\n            .attr('y', d => {\n              return calcItemY(d) + (this.settings.item_size - calcItemSize(d)) / 2\n            })\n            .attr('width', d => {\n              return calcItemSize(d)\n            })\n            .attr('height', d => {\n              return calcItemSize(d)\n            })\n            .on('end', repeat)\n        }\n        repeat()\n\n        // Construct tooltip\n        let tooltip_html = ''\n        tooltip_html += `<div class=\"${styles.header}\"><strong>${d.total ? this.formatTime(d.total) : 'No time'} tracked</strong></div>`\n        tooltip_html += '<div>on ' + moment(d.date).format('dddd, MMM Do YYYY') + '</div><br>'\n\n        // Add summary to the tooltip\n        let counter = 0\n        while ( counter < d.summary.length ) {\n          tooltip_html += '<div><span><strong>' + d.summary[counter].name + '</strong></span>'\n          tooltip_html += '<span>' + this.formatTime(d.summary[counter].value) + '</span></div>'\n          counter++\n        }\n\n        // Calculate tooltip position\n        let x = calcItemX(d) + this.settings.item_size\n        if (this.settings.width - x < (this.settings.tooltip_width + this.settings.tooltip_padding * 3)) {\n          x -= this.settings.tooltip_width + this.settings.tooltip_padding * 2\n        }\n        let y = calcItemY(d) + this.settings.item_size\n\n        // Show tooltip\n        this.tooltip.html(tooltip_html)\n          .style('left', x + 'px')\n          .style('top', y + 'px')\n          .transition()\n          .duration(this.settings.transition_duration / 2)\n          .ease(d3.easeLinear)\n          .style('opacity', 1)\n      })\n      .on('mouseout', () => {\n        if (this.in_transition) { return }\n\n        // Set circle radius back to what its supposed to be\n        d3.select(d3.event.currentTarget).transition()\n          .duration(this.settings.transition_duration / 2)\n          .ease(d3.easeLinear)\n          .attr('x', d => {\n            return calcItemX(d) + (this.settings.item_size - calcItemSize(d)) / 2\n          })\n          .attr('y', d => {\n            return calcItemY(d) + (this.settings.item_size - calcItemSize(d)) / 2\n          })\n          .attr('width', d => {\n            return calcItemSize(d)\n          })\n          .attr('height', d => {\n            return calcItemSize(d)\n          })\n\n        // Hide tooltip\n        this.hideTooltip()\n      })\n      .transition()\n      .delay(() => {\n        return (Math.cos(Math.PI * Math.random()) + 1) * this.settings.transition_duration\n      })\n      .duration(() => {\n        return this.settings.transition_duration\n      })\n      .ease(d3.easeLinear)\n      .style('opacity', 1)\n      .call((transition, callback) => {\n        if (transition.empty()) {\n          callback()\n        }\n        let n = 0\n        transition\n          .each(() => ++n)\n          .on('end', function() {\n            if (!--n) {\n              callback.apply(this, arguments)\n            }\n          })\n      }, () => {\n        this.in_transition = false\n      })\n\n    // Add month labels\n    let month_labels = d3.timeMonths(start_of_year, end_of_year)\n    let monthScale = d3.scaleLinear()\n      .range([0, this.settings.width])\n      .domain([0, month_labels.length])\n    this.labels.selectAll('.label-month').remove()\n    this.labels.selectAll('.label-month')\n      .data(month_labels)\n      .enter()\n      .append('text')\n      .attr('class', 'label label-month')\n      .style('cursor', 'pointer')\n      .style('fill', 'rgb(170, 170, 170)')\n      .attr('font-size', () => {\n        return Math.floor(this.settings.label_padding / 3) + 'px'\n      })\n      .text(d => {\n        return d.toLocaleDateString('en-us', { month: 'short' })\n      })\n      .attr('x', (d, i) => {\n        return monthScale(i) + (monthScale(i) - monthScale(i - 1)) / 2\n      })\n      .attr('y', this.settings.label_padding / 2)\n      .on('mouseenter', d => {\n        if (this.in_transition) { return }\n\n        let selected_month = moment(d)\n        this.items.selectAll('.item-circle')\n          .transition()\n          .duration(this.settings.transition_duration)\n          .ease(d3.easeLinear)\n          .style('opacity', d => {\n            return moment(d.date).isSame(selected_month, 'month') ? 1 : 0.1\n          })\n      })\n      .on('mouseout', () => {\n        if (this.in_transition) { return }\n\n        this.items.selectAll('.item-circle')\n          .transition()\n          .duration(this.settings.transition_duration)\n          .ease(d3.easeLinear)\n          .style('opacity', 1)\n      })\n      .on('click', d => {\n        if (this.in_transition) { return }\n\n        // Check month data\n        let month_data = this.props.data.filter(e => {\n          return moment(d).startOf('month') <= moment(e.date) && moment(e.date) < moment(d).endOf('month')\n        })\n\n        // Don't transition if there is no data to show\n        if (!month_data.length) { return }\n\n        // Set selected month to the one clicked on\n        this.selected = { date: d }\n\n        this.in_transition = true\n\n        // Hide tooltip\n        this.hideTooltip()\n\n        // Remove all year overview related items and labels\n        this.removeYearOverview()\n\n        // Redraw the chart\n        this.overview = 'month'\n        this.drawChart()\n      })\n\n    // Add day labels\n    let day_labels = d3.timeDays(moment().startOf('week'), moment().endOf('week'))\n    let dayScale = d3.scaleBand()\n      .rangeRound([this.settings.label_padding, this.settings.height])\n      .domain(day_labels.map(d => {\n        return moment(d).weekday()\n      }))\n    this.labels.selectAll('.label-day').remove()\n    this.labels.selectAll('.label-day')\n      .data(day_labels)\n      .enter()\n      .append('text')\n      .attr('class', 'label label-day')\n      .style('cursor', 'pointer')\n      .style('fill', 'rgb(170, 170, 170)')\n      .attr('x', this.settings.label_padding / 3)\n      .attr('y', (d, i) => {\n        return dayScale(i) + dayScale.bandwidth() / 1.75\n      })\n      .style('text-anchor', 'left')\n      .attr('font-size', () => {\n        return Math.floor(this.settings.label_padding / 3) + 'px'\n      })\n      .text(d => {\n        return moment(d).format('dddd')[0]\n      })\n      .on('mouseenter', d => {\n        if (this.in_transition) { return }\n\n        let selected_day = moment(d)\n        this.items.selectAll('.item-circle')\n          .transition()\n          .duration(this.settings.transition_duration)\n          .ease(d3.easeLinear)\n          .style('opacity', d => {\n            return (moment(d.date).day() === selected_day.day()) ? 1 : 0.1\n          })\n      })\n      .on('mouseout', () => {\n        if (this.in_transition) { return }\n\n        this.items.selectAll('.item-circle')\n          .transition()\n          .duration(this.settings.transition_duration)\n          .ease(d3.easeLinear)\n          .style('opacity', 1)\n      })\n\n    // Add button to switch back to previous overview\n    this.drawButton()\n  }\n\n\n  /**\n   * Draw month overview\n   */\n  drawMonthOverview() {\n    // Add current overview to the history\n    if (this.history[this.history.length - 1] !== this.overview) {\n      this.history.push(this.overview)\n    }\n\n    // Define beginning and end of the month\n    let start_of_month = moment(this.selected.date).startOf('month')\n    let end_of_month = moment(this.selected.date).endOf('month')\n\n    // Filter data down to the selected month\n    let month_data = this.props.data.filter(d => {\n      return start_of_month <= moment(d.date) && moment(d.date) < end_of_month\n    })\n    let max_value = d3.max(month_data, d => {\n      return d3.max(d.summary, d => {\n        return d.value\n      })\n    })\n\n    // Define day labels and axis\n    let day_labels = d3.timeDays(moment().startOf('week'), moment().endOf('week'))\n    let dayScale = d3.scaleBand()\n      .rangeRound([this.settings.label_padding, this.settings.height])\n      .domain(day_labels.map(d => {\n        return moment(d).weekday()\n      }))\n\n    // Define week labels and axis\n    let week_labels = [start_of_month.clone()]\n    while (start_of_month.week() !== end_of_month.week()) {\n      week_labels.push(start_of_month.add(1, 'week').clone())\n    }\n    let weekScale = d3.scaleBand()\n      .rangeRound([this.settings.label_padding, this.settings.width])\n      .padding([0.05])\n      .domain(week_labels.map(weekday => {\n        return weekday.week()\n      }))\n\n    // Add month data items to the overview\n    this.items.selectAll('.item-block-month').remove()\n    let item_block = this.items.selectAll('.item-block-month')\n      .data(month_data)\n      .enter()\n      .append('g')\n      .attr('class', 'item item-block-month')\n      .style('cursor', 'pointer')\n      .attr('width', () => {\n        return (this.settings.width - this.settings.label_padding) / week_labels.length - this.settings.gutter * 5\n      })\n      .attr('height', () => {\n        return Math.min(dayScale.bandwidth(), this.settings.max_block_height)\n      })\n      .attr('transform', d => {\n        return 'translate(' + weekScale(moment(d.date).week()) + ',' + ((dayScale(moment(d.date).weekday()) + dayScale.bandwidth() / 1.75) - 15) + ')'\n      })\n      .attr('total', d => {\n        return d.total\n      })\n      .attr('date', d => {\n        return d.date\n      })\n      .attr('offset', 0)\n      .on('click', d => {\n        if (this.in_transition) { return }\n\n        // Don't transition if there is no data to show\n        if (d.total === 0) { return }\n\n        this.in_transition = true\n\n        // Set selected date to the one clicked on\n        this.selected = d\n\n        // Hide tooltip\n        this.hideTooltip()\n\n        // Remove all month overview related items and labels\n        this.removeMonthOverview()\n\n        // Redraw the chart\n        this.overview = 'day'\n        this.drawChart()\n      })\n\n    let item_width = (this.settings.width - this.settings.label_padding) / week_labels.length - this.settings.gutter * 5\n    let itemScale = d3.scaleLinear()\n      .rangeRound([0, item_width])\n\n    let item_gutter = this.settings.item_gutter\n    item_block.selectAll('.item-block-rect')\n      .data(d => d.summary)\n      .enter()\n      .append('rect')\n      .attr('class', 'item item-block-rect')\n      .style('cursor', 'pointer')\n      .attr('x', function(d) {\n        let total = parseInt(d3.select(this.parentNode).attr('total'))\n        let offset = parseInt(d3.select(this.parentNode).attr('offset'))\n        itemScale.domain([0, total])\n        d3.select(this.parentNode).attr('offset', offset + itemScale(d.value))\n        return offset\n      })\n      .attr('width', function(d) {\n        let total = parseInt(d3.select(this.parentNode).attr('total'))\n        itemScale.domain([0, total])\n        return Math.max((itemScale(d.value) - item_gutter), 1)\n      })\n      .attr('height', () => {\n        return Math.min(dayScale.bandwidth(), this.settings.max_block_height)\n      })\n      .attr('fill', d => {\n        let color = d3.scaleLinear()\n          .range(['#ffffff', this.props.color])\n          .domain([-0.15 * max_value, max_value])\n        return color(d.value) || '#ff4500'\n      })\n      .style('opacity', 0)\n      .on('mouseover', d => {\n        if (this.in_transition) { return }\n\n        // Get date from the parent node\n        let parentNode = d3.select(d3.event.currentTarget.parentNode)\n        let date = new Date(parentNode.attr('date'))\n\n        // Construct tooltip\n        let tooltip_html = ''\n        tooltip_html += `<div class=\"${styles.header}\"><strong>${d.name}</strong></div><br>`\n        tooltip_html += '<div><strong>' + (d.value ? this.formatTime(d.value) : 'No time') + ' tracked</strong></div>'\n        tooltip_html += '<div>on ' + moment(date).format('dddd, MMM Do YYYY') + '</div>'\n\n        // Calculate tooltip position\n        let x = weekScale(moment(date).week()) + this.settings.tooltip_padding\n        while (this.settings.width - x < (this.settings.tooltip_width + this.settings.tooltip_padding * 3)) {\n          x -= 10\n        }\n        let y = dayScale(moment(date).weekday()) + this.settings.tooltip_padding * 2\n\n        // Show tooltip\n        this.tooltip.html(tooltip_html)\n          .style('left', x + 'px')\n          .style('top', y + 'px')\n          .transition()\n          .duration(this.settings.transition_duration / 2)\n          .ease(d3.easeLinear)\n          .style('opacity', 1)\n      })\n      .on('mouseout', () => {\n        if (this.in_transition) { return }\n        this.hideTooltip()\n      })\n      .transition()\n      .delay(() => {\n        return (Math.cos(Math.PI * Math.random()) + 1) * this.settings.transition_duration\n      })\n      .duration(() => {\n        return this.settings.transition_duration\n      })\n      .ease(d3.easeLinear)\n      .style('opacity', 1)\n      .call((transition, callback) => {\n        if (transition.empty()) {\n          callback()\n        }\n        let n = 0\n        transition\n          .each(() => ++n)\n          .on('end', function() {\n            if (!--n) {\n              callback.apply(this, arguments)\n            }\n          })\n      }, () => {\n        this.in_transition = false\n      })\n\n    // Add week labels\n    this.labels.selectAll('.label-week').remove()\n    this.labels.selectAll('.label-week')\n      .data(week_labels)\n      .enter()\n      .append('text')\n      .attr('class', 'label label-week')\n      .style('cursor', 'pointer')\n      .style('fill', 'rgb(170, 170, 170)')\n      .attr('font-size', () => {\n        return Math.floor(this.settings.label_padding / 3) + 'px'\n      })\n      .text(d => {\n        return 'Week ' + d.week()\n      })\n      .attr('x', d => {\n        return weekScale(d.week())\n      })\n      .attr('y', this.settings.label_padding / 2)\n      .on('mouseenter', weekday => {\n        if (this.in_transition) { return }\n\n        this.items.selectAll('.item-block-month')\n          .transition()\n          .duration(this.settings.transition_duration)\n          .ease(d3.easeLinear)\n          .style('opacity', d => {\n            return (moment(d.date).week() === weekday.week()) ? 1 : 0.1\n          })\n      })\n      .on('mouseout', () => {\n        if (this.in_transition) { return }\n\n        this.items.selectAll('.item-block-month')\n          .transition()\n          .duration(this.settings.transition_duration)\n          .ease(d3.easeLinear)\n          .style('opacity', 1)\n      })\n      .on('click', d => {\n        if (this.in_transition) { return }\n\n        // Check week data\n        let week_data = this.props.data.filter(e => {\n          return d.startOf('week') <= moment(e.date) && moment(e.date) < d.endOf('week')\n        })\n\n        // Don't transition if there is no data to show\n        if (!week_data.length) { return }\n\n        this.in_transition = true\n\n        // Set selected month to the one clicked on\n        this.selected = { date: d }\n\n        // Hide tooltip\n        this.hideTooltip()\n\n        // Remove all year overview related items and labels\n        this.removeMonthOverview()\n\n        // Redraw the chart\n        this.overview = 'week'\n        this.drawChart()\n      })\n\n    // Add day labels\n    this.labels.selectAll('.label-day').remove()\n    this.labels.selectAll('.label-day')\n      .data(day_labels)\n      .enter()\n      .append('text')\n      .attr('class', 'label label-day')\n      .style('cursor', 'pointer')\n      .style('fill', 'rgb(170, 170, 170)')\n      .attr('x', this.settings.label_padding / 3)\n      .attr('y', (d, i) => {\n        return dayScale(i) + dayScale.bandwidth() / 1.75\n      })\n      .style('text-anchor', 'left')\n      .attr('font-size', () => {\n        return Math.floor(this.settings.label_padding / 3) + 'px'\n      })\n      .text(d => {\n        return moment(d).format('dddd')[0]\n      })\n      .on('mouseenter', d => {\n        if (this.in_transition) { return }\n\n        let selected_day = moment(d)\n        this.items.selectAll('.item-block-month')\n          .transition()\n          .duration(this.settings.transition_duration)\n          .ease(d3.easeLinear)\n          .style('opacity', d => {\n            return (moment(d.date).day() === selected_day.day()) ? 1 : 0.1\n          })\n      })\n      .on('mouseout', () => {\n        if (this.in_transition) { return }\n\n        this.items.selectAll('.item-block-month')\n          .transition()\n          .duration(this.settings.transition_duration)\n          .ease(d3.easeLinear)\n          .style('opacity', 1)\n      })\n\n    // Add button to switch back to previous overview\n    this.drawButton()\n  }\n\n\n  /**\n   * Draw week overview\n   */\n  drawWeekOverview() {\n    // Add current overview to the history\n    if (this.history[this.history.length - 1] !== this.overview) {\n      this.history.push(this.overview)\n    }\n\n    // Define beginning and end of the week\n    let start_of_week = moment(this.selected.date).startOf('week')\n    let end_of_week = moment(this.selected.date).endOf('week')\n\n    // Filter data down to the selected week\n    let week_data = this.props.data.filter(d => {\n      return start_of_week <= moment(d.date) && moment(d.date) < end_of_week\n    })\n    let max_value = d3.max(week_data, d => {\n      return d3.max(d.summary, d => {\n        return d.value\n      })\n    })\n\n    // Define day labels and axis\n    let day_labels = d3.timeDays(moment().startOf('week'), moment().endOf('week'))\n    let dayScale = d3.scaleBand()\n      .rangeRound([this.settings.label_padding, this.settings.height])\n      .domain(day_labels.map(d => {\n        return moment(d).weekday()\n      }))\n\n    // Define week labels and axis\n    let week_labels = [start_of_week]\n    let weekScale = d3.scaleBand()\n      .rangeRound([this.settings.label_padding, this.settings.width])\n      .padding([0.01])\n      .domain(week_labels.map(weekday => {\n        return weekday.week()\n      }))\n\n    // Add week data items to the overview\n    this.items.selectAll('.item-block-week').remove()\n    let item_block = this.items.selectAll('.item-block-week')\n      .data(week_data)\n      .enter()\n      .append('g')\n      .attr('class', 'item item-block-week')\n      .style('cursor', 'pointer')\n      .attr('width', () => {\n        return (this.settings.width - this.settings.label_padding) / week_labels.length - this.settings.gutter * 5\n      })\n      .attr('height', () => {\n        return Math.min(dayScale.bandwidth(), this.settings.max_block_height)\n      })\n      .attr('transform', d => {\n        return 'translate(' + weekScale(moment(d.date).week()) + ',' + ((dayScale(moment(d.date).weekday()) + dayScale.bandwidth() / 1.75) - 15) + ')'\n      })\n      .attr('total', d =>{\n        return d.total\n      })\n      .attr('date', d => {\n        return d.date\n      })\n      .attr('offset', 0)\n      .on('click', d => {\n        if (this.in_transition) { return }\n\n        // Don't transition if there is no data to show\n        if (d.total === 0) { return }\n\n        this.in_transition = true\n\n        // Set selected date to the one clicked on\n        this.selected = d\n\n        // Hide tooltip\n        this.hideTooltip()\n\n        // Remove all week overview related items and labels\n        this.removeWeekOverview()\n\n        // Redraw the chart\n        this.overview = 'day'\n        this.drawChart()\n      })\n\n    let item_width = (this.settings.width - this.settings.label_padding) / week_labels.length - this.settings.gutter * 5\n    let itemScale = d3.scaleLinear()\n      .rangeRound([0, item_width])\n\n    let item_gutter = this.settings.item_gutter\n    item_block.selectAll('.item-block-rect')\n      .data(d => d.summary)\n      .enter()\n      .append('rect')\n      .attr('class', 'item item-block-rect')\n      .style('cursor', 'pointer')\n      .attr('x', function(d) {\n        let total = parseInt(d3.select(this.parentNode).attr('total'))\n        let offset = parseInt(d3.select(this.parentNode).attr('offset'))\n        itemScale.domain([0, total])\n        d3.select(this.parentNode).attr('offset', offset + itemScale(d.value))\n        return offset\n      })\n      .attr('width', function(d) {\n        let total = parseInt(d3.select(this.parentNode).attr('total'))\n        itemScale.domain([0, total])\n        return Math.max((itemScale(d.value) - item_gutter), 1)\n      })\n      .attr('height', () => {\n        return Math.min(dayScale.bandwidth(), this.settings.max_block_height)\n      })\n      .attr('fill', d => {\n        let color = d3.scaleLinear()\n          .range(['#ffffff', this.props.color])\n          .domain([-0.15 * max_value, max_value])\n        return color(d.value) || '#ff4500'\n      })\n      .style('opacity', 0)\n      .on('mouseover', d => {\n        if (this.in_transition) { return }\n\n        // Get date from the parent node\n        let parentNode = d3.select(d3.event.currentTarget.parentNode)\n        let date = new Date(parentNode.attr('date'))\n\n        // Construct tooltip\n        let tooltip_html = ''\n        tooltip_html += `<div class=\"${styles.header}\"><strong>${d.name}</strong></div><br>`\n        tooltip_html += '<div><strong>' + (d.value ? this.formatTime(d.value) : 'No time') + ' tracked</strong></div>'\n        tooltip_html += '<div>on ' + moment(date).format('dddd, MMM Do YYYY') + '</div>'\n\n        // Calculate tooltip position\n        let total = parseInt(parentNode.attr('total'))\n        itemScale.domain([0, total])\n        let x = parseInt(d3.select(d3.event.currentTarget).attr('x')) + itemScale(d.value) / 4 + this.settings.tooltip_width / 4\n        while (this.settings.width - x < (this.settings.tooltip_width + this.settings.tooltip_padding * 3)) {\n          x -= 10\n        }\n        let y = dayScale(moment(date).weekday()) + this.settings.tooltip_padding * 1.5\n\n        // Show tooltip\n        this.tooltip.html(tooltip_html)\n          .style('left', x + 'px')\n          .style('top', y + 'px')\n          .transition()\n          .duration(this.settings.transition_duration / 2)\n          .ease(d3.easeLinear)\n          .style('opacity', 1)\n      })\n      .on('mouseout', () => {\n        if (this.in_transition) { return }\n        this.hideTooltip()\n      })\n      .transition()\n      .delay(() => {\n        return (Math.cos(Math.PI * Math.random()) + 1) * this.settings.transition_duration\n      })\n      .duration(() => {\n        return this.settings.transition_duration\n      })\n      .ease(d3.easeLinear)\n      .style('opacity', 1)\n      .call((transition, callback) => {\n        if (transition.empty()) {\n          callback()\n        }\n        let n = 0\n        transition\n          .each(() => ++n)\n          .on('end', function() {\n            if (!--n) {\n              callback.apply(this, arguments)\n            }\n          })\n      }, () => {\n        this.in_transition = false\n      })\n\n    // Add week labels\n    this.labels.selectAll('.label-week').remove()\n    this.labels.selectAll('.label-week')\n      .data(week_labels)\n      .enter()\n      .append('text')\n      .attr('class', 'label label-week')\n      .style('cursor', 'pointer')\n      .style('fill', 'rgb(170, 170, 170)')\n      .attr('font-size', () => {\n        return Math.floor(this.settings.label_padding / 3) + 'px'\n      })\n      .text(d => {\n        return 'Week ' + d.week()\n      })\n      .attr('x', d => {\n        return weekScale(d.week())\n      })\n      .attr('y', this.settings.label_padding / 2)\n      .on('mouseenter', weekday => {\n        if (this.in_transition) { return }\n\n        this.items.selectAll('.item-block-week')\n          .transition()\n          .duration(this.settings.transition_duration)\n          .ease(d3.easeLinear)\n          .style('opacity', d => {\n            return (moment(d.date).week() === weekday.week()) ? 1 : 0.1\n          })\n      })\n      .on('mouseout', () => {\n        if (this.in_transition) { return }\n\n        this.items.selectAll('.item-block-week')\n          .transition()\n          .duration(this.settings.transition_duration)\n          .ease(d3.easeLinear)\n          .style('opacity', 1)\n      })\n\n    // Add day labels\n    this.labels.selectAll('.label-day').remove()\n    this.labels.selectAll('.label-day')\n      .data(day_labels)\n      .enter()\n      .append('text')\n      .attr('class', 'label label-day')\n      .style('cursor', 'pointer')\n      .style('fill', 'rgb(170, 170, 170)')\n      .attr('x', this.settings.label_padding / 3)\n      .attr('y', (d, i) => {\n        return dayScale(i) + dayScale.bandwidth() / 1.75\n      })\n      .style('text-anchor', 'left')\n      .attr('font-size', () => {\n        return Math.floor(this.settings.label_padding / 3) + 'px'\n      })\n      .text(d => {\n        return moment(d).format('dddd')[0]\n      })\n      .on('mouseenter', d => {\n        if (this.in_transition) { return }\n\n        let selected_day = moment(d)\n        this.items.selectAll('.item-block-week')\n          .transition()\n          .duration(this.settings.transition_duration)\n          .ease(d3.easeLinear)\n          .style('opacity', d => {\n            return (moment(d.date).day() === selected_day.day()) ? 1 : 0.1\n          })\n      })\n      .on('mouseout', () => {\n        if (this.in_transition) { return }\n\n        this.items.selectAll('.item-block-week')\n          .transition()\n          .duration(this.settings.transition_duration)\n          .ease(d3.easeLinear)\n          .style('opacity', 1)\n      })\n\n    // Add button to switch back to previous overview\n    this.drawButton()\n  }\n\n\n  /**\n   * Draw day overview\n   */\n  drawDayOverview() {\n    // Add current overview to the history\n    if (this.history[this.history.length - 1] !== this.overview) {\n      this.history.push(this.overview)\n    }\n\n    // Initialize selected date to today if it was not set\n    if (!Object.keys(this.selected).length) {\n      this.selected = this.props.data[this.props.data.length - 1]\n    }\n\n    let project_labels = this.selected.summary.map(project => {\n      return project.name\n    })\n    let projectScale = d3.scaleBand()\n      .rangeRound([this.settings.label_padding, this.settings.height])\n      .domain(project_labels)\n\n    let itemScale = d3.scaleTime()\n      .range([this.settings.label_padding * 2, this.settings.width])\n      .domain([moment(this.selected.date).startOf('day'), moment(this.selected.date).endOf('day')])\n    this.items.selectAll('.item-block').remove()\n    this.items.selectAll('.item-block')\n      .data(this.selected.details)\n      .enter()\n      .append('rect')\n      .attr('class', 'item item-block')\n      .style('cursor', 'pointer')\n      .attr('x', d => {\n        return itemScale(moment(d.date))\n      })\n      .attr('y', d => {\n        return (projectScale(d.name) + projectScale.bandwidth() / 2) - 15\n      })\n      .attr('width', d => {\n        let end = itemScale(d3.timeSecond.offset(moment(d.date), d.value))\n        return Math.max((end - itemScale(moment(d.date))), 1)\n      })\n      .attr('height', () => {\n        return Math.min(projectScale.bandwidth(), this.settings.max_block_height)\n      })\n      .attr('fill', () => {\n        return this.props.color\n      })\n      .style('opacity', 0)\n      .on('mouseover', d => {\n        if (this.in_transition) { return }\n\n        // Construct tooltip\n        let tooltip_html = ''\n        tooltip_html += `<div class=\"${styles.header}\"><strong>${d.name}</strong><div><br>`\n        tooltip_html += '<div><strong>' + (d.value ? this.formatTime(d.value) : 'No time') + ' tracked</strong></div>'\n        tooltip_html += '<div>on ' + moment(d.date).format('dddd, MMM Do YYYY HH:mm') + '</div>'\n\n        // Calculate tooltip position\n        let x = d.value * 100 / (60 * 60 * 24) + itemScale(moment(d.date))\n        while (this.settings.width - x < (this.settings.tooltip_width + this.settings.tooltip_padding * 3)) {\n          x -= 10\n        }\n        let y = projectScale(d.name) + projectScale.bandwidth() / 2 + this.settings.tooltip_padding / 2\n\n        // Show tooltip\n        this.tooltip.html(tooltip_html)\n          .style('left', x + 'px')\n          .style('top', y + 'px')\n          .transition()\n          .duration(this.settings.transition_duration / 2)\n          .ease(d3.easeLinear)\n          .style('opacity', 1)\n      })\n      .on('mouseout', () => {\n        if (this.in_transition) { return }\n        this.hideTooltip()\n      })\n      .on('click', d => {\n        if (!!this.props.handler && typeof this.props.handler == 'function') {\n          this.props.handler(d)\n        }\n      })\n      .transition()\n      .delay(() => {\n        return (Math.cos(Math.PI * Math.random()) + 1) * this.settings.transition_duration\n      })\n      .duration(() => {\n        return this.settings.transition_duration\n      })\n      .ease(d3.easeLinear)\n      .style('opacity', 0.5)\n      .call((transition, callback) => {\n        if (transition.empty()) {\n          callback()\n        }\n        let n = 0\n        transition\n          .each(() => ++n)\n          .on('end', function() {\n            if (!--n) {\n              callback.apply(this, arguments)\n            }\n          })\n      }, () => {\n        this.in_transition = false\n      })\n\n    // Add time labels\n    let timeLabels = d3.timeHours(\n      moment(this.selected.date).startOf('day'),\n      moment(this.selected.date).endOf('day')\n    )\n    let timeScale = d3.scaleTime()\n      .range([this.settings.label_padding * 2, this.settings.width])\n      .domain([0, timeLabels.length])\n    this.labels.selectAll('.label-time').remove()\n    this.labels.selectAll('.label-time')\n      .data(timeLabels)\n      .enter()\n      .append('text')\n      .attr('class', 'label label-time')\n      .style('cursor', 'pointer')\n      .style('fill', 'rgb(170, 170, 170)')\n      .attr('font-size', () => {\n        return Math.floor(this.settings.label_padding / 3) + 'px'\n      })\n      .text(d => {\n        return moment(d).format('HH:mm')\n      })\n      .attr('x', (d, i) => {\n        return timeScale(i)\n      })\n      .attr('y', this.settings.label_padding / 2)\n      .on('mouseenter', d => {\n        if (this.in_transition) { return }\n\n        let selected = itemScale(moment(d))\n        this.items.selectAll('.item-block')\n          .transition()\n          .duration(this.settings.transition_duration)\n          .ease(d3.easeLinear)\n          .style('opacity', d => {\n            let start = itemScale(moment(d.date))\n            let end = itemScale(moment(d.date).add(d.value, 'seconds'))\n            return (selected >= start && selected <= end) ? 1 : 0.1\n          })\n      })\n      .on('mouseout', () => {\n        if (this.in_transition) { return }\n\n        this.items.selectAll('.item-block')\n          .transition()\n          .duration(this.settings.transition_duration)\n          .ease(d3.easeLinear)\n          .style('opacity', 0.5)\n      })\n\n    // Add project labels\n    let label_padding = this.settings.label_padding\n    this.labels.selectAll('.label-project').remove()\n    this.labels.selectAll('.label-project')\n      .data(project_labels)\n      .enter()\n      .append('text')\n      .attr('class', 'label label-project')\n      .style('cursor', 'pointer')\n      .style('fill', 'rgb(170, 170, 170)')\n      .attr('x', this.settings.gutter)\n      .attr('y', d => {\n        return projectScale(d) + projectScale.bandwidth() / 2\n      })\n      .attr('min-height', () => {\n        return projectScale.bandwidth()\n      })\n      .style('text-anchor', 'left')\n      .attr('font-size', () => {\n        return Math.floor(this.settings.label_padding / 3) + 'px'\n      })\n      .text(d => d)\n      .each(function() {\n        let obj = d3.select(this),\n          text_length = obj.node().getComputedTextLength(),\n          text = obj.text()\n        while (text_length > (label_padding * 1.5) && text.length > 0) {\n          text = text.slice(0, -1)\n          obj.text(text + '...')\n          text_length = obj.node().getComputedTextLength()\n        }\n      })\n      .on('mouseenter', project => {\n        if (this.in_transition) { return }\n\n        this.items.selectAll('.item-block')\n          .transition()\n          .duration(this.settings.transition_duration)\n          .ease(d3.easeLinear)\n          .style('opacity', d => {\n            return (d.name === project) ? 1 : 0.1\n          })\n      })\n      .on('mouseout', () => {\n        if (this.in_transition) { return }\n\n        this.items.selectAll('.item-block')\n          .transition()\n          .duration(this.settings.transition_duration)\n          .ease(d3.easeLinear)\n          .style('opacity', 0.5)\n      })\n\n    // Add button to switch back to previous overview\n    this.drawButton()\n  }\n\n\n  /**\n   * Draw the button for navigation purposes\n   */\n  drawButton() {\n    this.buttons.selectAll('.button').remove()\n    let button = this.buttons.append('g')\n      .attr('class', 'button button-back')\n      .style('cursor', 'pointer')\n      .attr('fill', 'transparent')\n      .style('opacity', 0)\n      .style('stroke-width', 2)\n      .style('stroke', 'rgb(170, 170, 170)')\n      .on('click', () => {\n        if (this.in_transition) { return }\n\n        // Set transition boolean\n        this.in_transition = true\n\n        // Clean the canvas from whichever overview type was on\n        if (this.overview === 'year') {\n          this.removeYearOverview()\n        } else if (this.overview === 'month') {\n          this.removeMonthOverview()\n        } else if (this.overview === 'week') {\n          this.removeWeekOverview()\n        } else if (this.overview === 'day') {\n          this.removeDayOverview()\n        }\n\n        // Redraw the chart\n        this.history.pop()\n        this.overview = this.history.pop()\n        this.drawChart()\n      })\n    button.append('circle')\n      .attr('cx', this.settings.label_padding / 2.25)\n      .attr('cy', this.settings.label_padding / 2.5)\n      .attr('r', this.settings.item_size / 2)\n    button.append('text')\n      .style('stroke-width', 1)\n      .style('text-anchor', 'middle')\n      .style('fill', 'rgb(170, 170, 170)')\n      .attr('x', this.settings.label_padding / 2.25)\n      .attr('y', this.settings.label_padding / 2.5)\n      .attr('dy', () => {\n        return Math.floor(this.settings.width / 100) / 3\n      })\n      .attr('font-size', () => {\n        return Math.floor(this.settings.label_padding / 3) + 'px'\n      })\n      .html('&#x2190')\n    button.transition()\n      .duration(this.settings.transition_duration)\n      .ease(d3.easeLinear)\n      .style('opacity', 1)\n  }\n\n\n  /**\n   * Transition and remove items and labels related to global overview\n   */\n  removeGlobalOverview() {\n    this.items.selectAll('.item-block-year')\n      .transition()\n      .duration(this.settings.transition_duration)\n      .ease(d3.easeLinear)\n      .style('opacity', 0)\n      .remove()\n    this.labels.selectAll('.label-year').remove()\n  }\n\n\n  /**\n   * Transition and remove items and labels related to year overview\n   */\n  removeYearOverview() {\n    this.items.selectAll('.item-circle')\n      .transition()\n      .duration(this.settings.transition_duration)\n      .ease(d3.easeLinear)\n      .style('opacity', 0)\n      .remove()\n    this.labels.selectAll('.label-day').remove()\n    this.labels.selectAll('.label-month').remove()\n    this.hideBackButton()\n  }\n\n\n  /**\n   * Transition and remove items and labels related to month overview\n   */\n  removeMonthOverview() {\n    this.items.selectAll('.item-block-month').selectAll('.item-block-rect')\n      .transition()\n      .duration(this.settings.transition_duration)\n      .ease(d3.easeLinear)\n      .style('opacity', 0)\n      .attr('x', (d, i) => {\n        return (i % 2 === 0) ? -this.settings.width / 3 : this.settings.width / 3\n      })\n      .remove()\n    this.labels.selectAll('.label-day').remove()\n    this.labels.selectAll('.label-week').remove()\n    this.hideBackButton()\n  }\n\n\n  /**\n   * Transition and remove items and labels related to week overview\n   */\n  removeWeekOverview() {\n    this.items.selectAll('.item-block-week').selectAll('.item-block-rect')\n      .transition()\n      .duration(this.settings.transition_duration)\n      .ease(d3.easeLinear)\n      .style('opacity', 0)\n      .attr('x', (d, i) => {\n        return (i % 2 === 0) ? -this.settings.width / 3 : this.settings.width / 3\n      })\n      .remove()\n    this.labels.selectAll('.label-day').remove()\n    this.labels.selectAll('.label-week').remove()\n    this.hideBackButton()\n  }\n\n\n  /**\n   * Transition and remove items and labels related to daily overview\n   */\n  removeDayOverview() {\n    this.items.selectAll('.item-block')\n      .transition()\n      .duration(this.settings.transition_duration)\n      .ease(d3.easeLinear)\n      .style('opacity', 0)\n      .attr('x', (d, i) => {\n        return (i % 2 === 0) ? -this.settings.width / 3 : this.settings.width / 3\n      })\n      .remove()\n    this.labels.selectAll('.label-time').remove()\n    this.labels.selectAll('.label-project').remove()\n    this.hideBackButton()\n  }\n\n\n  /**\n   * Helper function to hide the tooltip\n   */\n  hideTooltip() {\n    this.tooltip.transition()\n      .duration(this.settings.transition_duration / 2)\n      .ease(d3.easeLinear)\n      .style('opacity', 0)\n  }\n\n\n  /**\n   * Helper function to hide the back button\n   */\n  hideBackButton() {\n    this.buttons.selectAll('.button')\n      .transition()\n      .duration(this.settings.transition_duration)\n      .ease(d3.easeLinear)\n      .style('opacity', 0)\n      .remove()\n  }\n\n\n  /**\n   * Helper function to convert seconds to a human readable format\n   * @param seconds Integer\n   */\n  formatTime(seconds) {\n    let hours = Math.floor(seconds / 3600)\n    let minutes = Math.floor((seconds - (hours * 3600)) / 60)\n    let time = ''\n    if (hours > 0) {\n      time += hours === 1 ? '1 hour ' : hours + ' hours '\n    }\n    if (minutes > 0) {\n      time += minutes === 1 ? '1 minute' : minutes + ' minutes'\n    }\n    if (hours === 0 && minutes === 0) {\n      time = Math.round(seconds) + ' seconds'\n    }\n    return time\n  }\n\n\n  render() {\n    return (\n      <div id='calendar-heatmap'\n        className={styles.calendarHeatmap}\n        ref={elem => {this.container = elem}}>\n      </div>\n    )\n  }\n}\n\nCalendarHeatmap.defaultProps = {\n  data: [],\n  overview: 'year',\n  color: '#ff4500',\n  handler: undefined,\n}\n\nexport default CalendarHeatmap\n","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js?modules&importLoaders=true!./calendar-heatmap.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js?modules&importLoaders=true!./calendar-heatmap.css\", function() {\n\t\t\tvar newContent = require(\"!!../node_modules/css-loader/dist/cjs.js?modules&importLoaders=true!./calendar-heatmap.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(true);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._3CHw8qXDneiVioUdRHMju8 {\\n  font-family: Helvetica, Arial, sans-serif;\\n  user-select: none;\\n  -ms-user-select: none;\\n  -moz-user-select: none;\\n  -webkit-user-select: none;\\n}\\n._3CHw8qXDneiVioUdRHMju8 ._3H8Pw8lhDulhwo-uLcObQx {\\n  pointer-events: none;\\n  position: absolute;\\n  z-index: 9999;\\n  width: 250px;\\n  max-width: 250px;\\n  overflow: hidden;\\n  padding: 15px;\\n  font-size: 12px;\\n  text-align: left;\\n  line-height: 14px;\\n  color: rgb(51, 51, 51);\\n  font-family: Helvetica, arial, 'Open Sans', sans-serif;\\n  background: rgba(255, 255, 255, 0.75);\\n}\\n._3CHw8qXDneiVioUdRHMju8 ._3H8Pw8lhDulhwo-uLcObQx ._3BoZReSmADOwNg8meDWI8X strong {\\n  display: inline-block;\\n  width: 250px;\\n}\\n._3CHw8qXDneiVioUdRHMju8 ._3H8Pw8lhDulhwo-uLcObQx span {\\n  display: inline-block;\\n  width: 50%;\\n  padding-right: 10px;\\n  box-sizing: border-box;\\n}\\n._3CHw8qXDneiVioUdRHMju8 ._3H8Pw8lhDulhwo-uLcObQx span,\\n._3CHw8qXDneiVioUdRHMju8 ._3H8Pw8lhDulhwo-uLcObQx ._3BoZReSmADOwNg8meDWI8X strong {\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"calendar-heatmap.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,yCAAyC;EACzC,iBAAiB;EACjB,qBAAqB;EACrB,sBAAsB;EACtB,yBAAyB;AAC3B;AACA;EACE,oBAAoB;EACpB,kBAAkB;EAClB,aAAa;EACb,YAAY;EACZ,gBAAgB;EAChB,gBAAgB;EAChB,aAAa;EACb,eAAe;EACf,gBAAgB;EAChB,iBAAiB;EACjB,sBAAsB;EACtB,sDAAsD;EACtD,qCAAqC;AACvC;AACA;EACE,qBAAqB;EACrB,YAAY;AACd;AACA;EACE,qBAAqB;EACrB,UAAU;EACV,mBAAmB;EACnB,sBAAsB;AACxB;AACA;;EAEE,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;AACzB\",\"file\":\"calendar-heatmap.css\",\"sourcesContent\":[\".calendarHeatmap {\\n  font-family: Helvetica, Arial, sans-serif;\\n  user-select: none;\\n  -ms-user-select: none;\\n  -moz-user-select: none;\\n  -webkit-user-select: none;\\n}\\n.calendarHeatmap .heatmapTooltip {\\n  pointer-events: none;\\n  position: absolute;\\n  z-index: 9999;\\n  width: 250px;\\n  max-width: 250px;\\n  overflow: hidden;\\n  padding: 15px;\\n  font-size: 12px;\\n  text-align: left;\\n  line-height: 14px;\\n  color: rgb(51, 51, 51);\\n  font-family: Helvetica, arial, 'Open Sans', sans-serif;\\n  background: rgba(255, 255, 255, 0.75);\\n}\\n.calendarHeatmap .heatmapTooltip .header strong {\\n  display: inline-block;\\n  width: 250px;\\n}\\n.calendarHeatmap .heatmapTooltip span {\\n  display: inline-block;\\n  width: 50%;\\n  padding-right: 10px;\\n  box-sizing: border-box;\\n}\\n.calendarHeatmap .heatmapTooltip span,\\n.calendarHeatmap .heatmapTooltip .header strong {\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\"]}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"calendarHeatmap\": \"_3CHw8qXDneiVioUdRHMju8\",\n\t\"heatmapTooltip\": \"_3H8Pw8lhDulhwo-uLcObQx\",\n\t\"header\": \"_3BoZReSmADOwNg8meDWI8X\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(selector) {\n\t\tif (typeof memo[selector] === \"undefined\") {\n\t\t\tvar styleTarget = fn.call(this, selector);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[selector] = styleTarget;\n\t\t}\n\t\treturn memo[selector]\n\t};\n})(function (target) {\n\treturn document.querySelector(target)\n});\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n\tif (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertInto + \" \" + options.insertAt.before);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\toptions.attrs.type = \"text/css\";\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}