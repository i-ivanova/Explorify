{"ast":null,"code":"import'./App.css';import CalendarHeatmap from\"reactjs-calendar-heatmap\";import React from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function groupBy(rawData,key){return rawData.reduce(function(previousVal,currentVal){(previousVal[currentVal[key]]=previousVal[currentVal[key]]||[]).push(currentVal);return previousVal;},{});};function App(){var red=\"#8a0d0d\";var overview=\"year\";var printFn=function printFn(val){// console.log(val);\n};var data=require(\"./data/StreamingHistoryDesi.json\");var rawData=data.map(function(elem){var entry={};entry.date=elem.endTime.split(\" \")[0];entry.msPlayed=elem.msPlayed;return entry;});var filteredData=Object.values(groupBy(rawData,\"date\"));var streamingData=filteredData.map(function(day){var date=day[0][\"date\"];day=day.reduce(function(prev,cur){prev[\"totalTracks\"]=prev[\"totalTracks\"]+1;prev[\"total\"]=prev[\"total\"]+cur[\"msPlayed\"];return prev;},{\"totalTracks\":0,\"total\":0,\"details\":[],\"summary\":[{\"name\":\"test\"}]});day.date=date;return day;});// console.log(streamingData)\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[console.log(streamingData),/*#__PURE__*/_jsx(CalendarHeatmap,{data:streamingData,color:red,overview:overview,handler:printFn})]})});}export default App;","map":{"version":3,"sources":["/home/iivanova/Desktop/UBC_2021_2022/CPSC547_information_visualization/project/explorify/src/App.js"],"names":["CalendarHeatmap","React","groupBy","rawData","key","reduce","previousVal","currentVal","push","App","red","overview","printFn","val","data","require","map","elem","entry","date","endTime","split","msPlayed","filteredData","Object","values","streamingData","day","prev","cur","console","log"],"mappings":"AAAA,MAAO,WAAP,CACA,MAAOA,CAAAA,eAAP,KAA6B,0BAA7B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,QAASC,CAAAA,OAAT,CAAiBC,OAAjB,CAA0BC,GAA1B,CAA+B,CAC3B,MAAOD,CAAAA,OAAO,CAACE,MAAR,CAAe,SAASC,WAAT,CAAsBC,UAAtB,CAAkC,CACpD,CAACD,WAAW,CAACC,UAAU,CAACH,GAAD,CAAX,CAAX,CAA+BE,WAAW,CAACC,UAAU,CAACH,GAAD,CAAX,CAAX,EAAgC,EAAhE,EAAoEI,IAApE,CAAyED,UAAzE,EACA,MAAOD,CAAAA,WAAP,CACH,CAHM,CAGJ,EAHI,CAAP,CAIH,EAED,QAASG,CAAAA,GAAT,EAAe,CACX,GAAMC,CAAAA,GAAG,CAAG,SAAZ,CACA,GAAMC,CAAAA,QAAQ,CAAG,MAAjB,CACA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAAUC,GAAV,CAAe,CAC3B;AACH,CAFD,CAIA,GAAMC,CAAAA,IAAI,CAAGC,OAAO,CAAC,kCAAD,CAApB,CACA,GAAMZ,CAAAA,OAAO,CAAGW,IAAI,CAACE,GAAL,CAAS,SAAUC,IAAV,CAAgB,CACrC,GAAIC,CAAAA,KAAK,CAAG,EAAZ,CACAA,KAAK,CAACC,IAAN,CAAaF,IAAI,CAACG,OAAL,CAAaC,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,CAAb,CACAH,KAAK,CAACI,QAAN,CAAiBL,IAAI,CAACK,QAAtB,CACA,MAAOJ,CAAAA,KAAP,CACH,CALe,CAAhB,CAOA,GAAIK,CAAAA,YAAY,CAAGC,MAAM,CAACC,MAAP,CAAcvB,OAAO,CAACC,OAAD,CAAU,MAAV,CAArB,CAAnB,CAEA,GAAMuB,CAAAA,aAAa,CAAGH,YAAY,CAACP,GAAb,CAAiB,SAAUW,GAAV,CAAe,CAClD,GAAIR,CAAAA,IAAI,CAAGQ,GAAG,CAAC,CAAD,CAAH,CAAO,MAAP,CAAX,CACAA,GAAG,CAAGA,GAAG,CAACtB,MAAJ,CAAW,SAAUuB,IAAV,CAAgBC,GAAhB,CAAqB,CAClCD,IAAI,CAAC,aAAD,CAAJ,CAAsBA,IAAI,CAAC,aAAD,CAAJ,CAAsB,CAA5C,CACAA,IAAI,CAAC,OAAD,CAAJ,CAAgBA,IAAI,CAAC,OAAD,CAAJ,CAAgBC,GAAG,CAAC,UAAD,CAAnC,CACA,MAAOD,CAAAA,IAAP,CACH,CAJK,CAIH,CAAC,cAAe,CAAhB,CAAmB,QAAS,CAA5B,CAA+B,UAAW,EAA1C,CAA8C,UAAW,CAAC,CAAC,OAAQ,MAAT,CAAD,CAAzD,CAJG,CAAN,CAKAD,GAAG,CAACR,IAAJ,CAAWA,IAAX,CACA,MAAOQ,CAAAA,GAAP,CACH,CATqB,CAAtB,CAUA;AAGA,mBACA,YAAK,SAAS,CAAC,KAAf,uBACI,gBAAQ,SAAS,CAAC,YAAlB,WACSG,OAAO,CAACC,GAAR,CAAYL,aAAZ,CADT,cAGI,KAAC,eAAD,EACE,IAAI,CAAEA,aADR,CAEE,KAAK,CAAEhB,GAFT,CAGE,QAAQ,CAAEC,QAHZ,CAIE,OAAO,CAAEC,OAJX,EAHJ,GADJ,EADA,CAcH,CAED,cAAeH,CAAAA,GAAf","sourcesContent":["import './App.css';\nimport CalendarHeatmap  from \"reactjs-calendar-heatmap\";\nimport React from \"react\";\n\nfunction groupBy(rawData, key) {\n    return rawData.reduce(function(previousVal, currentVal) {\n        (previousVal[currentVal[key]] = previousVal[currentVal[key]] || []).push(currentVal);\n        return previousVal;\n    }, {});\n};\n\nfunction App() {\n    const red = \"#8a0d0d\";\n    const overview = \"year\";\n    const printFn = function (val) {\n        // console.log(val);\n    };\n\n    const data = require(\"./data/StreamingHistoryDesi.json\");\n    const rawData = data.map(function (elem) {\n        let entry = {}\n        entry.date = elem.endTime.split(\" \")[0];\n        entry.msPlayed = elem.msPlayed;\n        return entry;\n    });\n\n    let filteredData = Object.values(groupBy(rawData, \"date\"));\n\n    const streamingData = filteredData.map(function (day) {\n        let date = day[0][\"date\"];\n        day = day.reduce(function (prev, cur) {\n            prev[\"totalTracks\"] = prev[\"totalTracks\"] + 1;\n            prev[\"total\"] = prev[\"total\"] + cur[\"msPlayed\"];\n            return prev;\n        }, {\"totalTracks\": 0, \"total\": 0, \"details\": [], \"summary\": [{\"name\": \"test\"}]});\n        day.date = date;\n        return day;\n    });\n    // console.log(streamingData)\n\n\n    return (\n    <div className=\"App\">\n        <header className=\"App-header\" >\n            {    console.log(streamingData)\n            }\n            <CalendarHeatmap\n              data={streamingData}\n              color={red}\n              overview={overview}\n              handler={printFn}>\n          </CalendarHeatmap>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}